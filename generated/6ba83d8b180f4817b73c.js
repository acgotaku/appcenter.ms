(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1310:function(e,t,o){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)},r=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.AccountsManagementServiceApi=void 0;var i=o(13);function a(e,t,o,n){return void 0===n&&(n={}),n.timeout,i.apiGateway.call(e,t,o).then((function(e){return{statusCode:200,body:e}}))}function s(e){return Object.assign.apply(Object,r([{}],Object.keys(e).filter((function(t){return e[t]})).map((function(t){var o;return(o={})[t]=e[t].toString(),o})),!1))}function u(e,t,o,n){void 0===n&&(n=!0)}function c(e){return{new_org_admin_id:e.newOrgAdminId,issue_id:e.issueId,assigning_reason:e.assigningReason,responsible_admin_id:e.responsibleAdminId}}function l(e){return{role:e.role}}function p(e){return{name:e.name}}function d(e){return{name:e.name}}function f(e){return{name:e.name}}function h(e){return{appId:e.app_id,userId:e.user_id,permissions:e.permissions?e.permissions.map((function(e){return e})):void 0,origin:e.origin,sourceType:e.source_type,sourceId:e.source_id}}function g(e){return{description:e.description,display_name:e.displayName,release_type:e.releaseType,name:e.name,icon_url:e.iconUrl,icon_asset_id:e.iconAssetId}}function b(e){return{description:e.description,release_type:e.releaseType,display_name:e.displayName,name:e.name,os:e.os,platform:e.platform}}function m(e){return{repoProvider:e.repo_provider,repoUrl:e.repo_url}}function y(e){return{subscription_id:e.subscriptionId}}function v(e){return{is_billing:e.isBilling}}function S(e){return{subscriptionId:e.subscription_id,tenantId:e.tenant_id,subscriptionName:e.subscription_name,isBilling:e.is_billing,isBillable:e.is_billable,isMicrosoftInternal:e.is_microsoft_internal}}function _(e){return{aadGroupId:e.aad_group_id,displayName:e.display_name}}function P(e){return{id:e.id,aadGroupId:e.aad_group_id,displayName:e.display_name}}function C(e){return{aad_groups:e.aadGroups?e.aadGroups.map((function(e){return _(e)})):void 0}}function O(e){return{id:e.id,aadGroupId:e.aad_group_id,displayName:e.display_name,isAadGroup:e.is_aad_group,distributionGroupName:e.distribution_group_name}}function w(e){return{aad_group_ids:e.aadGroupIds?e.aadGroupIds.map((function(e){return e})):void 0}}function j(e){return{code:e.code,message:e.message,status:e.status,aadGroupId:e.aad_group_id}}function B(e){return{apps:e.apps?e.apps.map((function(e){return p(e)})):void 0}}function E(e){return{apps:e.apps?e.apps.map((function(e){return f(e)})):void 0}}function T(e){return{name:e.name,is_public:e.isPublic}}function A(e){return{name:e.name,display_name:e.displayName}}function D(e){return{id:e.id,name:e.name,displayName:e.display_name,origin:e.origin,isPublic:e.is_public}}function R(e){return{code:e.code,message:e.message,status:e.status,userEmail:e.user_email}}function I(e){return{id:e.id,avatarUrl:e.avatar_url,canChangePassword:e.can_change_password,displayName:e.display_name,email:e.email,invitePending:e.invite_pending,name:e.name}}function N(e){return{code:e.code,invitePending:e.invite_pending,message:e.message,status:e.status,userEmail:e.user_email}}function F(e){return{user_emails:e.userEmails?e.userEmails.map((function(e){return e})):void 0}}function V(e){return{featureFlags:e.feature_flags?e.feature_flags.map((function(e){return e})):void 0}}function x(e){return{description:e.description,display_name:e.displayName,state:e.state}}function U(e){return{description:e.description,displayName:e.display_name,name:e.name,state:e.state,createdAt:e.created_at,updatedAt:e.updated_at}}function L(e){return{admin_role:e.adminRole}}function k(e){return{display_name:e.displayName,name:e.name}}function M(e){return{id:e.id,displayName:e.display_name,name:e.name,avatarUrl:e.avatar_url,origin:e.origin,createdAt:e.created_at,updatedAt:e.updated_at}}function G(e){return{role:e.role}}function W(e){return{email:e.email,displayName:e.display_name,joinedAt:e.joined_at,name:e.name,role:e.role}}function z(e){return{name:e.name,messageCount:e.message_count}}function X(e){return{permissions:e.permissions}}function H(e){return{display_name:e.displayName,name:e.name,description:e.description}}function J(e){return{id:e.id,name:e.name,displayName:e.display_name,description:e.description}}function q(e){return{display_name:e.displayName}}function K(e){return{email:e.email,displayName:e.display_name,name:e.name,role:e.role}}function $(e){return{new_owner_id:e.newOwnerId,issue_id:e.issueId,transfer_reason:e.transferReason,responsible_admin_id:e.responsibleAdminId}}function Y(e){return{permissions:e.permissions}}function Z(e){return{user_email:e.userEmail,role:e.role}}function Q(e){return{user_email:e.userEmail}}function ee(e){return{permissions:e.permissions}}function te(e){return{id:e.id,avatarUrl:e.avatar_url,canChangePassword:e.can_change_password,displayName:e.display_name,email:e.email,name:e.name,permissions:e.permissions,origin:e.origin}}function oe(e){return{providerName:e.provider_name,origin:e.origin}}function ne(e){return{value:e.value}}function re(e){return{id:e.id,description:e.description,displayName:e.display_name,releaseType:e.release_type,iconUrl:e.icon_url,iconSource:e.icon_source,name:e.name,os:e.os,owner:e.owner,appSecret:e.app_secret,azureSubscription:e.azure_subscription,platform:e.platform,origin:e.origin,createdAt:e.created_at,updatedAt:e.updated_at,memberPermissions:e.memberPermissions}}function ie(e){return{id:e.id,description:e.description,displayName:e.display_name,releaseType:e.release_type,iconUrl:e.icon_url,iconSource:e.icon_source,name:e.name,os:e.os,owner:e.owner,microsoftInternal:e.microsoft_internal,permissions:e.permissions}}function ae(e){return{id:e.id,avatarUrl:e.avatar_url,canChangePassword:e.can_change_password,displayName:e.display_name,email:e.email,name:e.name,permissions:e.permissions,origin:e.origin,role:e.role}}function se(e){return{id:e.id,avatarUrl:e.avatar_url,canChangePassword:e.can_change_password,displayName:e.display_name,email:e.email,name:e.name,permissions:e.permissions,origin:e.origin,featureFlags:e.feature_flags?e.feature_flags.map((function(e){return e})):void 0,adminRole:e.admin_role,settings:e.settings}}function ue(e){return{id:e.id,description:e.description,displayName:e.display_name,releaseType:e.release_type,iconUrl:e.icon_url,iconSource:e.icon_source,name:e.name,os:e.os,owner:e.owner,appSecret:e.app_secret,azureSubscription:e.azure_subscription,platform:e.platform,origin:e.origin,createdAt:e.created_at,updatedAt:e.updated_at,memberPermissions:e.memberPermissions,featureFlags:e.feature_flags?e.feature_flags.map((function(e){return e})):void 0,repositories:e.repositories?e.repositories.map((function(e){return m(e)})):void 0,userPermissions:e.user_permissions,cutoverFromHockeyappAt:e.cutover_from_hockeyapp_at}}function ce(e){return{id:e.id,description:e.description,displayName:e.display_name,releaseType:e.release_type,iconUrl:e.icon_url,iconSource:e.icon_source,name:e.name,os:e.os,owner:e.owner,appSecret:e.app_secret,azureSubscription:e.azure_subscription,platform:e.platform,origin:e.origin,createdAt:e.created_at,updatedAt:e.updated_at,memberPermissions:e.memberPermissions,teamPermissions:e.teamPermissions}}!function(e){e.acceptAllDistributionGroupInvitations=function(e,t,o){var r={params:s(n(n({},{}),{})),body:t};return Object.assign(r,o),a("POST","/v0.1/user/invitations/distribution_groups/accept",r,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.acceptAppInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={invitation_token:r.invitationToken},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/user/invitations/apps/{invitation_token}/accept",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.acceptInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={invitation_id:r.invitationId},n(n({},i),{}))),body:t&&l(t)};return Object.assign(c,o),a("POST","/v0.1/invitations/{invitation_id}/accept",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.acceptOrgInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={invitation_token:r.invitationToken},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/user/invitations/orgs/{invitation_token}/accept",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.addAadGroupsDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:C(t)};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}/groups",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return P(e)}))}))},e.addAadGroupsSharedDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:C(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}/groups",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return P(e)}))}))},e.addAppTeams=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,team_name:r.teamName},n(n({},i),{}))),body:d(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/teams/{team_name}/apps",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return ce(e)}))},e.addAppsDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:B(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}/apps",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.addOrganizationAdminManagement=function(e,t,o){var r,i,l={params:s((r=e,i={org_id:r.orgId},n(n({},i),{}))),body:c(t)};return Object.assign(l,o),a("POST","/v0.1/management/organizations/{org_id}/admins",l,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.addToAppFeatureFlags=function(e,t,o){var r,i,c={params:s((r=e,i={feature_name:r.featureName,app_id:r.appId},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/management/features/{feature_name}/apps/{app_id}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.addToOrganizationFeatureFlags=function(e,t,o){var r,i,c={params:s((r=e,i={feature_name:r.featureName,org_id:r.orgId},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/management/features/{feature_name}/organizations/{org_id}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.addUserDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:F(t)};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}/members",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return N(e)}))}))},e.addUserFeatureFlags=function(e,t,o){var r,i,c={params:s((r=e,i={user_id:r.userId,feature_name:r.featureName},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/management/features/{feature_name}/users/{user_id}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.addUserTeams=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,team_name:r.teamName},n(n({},i),{}))),body:Q(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/teams/{team_name}/users",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return K(e)}))},e.addUsersForOrgDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:F(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}/members",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return N(e)}))}))},e.bulkDeleteAppsDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:E(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}/apps/bulk_delete",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.bulkDeleteUsersDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:F(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}/members/bulk_delete",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.checkNameAvailabilityOrganizations=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/availability",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){var t=function(e){return{available:e.available,name:e.name}}(e);return t}))},e.checkNameAvailabilityUsers=function(e,t){var o,r,i={params:s((o=e,r={name:o.name},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/public/user/{name}/availability",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){var t=function(e){return{available:e.available,name:e.name}}(e);return t}))},e.closeAccountAccounts=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("DELETE","/v0.1/close-account",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.createAppInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName},n(n({},i),{}))),body:t&&Z(t)};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/invitations",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.createApps=function(e,t,o){var r={params:s(n(n({},{}),{})),body:b(t)};return Object.assign(r,o),a("POST","/v0.1/apps",r,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return re(e)}))},e.createByEmailAppInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,user_email:r.userEmail},n(n({},i),{}))),body:t&&l(t)};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/invitations/{user_email}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.createDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName},n(n({},i),{}))),body:A(t)};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/distribution_groups",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return D(e)}))},e.createFeatureFlags=function(e,t,o){var r,i={params:s(n(n({},{}),{})),body:(r=t,{name:r.name,display_name:r.displayName,state:r.state,description:r.description})};return Object.assign(i,o),a("POST","/v0.1/management/features",i,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return U(e)}))},e.createForOrgApps=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName},n(n({},i),{}))),body:b(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/apps",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return re(e)}))},e.createForOrgDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName},n(n({},i),{}))),body:A(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/distribution_groups",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return D(e)}))},e.createOrUpdateOrganizations=function(e,t,o){var r,i={params:s(n(n({},{}),{})),body:(r=t,{display_name:r.displayName,name:r.name})};return Object.assign(i,o),a("POST","/v0.1/orgs",i,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return M(e)}))},e.createOrUpdateReturnFeatureFlagsApps=function(e,t,o){var r={params:s(n(n({},{}),{})),body:b(t)};return Object.assign(r,o),a("POST","/v0.1/apps_features",r,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return ue(e)}))},e.createOrgInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName},n(n({},i),{}))),body:Z(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/invitations",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.createTeamTeams=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName},n(n({},i),{}))),body:H(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/teams",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return J(e)}))}))},e.deleteAppInvitations=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName,user_email:o.userEmail},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/apps/{owner_name}/{app_name}/invitations/{user_email}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteApps=function(e,t){var o,r,i={params:s((o=e,r={app_name:o.appName,owner_name:o.ownerName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/apps/{owner_name}/{app_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteAvatarApps=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/apps/{owner_name}/{app_name}/avatar",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return re(e)}))},e.deleteAvatarOrganization=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/orgs/{org_name}/avatar",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return M(e)}))},e.deleteDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={app_name:o.appName,owner_name:o.ownerName,distribution_group_name:o.distributionGroupName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteFeatureFlags=function(e,t){var o,r,i={params:s((o=e,r={feature_name:o.featureName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/management/features/{feature_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteForAppAzureSubscription=function(e,t){var o,r,i={params:s((o=e,r={azure_subscription_id:o.azureSubscriptionId,owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/apps/{owner_name}/{app_name}/azure_subscriptions/{azure_subscription_id}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteForOrgAzureSubscriptions=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,azure_subscription_id:o.azureSubscriptionId},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/orgs/{org_name}/azure_subscriptions/{azure_subscription_id}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteForOrgDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,distribution_group_name:o.distributionGroupName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteForUserAzureSubscriptions=function(e,t){var o,r,i={params:s((o=e,r={azure_subscription_id:o.azureSubscriptionId},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/azure_subscriptions/{azure_subscription_id}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteOrgInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName},n(n({},i),{}))),body:Q(t)};return Object.assign(c,o),a("DELETE","/v0.1/orgs/{org_name}/invitations",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteOrganizations=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/orgs/{org_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteTeams=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,team_name:o.teamName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/orgs/{org_name}/teams/{team_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.deleteUserDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:F(t)};return Object.assign(c,o),a("DELETE","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}/members",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return R(e)}))}))},e.detailsDistributionGroups=function(e,t){var o,r,i,c={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},i={users_limit:o.usersLimit},n(n({},r),i)))};return Object.assign(c,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/distribution_groups_details",c,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){var t=e.map((function(e){return function(e){return{id:e.id,name:e.name,displayName:e.display_name,origin:e.origin,isPublic:e.is_public,isShared:e.is_shared,totalAppsCount:e.total_apps_count,totalUserCount:e.total_user_count,notifiedUserCount:e.notified_user_count,groupType:e.group_type,users:e.users?e.users.map((function(e){return I(e)})):void 0}}(e)}));return t}))},e.detailsForOrgDistributionGroups=function(e,t){var o,r,i,c={params:s((o=e,r={org_name:o.orgName},i={apps_limit:o.appsLimit},n(n({},r),i)))};return Object.assign(c,t),a("GET","/v0.1/orgs/{org_name}/distribution_groups_details",c,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){var t=e.map((function(e){return function(e){return{id:e.id,name:e.name,displayName:e.display_name,origin:e.origin,isPublic:e.is_public,totalAppsCount:e.total_apps_count,totalUsersCount:e.total_users_count,apps:e.apps?e.apps.map((function(e){return re(e)})):void 0}}(e)}));return t}))},e.forTesterRoleApp=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/tester_apps/{owner_name}/{app_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return ie(e)}))},e.getAadGroupsDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName,distribution_group_name:o.distributionGroupName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}/groups",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return O(e)}))}))},e.getApps=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps/{owner_name}/{app_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return re(e)}))},e.getAppsDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,distribution_group_name:o.distributionGroupName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}/apps",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){var t=e.map((function(e){return function(e){return{id:e.id,description:e.description,displayName:e.display_name,releaseType:e.release_type,iconUrl:e.icon_url,iconSource:e.icon_source,name:e.name,os:e.os,owner:e.owner,platform:e.platform,origin:e.origin}}(e)}));return t}))},e.getDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName,distribution_group_name:o.distributionGroupName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return D(e)}))},e.getFeatureFlags=function(e,t){var o,r,i={params:s((o=e,r={feature_name:o.featureName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/management/features/{feature_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return U(e)}))},e.getForOrgDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,distribution_group_name:o.distributionGroupName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return D(e)}))},e.getForOrgUserApps=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,user_name:o.userName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/users/{user_name}/apps",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return re(e)}))}))},e.getForOrgUsers=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,user_name:o.userName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/users/{user_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return W(e)}))},e.getGroupSharedDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,distribution_group_name:o.distributionGroupName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}/groups",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return O(e)}))}))},e.getOrganizationOrganizations=function(e,t){var o,r,i,c={params:s((o=e,r={org_id:o.orgId},i={include_soft_deleted:o.includeSoftDeleted},n(n({},r),i)))};return Object.assign(c,t),a("GET","/v0.1/management/organizations/{org_id}",c,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){var t=function(e){return{id:e.id,displayName:e.display_name,name:e.name,avatarUrl:e.avatar_url,origin:e.origin,createdAt:e.created_at,updatedAt:e.updated_at,featureFlags:e.feature_flags?e.feature_flags.map((function(e){return e})):void 0,email:e.email}}(e);return t}))},e.getOrganizations=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return M(e)}))},e.getServiceBusStatus=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/status_service_bus",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){var t;return{status:(t=e).status,subscriptions:t.subscriptions?t.subscriptions.map((function(e){return z(e)})):void 0}}))},e.getTeamTeams=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,team_name:o.teamName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/teams/{team_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return J(e)}))},e.getTeamsApps=function(e,t){var o,r,i={params:s((o=e,r={app_name:o.appName,owner_name:o.ownerName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/teams",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){var t=e.map((function(e){return function(e){return{id:e.id,name:e.name,displayName:e.display_name,description:e.description,permissions:e.permissions}}(e)}));return t}))},e.getUsers=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/user",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return te(e)}))},e.getUsersTeams=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,team_name:o.teamName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/teams/{team_name}/users",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return K(e)}))},e.getWithFeatureFlagsApps=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps_features/{owner_name}/{app_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return ue(e)}))},e.getWithFeatureFlagsUsers=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/user_features",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return se(e)}))},e.getWithoutDbStatus=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/status_without_db",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return{status:e.status}}))},e.linkForAppAzureSubscription=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName},n(n({},i),{}))),body:y(t)};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/azure_subscriptions",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.listAdministeredOrganizations=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/administeredOrgs",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return{organizations:e.organizations}}))},e.listAdminsManagement=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/management/users/admins",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return se(e)}))}))},e.listAllTeams=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/teams",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return J(e)}))}))},e.listAllTestersForOrgDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/testers",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){var t=e.map((function(e){return function(e){return{displayName:e.display_name,name:e.name,email:e.email}}(e)}));return t}))},e.listAppInvitations=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/invitations",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){var t=function(e){return{id:e.id,app:e.app,email:e.email,inviteType:e.invite_type,invitedBy:e.invited_by,isExistingUser:e.is_existing_user,permissions:e.permissions,appCount:e.app_count,distributionGroup:e.distribution_group}}(e);return t}))},e.listAppLocalFeatureFlags=function(e,t){var o,r,i={params:s((o=e,r={app_id:o.appId,user_id:o.userId},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/management/users/{user_id}/apps/{app_id}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return ue(e)}))},e.listAppLocalFeatureFlags_1=function(e,t){var o,r,i={params:s((o=e,r={app_id:o.appId},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/management/apps/{app_id}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return ue(e)}))},e.listAppUsersManagement=function(e,t){var o,r,i={params:s((o=e,r={app_id:o.appId},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/management/apps/{app_id}/users",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){var t=e.map((function(e){return function(e){return{appOrigin:e.app_origin,memberships:e.memberships?e.memberships.map((function(e){return h(e)})):void 0}}(e)}));return t}))},e.listApps=function(e,t){var o,r,i={params:s((o=e,r={$orderBy:o.orderBy},n(n({},{}),r)))};return Object.assign(i,t),a("GET","/v0.1/apps",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return re(e)}))}))},e.listAppsLocal=function(e,t){var o,r,i={params:s((o=e,r={app_ids:o.appIds},n(n({},{}),r)))};return Object.assign(i,t),a("GET","/v0.1/management/apps",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){var t=e.map((function(e){return function(e){return{appName:e.app_name,ownerDisplayName:e.owner_display_name}}(e)}));return t}))},e.listAppsTeams=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,team_name:o.teamName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/teams/{team_name}/apps",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return ce(e)}))}))},e.listCloseAccountOrganizationsAccounts=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/close-account",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return{id:(t=e).id,displayName:t.display_name,name:t.name,avatarUrl:t.avatar_url,origin:t.origin,createdAt:t.created_at,updatedAt:t.updated_at,collaboratorsCount:t.collaborators_count};var t}))}))},e.listDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/distribution_groups",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return D(e)}))}))},e.listFeatureFlags=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/management/features",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return U(e)}))}))},e.listFeatureFlags_2=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps_features/{owner_name}/{app_name}/features",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return V(e)}))},e.listFilteredApps=function(e,t){var o,r,i={params:s((o=e,r={query:o.query,include_soft_deleted:o.includeSoftDeleted},n(n({},{}),r)))};return Object.assign(i,t),a("GET","/v0.1/management/apps/search",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return re(e)}))}))},e.listFilteredOrganizations=function(e,t){var o,r,i={params:s((o=e,r={query:o.query},n(n({},{}),r)))};return Object.assign(i,t),a("GET","/v0.1/management/organizations/search",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return M(e)}))}))},e.listFilteredUsers=function(e,t){var o,r,i={params:s((o=e,r={query:o.query,include_soft_deleted:o.includeSoftDeleted},n(n({},{}),r)))};return Object.assign(i,t),a("GET","/v0.1/management/users/search",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return te(e)}))}))},e.listForAccountAzureSubscription=function(e,t){var o,r,i={params:s((o=e,r={account_id:o.accountId},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/management/accounts/{account_id}/azure_subscriptions",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return S(e)}))}))},e.listForAppAzureSubscription=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/azure_subscriptions",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return S(e)}))}))},e.listForOrgAadTenant=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/aad_tenant",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){var t=function(e){return{aadTenantId:e.aad_tenant_id,displayName:e.display_name}}(e);return t}))},e.listForOrgApps=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/apps",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return re(e)}))}))},e.listForOrgAzureSubscription=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/azure_subscriptions",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return S(e)}))}))},e.listForOrgDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/distribution_groups",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return D(e)}))}))},e.listForOrgUsers=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/users",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return W(e)}))}))},e.listForTesterRoleApps=function(e,t){var o,r,i={params:s((o=e,r={$orderBy:o.orderBy},n(n({},{}),r)))};return Object.assign(i,t),a("GET","/v0.1/tester_apps",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return ie(e)}))}))},e.listForTesterRoleOrganizations=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/tester_orgs",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return M(e)}))}))},e.listForUserAzureSubscription=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/azure_subscriptions",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return S(e)}))}))},e.listForUserFeatureFlags=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/user_features/features",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return V(e)}))},e.listInvitations=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/invitations",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return{invitationId:(t=e).invitation_id,invitedBy:t.invited_by,organization:t.organization,app:t.app};var t}))}))},e.listOrganizationAdminsManagement=function(e,t){var o,r,i={params:s((o=e,r={org_id:o.orgId},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/management/organizations/{org_id}/admins",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return ae(e)}))}))},e.listOrganizationAppsManagement=function(e,t){var o,r,i={params:s((o=e,r={org_id:o.orgId},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/management/organizations/{org_id}/apps",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return re(e)}))}))},e.listOrganizationDistributionGroupsManagement=function(e,t){var o,r,i={params:s((o=e,r={org_id:o.orgId},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/management/organizations/{org_id}/distribution_groups",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return D(e)}))}))},e.listOrganizationUsersManagement=function(e,t){var o,r,i={params:s((o=e,r={org_id:o.orgId},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/management/organizations/{org_id}/users",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return ae(e)}))}))},e.listOrganizations=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/orgs",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body}))},e.listPendingOrgInvitations=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/invitations",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){var t=e.map((function(e){return function(e){return{id:e.id,email:e.email,role:e.role}}(e)}));return t}))},e.listTestersApps=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/testers",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return te(e)}))}))},e.listUserAppsManagement=function(e,t){var o,r,i,c={params:s((o=e,r={user_id:o.userId},i={include_soft_deleted:o.includeSoftDeleted},n(n({},r),i)))};return Object.assign(c,t),a("GET","/v0.1/management/users/{user_id}/apps",c,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return re(e)}))}))},e.listUserLocalManagement=function(e,t){var o,r,i,c={params:s((o=e,r={user_id:o.userId},i={include_soft_deleted:o.includeSoftDeleted},n(n({},r),i)))};return Object.assign(c,t),a("GET","/v0.1/management/users/{user_id}",c,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){var t=function(e){return{id:e.id,avatarUrl:e.avatar_url,canChangePassword:e.can_change_password,displayName:e.display_name,email:e.email,name:e.name,permissions:e.permissions,origin:e.origin,featureFlags:e.feature_flags?e.feature_flags.map((function(e){return e})):void 0,adminRole:e.admin_role,settings:e.settings,updatedAt:e.updated_at,verified:e.verified,identityProviders:e.identity_providers?e.identity_providers.map((function(e){return oe(e)})):void 0}}(e);return t}))},e.listUsers=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/users",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return te(e)}))}))},e.listUsersDistributionGroups=function(e,t){var o,r,i,c={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName,distribution_group_name:o.distributionGroupName},i={exclude_pending_invitations:o.excludePendingInvitations},n(n({},r),i)))};return Object.assign(c,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}/members",c,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return I(e)}))}))},e.listUsersForOrgDistributionGroups=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,distribution_group_name:o.distributionGroupName},n(n({},r),{})))};return Object.assign(i,t),a("GET","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}/members",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return I(e)}))}))},e.listWithFeatureFlagsApps=function(e,t){var o,r,i={params:s((o=e,r={$orderBy:o.orderBy,include_tester_apps:o.includeTesterApps},n(n({},{}),r)))};return Object.assign(i,t),a("GET","/v0.1/apps_features",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return ue(e)}))}))},e.listWithUsersDistributionGroups=function(e,t){var o,r,i,c={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},i={users_limit:o.usersLimit},n(n({},r),i)))};return Object.assign(c,t),a("GET","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/views/include_users",c,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){var t=e.map((function(e){return function(e){return{id:e.id,name:e.name,totalUserCount:e.total_user_count,totalGroupsCount:e.total_groups_count,notifiedUserCount:e.notified_user_count,isPublic:e.is_public,users:e.users?e.users.map((function(e){return I(e)})):void 0,aadGroups:e.aad_groups?e.aad_groups.map((function(e){return P(e)})):void 0}}(e)}));return t}))},e.orgInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,email:r.email},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/invitations/{email}/revoke",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.patchForOrgAzureSubscription=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,azure_subscription_id:r.azureSubscriptionId},n(n({},i),{}))),body:v(t)};return Object.assign(c,o),a("PATCH","/v0.1/orgs/{org_name}/azure_subscriptions/{azure_subscription_id}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return S(e)}))},e.patchForOrgDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:t&&T(t)};return Object.assign(c,o),a("PATCH","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return D(e)}))},e.patchForUserAzureSubscription=function(e,t,o){var r,i,c={params:s((r=e,i={azure_subscription_id:r.azureSubscriptionId},n(n({},i),{}))),body:v(t)};return Object.assign(c,o),a("PATCH","/v0.1/azure_subscriptions/{azure_subscription_id}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return S(e)}))},e.putUsersSettings=function(e,t,o){var r,i,c={params:s((r=e,i={name:r.name},n(n({},i),{}))),body:ne(t)};return Object.assign(c,o),a("PUT","/v0.1/user/settings/{name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){var t=function(e){return{marketingOptIn:e.marketing_opt_in}}(e);return t}))},e.rejectAppInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={invitation_token:r.invitationToken},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/user/invitations/apps/{invitation_token}/reject",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.rejectInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={invitation_id:r.invitationId},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/invitations/{invitation_id}/reject",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.rejectOrgInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={invitation_token:r.invitationToken},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/user/invitations/orgs/{invitation_token}/reject",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.removeAppTeams=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,team_name:o.teamName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/orgs/{org_name}/teams/{team_name}/apps/{app_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.removeFeatureFromOrganizationFeatureFlags=function(e,t){var o,r,i={params:s((o=e,r={feature_name:o.featureName,org_id:o.orgId},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/management/features/{feature_name}/organizations/{org_id}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.removeFromAppFeatureFlags=function(e,t){var o,r,i={params:s((o=e,r={feature_name:o.featureName,app_id:o.appId},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/management/features/{feature_name}/apps/{app_id}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.removeFromOrgAadTenant=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/orgs/{org_name}/aad_tenant",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.removeFromOrgUsers=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,user_name:o.userName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/orgs/{org_name}/users/{user_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.removeGroupDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:w(t)};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}/groups/bulk_delete",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return j(e)}))}))},e.removeGroupSharedDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:w(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}/groups/bulk_delete",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return j(e)}))}))},e.removeUserApps=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName,user_email:o.userEmail},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/apps/{owner_name}/{app_name}/users/{user_email}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.removeUserDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:F(t)};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}/members/bulk_delete",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return R(e)}))}))},e.removeUserFeatureFlags=function(e,t){var o,r,i={params:s((o=e,r={feature_name:o.featureName,user_id:o.userId},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/management/features/{feature_name}/users/{user_id}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.removeUserTeams=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName,team_name:o.teamName,user_name:o.userName},n(n({},r),{})))};return Object.assign(i,t),a("DELETE","/v0.1/orgs/{org_name}/teams/{team_name}/users/{user_name}",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.resendInviteDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:F(t)};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}/resend_invite",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.resendSharedInviteDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:F(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/distribution_groups/{distribution_group_name}/resend_invite",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.restoreAccounts=function(e,t,o){var r,i,c={params:s((r=e,i={account_id:r.accountId},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/management/accounts/{account_id}/restore",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.sendNewInvitationOrgInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,email:r.email},n(n({},i),{}))),body:t&&l(t)};return Object.assign(c,o),a("POST","/v0.1/orgs/{org_name}/invitations/{email}/resend",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.sentInvitations=function(e,t){var o={params:s(n(n({},{}),{}))};return Object.assign(o,t),a("GET","/v0.1/invitations/sent",o,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body),e.body})).then((function(e){return e.map((function(e){return{invitationId:(t=e).invitation_id,organization:t.organization,app:t.app};var t}))}))},e.syncTenantAccountAzureSubscription=function(e,t,o){var r,i,c={params:s((r=e,i={account_id:r.accountId,azure_subscription_id:r.azureSubscriptionId},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/management/accounts/{account_id}/azureSubscriptions/{azure_subscription_id}/syncTenant",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.transferAppManagement=function(e,t,o){var r,i,c={params:s((r=e,i={app_id:r.appId},n(n({},i),{}))),body:$(t)};return Object.assign(c,o),a("POST","/v0.1/management/apps/{app_id}/owner",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.transferOwnershipApps=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,destination_owner_name:r.destinationOwnerName},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/transfer/{destination_owner_name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return re(e)}))},e.transferToOrgApps=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName},n(n({},i),{}))),body:t};return Object.assign(c,o),a("POST","/v0.1/apps/{owner_name}/{app_name}/transfer_to_org",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return M(e)}))},e.updateAdminRoleManagement=function(e,t,o){var r,i,c={params:s((r=e,i={user_id:r.userId},n(n({},i),{}))),body:L(t)};return Object.assign(c,o),a("PATCH","/v0.1/management/users/{user_id}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return se(e)}))},e.updateApps=function(e,t,o){var r,i,c={params:s((r=e,i={app_name:r.appName,owner_name:r.ownerName},n(n({},i),{}))),body:t&&g(t)};return Object.assign(c,o),a("PATCH","/v0.1/apps/{owner_name}/{app_name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return re(e)}))},e.updateAvatarApps=function(e,t){var o,r,i={params:s((o=e,r={owner_name:o.ownerName,app_name:o.appName},n(n({},r),{})))};return Object.assign(i,t),a("POST","/v0.1/apps/{owner_name}/{app_name}/avatar",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return re(e)}))},e.updateAvatarOrganization=function(e,t){var o,r,i={params:s((o=e,r={org_name:o.orgName},n(n({},r),{})))};return Object.assign(i,t),a("POST","/v0.1/orgs/{org_name}/avatar",i,t).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return M(e)}))},e.updateDistributionGroups=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,distribution_group_name:r.distributionGroupName},n(n({},i),{}))),body:T(t)};return Object.assign(c,o),a("PATCH","/v0.1/apps/{owner_name}/{app_name}/distribution_groups/{distribution_group_name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return D(e)}))},e.updateFeatureFlags=function(e,t,o){var r,i,c={params:s((r=e,i={feature_name:r.featureName},n(n({},i),{}))),body:x(t)};return Object.assign(c,o),a("PATCH","/v0.1/management/features/{feature_name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.updateOrgInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,email:r.email},n(n({},i),{}))),body:G(t)};return Object.assign(c,o),a("PATCH","/v0.1/orgs/{org_name}/invitations/{email}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.updateOrgRoleUsers=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,user_name:r.userName},n(n({},i),{}))),body:G(t)};return Object.assign(c,o),a("PATCH","/v0.1/orgs/{org_name}/users/{user_name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return W(e)}))},e.updateOrganizations=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName},n(n({},i),{}))),body:k(t)};return Object.assign(c,o),a("PATCH","/v0.1/orgs/{org_name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return M(e)}))},e.updatePermissionsAppInvitations=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,user_email:r.userEmail},n(n({},i),{}))),body:ee(t)};return Object.assign(c,o),a("PATCH","/v0.1/apps/{owner_name}/{app_name}/invitations/{user_email}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.updatePermissionsTeams=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,team_name:r.teamName,app_name:r.appName},n(n({},i),{}))),body:X(t)};return Object.assign(c,o),a("PATCH","/v0.1/orgs/{org_name}/teams/{team_name}/apps/{app_name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return ce(e)}))},e.updateReturnFeatureFlagsApps=function(e,t,o){var r,i,c={params:s((r=e,i={app_name:r.appName,owner_name:r.ownerName},n(n({},i),{}))),body:t&&g(t)};return Object.assign(c,o),a("PATCH","/v0.1/apps_features/{owner_name}/{app_name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return ue(e)}))},e.updateReturnFeatureFlagsUsers=function(e,t,o){var r,i={params:s(n(n({},{}),{})),body:(r=t,{display_name:r.displayName,name:r.name,next_nps_survey_date:r.nextNpsSurveyDate,email:r.email})};return Object.assign(i,o),a("PATCH","/v0.1/user_features",i,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return se(e)}))},e.updateTeams=function(e,t,o){var r,i,c={params:s((r=e,i={org_name:r.orgName,team_name:r.teamName},n(n({},i),{}))),body:q(t)};return Object.assign(c,o),a("PATCH","/v0.1/orgs/{org_name}/teams/{team_name}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return J(e)}))},e.updateUserPermissionsApps=function(e,t,o){var r,i,c={params:s((r=e,i={owner_name:r.ownerName,app_name:r.appName,user_email:r.userEmail},n(n({},i),{}))),body:Y(t)};return Object.assign(c,o),a("PATCH","/v0.1/apps/{owner_name}/{app_name}/users/{user_email}",c,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return e}))},e.updateUsers=function(e,t,o){var r,i={params:s(n(n({},{}),{})),body:(r=t,{display_name:r.displayName})};return Object.assign(i,o),a("PATCH","/v0.1/user",i,o).then((function(e){return e.statusCode>=200&&e.statusCode<=299&&u(0,null==e||e.body,0,!1),e.body})).then((function(e){return te(e)}))}}(t.AccountsManagementServiceApi||(t.AccountsManagementServiceApi={}))},146:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OS=void 0;var n=o(108),r=function(){function e(){}return e.isIos=function(e){return!!e&&e.toLowerCase()===n.OS.IOS.toLowerCase()},e.isMacOS=function(e){return!!e&&e.toLowerCase()===n.OS.MACOS.toLowerCase()},e.isAndroid=function(e){return!!e&&e.toLowerCase()===n.OS.ANDROID.toLowerCase()},e.isWindows=function(e){return!!e&&e.toLowerCase().startsWith(n.OS.WINDOWS.toLowerCase())},e.isLinux=function(e){return!!e&&e.toLowerCase().startsWith(n.OS.LINUX.toLowerCase())},e.isCustom=function(e){return!!e&&e.toLowerCase().startsWith(n.OS.CUSTOM.toLowerCase())},e.IOS=n.OS.IOS,e.ANDROID=n.OS.ANDROID,e}();t.OS=r},1832:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1833),r=o(1834),i=o(1835),a=o(1836),s=o(1837);t.default=function(e){var t=e.deviceName;return t.includes("iPhone")?t.includes("5")?r:t.includes("6")?i:t.includes("7")?a:s:n}},1833:function(e,t,o){e.exports=o.p+"img/iPad_sml-44141c86e7f3d032ddbb78dd77ffb812.png"},1834:function(e,t,o){e.exports=o.p+"img/iPhone5_sml-bcd98ee0f031d9a11010baaac41cbdaf.png"},1835:function(e,t,o){e.exports=o.p+"img/iPhone6_sml-95016c2248d446e8ca695ea84f831dfe.png"},1836:function(e,t,o){e.exports=o.p+"img/iPhone7_sml-e955741fd620d0023c490017081a4cf5.png"},1837:function(e,t,o){e.exports=o.p+"img/iPhone10_sml-978b3318883e13c030323a044011ff5d.png"},2725:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ciStore=t.CIStore=void 0;var s=o(5),u=o(3131),c=o(3146),l=o(3147),p=o(3148),d=o(2726),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repoStores={},t.xcodeVersions={},t.xamarinSDKBundles={},t.nodeVersions={},t.source=d.DistributeSourceType.Branch,t.selectedGroups=s.observable.array(),t.selectedTesters=s.observable.array(),t}return r(t,e),Object.defineProperty(t.prototype,"branch",{get:function(){return this.currentRepoStore&&this.currentRepoStore.currentBranchConfigurationStore&&this.currentRepoStore.currentBranchConfigurationStore.branch},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconUrl",{get:function(){return this.currentRepoStore&&this.currentRepoStore.app&&this.currentRepoStore.app.icon_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destinations",{get:function(){return a(a([],this.selectedGroups,!0),this.selectedTesters,!0)},enumerable:!1,configurable:!0}),t.prototype.setCurrentRepoStore=function(e){if(e&&e.id){this.currentRepoStore&&this.currentRepoStore.disableFocusRefresh();var t=e.repositories&&e.repositories.length>0,o=this.repoStores[e.id];return o&&this.storeAppIsUnchanged(o,e)?(this.currentRepoStore=o,o.checkIsConfigured(!0,t)):(this.repoStores[e.id]=this.currentRepoStore=o=new u.RepoStore(e),o.checkIsConfigured(!1,t)),t&&o.branchesStore.refresh(),o}},t.prototype.closeCurrentRepoStore=function(){this.currentRepoStore&&(this.currentRepoStore.disableFocusRefresh(),this.currentRepoStore.disableRepositoryWatching(),this.currentRepoStore.websocketStore.closeWebSocket(),this.currentRepoStore.distributionGroupsStore.clearLastFetch())},t.prototype.getRepoStore=function(e){return this.repoStores[e]},t.prototype.disposeRepoStore=function(e){e&&e.id&&(this.repoStores[e.id]=void 0)},t.prototype.setCurrentXcodeVersionsStore=function(e,t){if(void 0===t&&(t=!1),e.id){var o=this.xcodeVersions[e.id],n=!1;return o&&this.storeAppIsUnchanged(o,e)?(this.currentXcodeVersionsStore=o,n=!0):this.xcodeVersions[e.id]=this.currentXcodeVersionsStore=o=new c.XcodeVersionsStore(e),t||o.fetchVersions(n),o}},t.prototype.setCurrentXamarinSDKBundlesStore=function(e,t){if(void 0===t&&(t=!1),e.id){var o=this.xamarinSDKBundles[e.id],n=!1;return o&&this.storeAppIsUnchanged(o,e)?(this.currentXamarinSDKBundlesStore=o,n=!0):this.xamarinSDKBundles[e.id]=this.currentXamarinSDKBundlesStore=o=new l.XamarinSDKBundlesStore(e),t||o.fetchVersions(n),o}},t.prototype.setCurrentNodeVersionsStore=function(e,t){if(void 0===t&&(t=!1),e.id){var o=this.nodeVersions[e.id],n=!1;return o&&this.storeAppIsUnchanged(o,e)?(this.currentNodeVersionsStore=o,n=!0):this.nodeVersions[e.id]=this.currentNodeVersionsStore=o=new p.NodeVersionsStore(e),t||o.fetchVersions(n),o}},t.prototype.storeAppIsUnchanged=function(e,t){return e.app&&e.app.owner&&t.owner&&e.app.owner.name===t.owner.name&&e.app.name===t.name},i([s.computed],t.prototype,"branch",null),i([s.computed],t.prototype,"iconUrl",null),i([s.observable],t.prototype,"currentRepoStore",void 0),i([s.observable],t.prototype,"selectedGroups",void 0),i([s.observable],t.prototype,"selectedTesters",void 0),i([s.computed],t.prototype,"destinations",null),i([s.action],t.prototype,"setCurrentRepoStore",null),i([s.action],t.prototype,"closeCurrentRepoStore",null),i([s.action],t.prototype,"disposeRepoStore",null),i([s.observable],t.prototype,"currentXcodeVersionsStore",void 0),i([s.action],t.prototype,"setCurrentXcodeVersionsStore",null),i([s.observable],t.prototype,"currentXamarinSDKBundlesStore",void 0),i([s.action],t.prototype,"setCurrentXamarinSDKBundlesStore",null),i([s.observable],t.prototype,"currentNodeVersionsStore",void 0),i([s.action],t.prototype,"setCurrentNodeVersionsStore",null),t}(o(2925).CommonDistributionSummaryStore);t.CIStore=f,t.ciStore=new f},2730:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.CIBaseStore=void 0;var a=o(5),s=o(7),u=function(e){function t(t){var o=e.call(this)||this;return o._app=t,o}return r(t,e),Object.defineProperty(t.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this._lastFetch=void 0,this.data=void 0,this.setState(s.ExternalDataState.Pending)},t.prototype.clearLastFetch=function(){this._lastFetch=void 0},Object.defineProperty(t.prototype,"lastFetchTimestamp",{get:function(){return this._lastFetch},set:function(e){this._lastFetch=e},enumerable:!1,configurable:!0}),t.prototype.lastFetchToNow=function(){if(this._lastFetch)return Date.now()-this._lastFetch},t.prototype.getPathWithSlug=function(e,t){return void 0===t&&(t="v0.1"),this.app&&this.app.owner?"/".concat(t,"/apps/").concat(this.app.owner.name,"/").concat(this.app.name,"/").concat(e):""},i([a.action],t.prototype,"clear",null),t}(s.DEPRECATED_DO_NOT_USE_SEE_DOC_COMMENT_ExternalDataStore);t.CIBaseStore=u},2742:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformCommon=t.ConfigurePlatformHandler=void 0;var a=o(5),s=function(){function e(e){this.repoStore=e}return e.prototype.onBranchAnalysisFinished=function(e){},e.prototype.onSaveError=function(e){},e.prototype.signToggleDisabled=function(){return!1},e.prototype.signToggleVisible=function(){return!0},e.prototype.signMessage=function(){},e.prototype.testToggleDisabled=function(){return!1},e.prototype.testToggleVisible=function(){return!0},e.prototype.testMessage=function(){},e.prototype.distributeToggleDisabled=function(){return!1},e.prototype.distributeMessage=function(){},e}();t.ConfigurePlatformHandler=s;var u=function(e){function t(t){var o=e.call(this,t)||this;return o.signingEnabled=!1,o.autoIncrementVersionEnabled=!1,o.buildNumberFormat="buildId",o.buildNumberFormats={buildId:"Build ID",timestamp:"Timestamp"},o}return r(t,e),Object.defineProperty(t.prototype,"buildNumberFormatName",{get:function(){if(this.buildNumberFormat)return this.buildNumberFormats[this.buildNumberFormat]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildNumberFormatDescription",{get:function(){switch(this.buildNumberFormat){case"buildId":var e=1;return this.repoStore&&this.repoStore.branchesStore&&(e=this.repoStore.branchesStore.lastBuildId+1),"The build ID is unique per app level, next is ".concat(e);case"timestamp":return"Unix timestamp in seconds e.g. 1481761337";default:return}},enumerable:!1,configurable:!0}),t.prototype.setTrigger=function(e){this.trigger=e},t.prototype.setSigningEnabled=function(e){this.signingEnabled=e},t.prototype.setAutoIncrementVersionEnabled=function(e){this.autoIncrementVersionEnabled=e},t.prototype.setBuildNumberFormat=function(e){this.buildNumberFormat=e},t.prototype.onBranchConfigurationPreLoaded=function(e){var t=e.config;t?(this.trigger=t.trigger,this.autoIncrementVersionEnabled=!!t.artifactVersioning,t.artifactVersioning&&(this.buildNumberFormat=t.artifactVersioning.buildNumberFormat)):this.trigger="continuous"},t.prototype.save=function(e,t){e.trigger="manual"===this.trigger?"manual":"continuous",this.autoIncrementVersionEnabled&&(e.artifactVersioning={buildNumberFormat:this.buildNumberFormat}),t&&(t["build-trigger"]=this.trigger,t["artifact-versioning"]=this.autoIncrementVersionEnabled?this.buildNumberFormat:"None",t["is-code-signed"]=this.signingEnabled)},t.projectSortFn=function(e,t){var o=e.path.split("/").length,n=t.path.split("/").length;return o!==n?o-n:e.path.localeCompare(t.path)},t.iOSProjectSortFn=function(e,o){if(e.podfilePath&&o.podfilePath){var n=e.path.endsWith(".xcworkspace"),r=o.path.endsWith(".xcworkspace");if(n&&!r)return-1;if(!n&&r)return 1}else{if(e.podfilePath&&!o.podfilePath)return-1;if(!e.podfilePath&&o.podfilePath)return 1}return t.projectSortFn(e,o)},t.getJavaScriptSolutionForPackageJsonPath=function(e,t){if(e.endsWith("package.json")){var o=t&&t.javascript&&t.javascript.javascriptSolutions;if(o)return o.find((function(t){return t.packageJsonPath===e}))}},t.prototype.testToggleDisabled=function(){return!this.signingEnabled},t.prototype.testMessage=function(){return this.testToggleDisabled()?{type:"error",message:"Only signed builds can be tested."}:void 0},t.prototype.distributeToggleDisabled=function(){return!this.signingEnabled},t.prototype.distributeMessage=function(){return this.distributeToggleDisabled()?{type:"error",message:"Only signed builds can be distributed and run on devices."}:void 0},i([a.observable],t.prototype,"trigger",void 0),i([a.observable],t.prototype,"signingEnabled",void 0),i([a.observable],t.prototype,"autoIncrementVersionEnabled",void 0),i([a.observable],t.prototype,"buildNumberFormat",void 0),i([a.computed],t.prototype,"buildNumberFormatName",null),i([a.computed],t.prototype,"buildNumberFormatDescription",null),i([a.action],t.prototype,"setTrigger",null),i([a.action],t.prototype,"setSigningEnabled",null),i([a.action],t.prototype,"setAutoIncrementVersionEnabled",null),i([a.action],t.prototype,"setBuildNumberFormat",null),i([a.action],t.prototype,"onBranchConfigurationPreLoaded",null),t}(s);t.ConfigurePlatformCommon=u},2764:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.invitationStore=t.InvitationStore=void 0;var i=o(13),a=o(18),s=o(16),u=o(3114),c=o(43),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ModelClass=u.Invitation,t}return r(t,e),t.prototype.generateIdFromResponse=function(e,t){return e.invitation_id},t.prototype.getModelId=function(e){return e.id},t.prototype.getCollection=function(e,t,o){return i.apiGateway.get(c.API.USER_INVITATIONS)},t.prototype.postResource=function(e,t){return i.apiGateway.post(c.API.USER_INVITATION_ACCEPT,{params:{invitation_id:e.id},responseType:a.RESPONSE_TYPES.TEXT})},t.prototype.deleteResource=function(e,t){return i.apiGateway.post(c.API.USER_INVITATION_REJECT,{params:{invitation_id:e.id},responseType:a.RESPONSE_TYPES.TEXT})},t.prototype.deserialize=function(e,t,o,n){return{app:e.app,organization:e.organization,invitationId:e.invitation_id,invitedBy:e.invited_by}},t}(s.Store);t.InvitationStore=l,t.invitationStore=new l},2846:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformAndroid=void 0;var a=o(5),s=o(2847),u=o(2742),c=o(20),l=function(e){function t(t){var o=e.call(this,t)||this;return o.noModulesFound=!1,o.signingIsAutomatic=!1,o.runTests=!1,o.runLinter=!1,o.buildBundle=!1,o.setBuildBundle=function(e){c.logger.info("build/configure/aab/toggled",{value:e}),o.buildBundle=e},o.keystoreUploadStore=new s.KeystoreUploadStore,o}return r(t,e),Object.defineProperty(t.prototype,"buildBundleEnabled",{get:function(){return this.buildBundle},enumerable:!1,configurable:!0}),t.moduleSortFn=function(e,t){return e.name.localeCompare(t.name)},Object.defineProperty(t.prototype,"sortedAndroidModules",{get:function(){if(!this.analysisResult||!this.analysisResult.android)return[];var e=this.analysisResult.android&&this.analysisResult.android.androidModules;return e?e.sort(t.moduleSortFn):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedBuildVariant",{get:function(){return this.selectedBuildConfiguration&&this.selectedBuildConfiguration.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildVariantsForSelectedModule",{get:function(){return this.selectedModule&&this.selectedModule.buildConfigurations?this.selectedModule.buildConfigurations.map((function(e){return e.name})):[]},enumerable:!1,configurable:!0}),t.prototype.getDefaultBuildConfiguration=function(e){if(e&&e.buildConfigurations&&0!==e.buildConfigurations.length){var t=e.buildConfigurations,o=t.find((function(e){return/release$/i.test(e.name)}));return o||t[0]}},t.prototype.selectModuleByName=function(e){var t=this.sortedAndroidModules.find((function(t){return t.name===e}));this.selectedModule=t,this.selectedBuildConfiguration=this.getDefaultBuildConfiguration(t),null===this.buildBundleSaved&&(this.buildBundle=!!t&&!!t.hasBundle)},t.prototype.isDebugVariant=function(e){return!!e&&/debug$/i.test(e)},t.prototype.selectBuildConfigurationByName=function(e){this.selectedBuildConfiguration=this.getBuildConfigurationByName(e),this.isDebugVariant(e)&&this.signingEnabled&&(this.signingEnabled=!1)},t.prototype.setKeystorePassword=function(e){this.keystorePassword=e},t.prototype.setKeyAlias=function(e){this.keyAlias=e},t.prototype.setKeyPassword=function(e){this.keyPassword=e},t.prototype.setRunTests=function(e){this.runTests=e},t.prototype.setRunLinter=function(e){this.runLinter=e},t.prototype.setAutomaticSigning=function(e){this.signingIsAutomatic=e},t.prototype.onBranchConfigurationPreLoaded=function(t){e.prototype.onBranchConfigurationPreLoaded.call(this,t);var o=t.config;if(o&&o.toolsets&&o.toolsets.android){var n=o.toolsets.android;this.runTests=!!n.runTests,this.runLinter=!!n.runLint;var r=n.keystoreFilename&&!this.keystoreUploadStore.hasFile;if(n.keystoreFilename&&!this.keystoreUploadStore.hasFile&&(this.keystoreUploadStore.setInfoOnlyFilename(n.keystoreFilename),this.keystoreUploadStore.passwordChanged(n.keystorePassword)),n.keystorePassword&&(this.keystorePassword=n.keystorePassword),n.keyAlias&&(this.keyAlias=n.keyAlias),n.keyPassword&&(this.keyPassword=n.keyPassword),n.automaticSigning&&(this.signingIsAutomatic=!0),(r||n.keystorePassword||n.keyAlias||n.keyPassword||n.automaticSigning)&&(this.signingEnabled=!0),this.buildBundleSaved=n.buildBundle,this.buildBundle=!!n.buildBundle,!t.projectsStore||!t.projectsStore.isLoaded){var i=n.buildVariant?{name:n.buildVariant,signingConfig:null}:null,a=i?[i]:[],s={name:n.module||"",buildConfigurations:a};this.selectedModule=s,this.selectedBuildConfiguration=a[0]}else n.module&&this.selectModuleByName(n.module),n.buildVariant&&this.selectBuildConfigurationByName(n.buildVariant)}},t.prototype.onAllBranchDataAvailable=function(e){var t=this;if(e.projectsStore&&e.projectsStore.isLoaded){this.analysisResult=e.projectsStore.data;var o=this.analysisResult&&this.analysisResult.android&&this.analysisResult.android.androidModules;o&&o.forEach((function(e){!e.buildConfigurations&&e.buildVariants&&(e.buildConfigurations=e.buildVariants.map(t.mapBuildVariantToBuildConfiguration))}))}e.wasPreloaded||this.onBranchConfigurationPreLoaded(e),this.analysisResult&&this.analysisResult.android&&(this.gradleWrapperPath=this.analysisResult.android.gradleWrapperPath);var n=!e.config;if(!n){var r=this.selectedBuildConfiguration;this.selectedModule&&this.selectModuleByName(this.selectedModule.name),r&&this.selectBuildConfigurationByName(r.name)}if(n||!this.selectedModule){var i=this.sortedAndroidModules;i.length>0?this.selectModuleByName(i[0].name):this.noModulesFound=!0}},t.prototype.isSigningValid=function(){return!!(!this.signingEnabled||this.signingIsAutomatic||this.keystoreUploadStore.isValid||this.keystorePassword||this.keyAlias||this.keyPassword)},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!(this.analysisResult&&this.selectedModule&&this.selectedBuildVariant&&this.gradleWrapperPath)&&!!this.isSigningValid()},enumerable:!1,configurable:!0}),t.prototype.save=function(t,o){e.prototype.save.call(this,t,o);var n={gradleWrapperPath:this.selectedModule&&this.selectedModule.gradleWrapperPath?this.selectedModule.gradleWrapperPath:this.gradleWrapperPath,module:this.selectedModule&&this.selectedModule.name,buildBundle:this.buildBundle,buildVariant:this.selectedBuildVariant,isRoot:this.selectedModule&&this.selectedModule.isRoot,runTests:this.runTests,runLint:this.runLinter};t.toolsets.android=n,this.setSigningProperties(t),o&&(o["android-code-signing"]=this.signingEnabled,o["android-automatic-signing"]=this.signingIsAutomatic)},t.prototype.setSigningProperties=function(e){this.signingEnabled&&e.toolsets.android&&(this.signingIsAutomatic?e.toolsets.android.automaticSigning=!0:(e.toolsets.android.keystorePassword=this.keystorePassword,e.toolsets.android.keyAlias=this.keyAlias,e.toolsets.android.keyPassword=this.keyPassword,this.keystoreUploadStore.isValid&&(this.keystoreUploadStore.hasFile&&this.keystoreUploadStore.fileEncoded&&(e.toolsets.android.keystoreEncoded=this.keystoreUploadStore.fileEncoded),e.toolsets.android.keystoreFilename=this.keystoreUploadStore.fileName)))},t.prototype.testToggleDisabled=function(){return!1},t.prototype.signToggleDisabled=function(){return this.isDebugVariant(this.selectedBuildVariant)},t.prototype.signMessage=function(){return this.isDebugVariant(this.selectedBuildVariant)?{type:"info",message:"Debug build variants cannot be signed."}:e.prototype.signMessage.call(this)},t.prototype.getBuildConfigurationByName=function(e){if(this.selectedModule&&this.selectedModule.buildConfigurations)return this.selectedModule.buildConfigurations.find((function(t){return t.name===e}))},t.prototype.mapBuildVariantToBuildConfiguration=function(e){return{name:e,signingConfig:null}},i([a.observable],t.prototype,"selectedModule",void 0),i([a.observable],t.prototype,"selectedBuildConfiguration",void 0),i([a.observable],t.prototype,"noModulesFound",void 0),i([a.observable],t.prototype,"gradleWrapperPath",void 0),i([a.observable],t.prototype,"signingIsAutomatic",void 0),i([a.observable],t.prototype,"keystorePassword",void 0),i([a.observable],t.prototype,"keyAlias",void 0),i([a.observable],t.prototype,"keyPassword",void 0),i([a.observable],t.prototype,"runTests",void 0),i([a.observable],t.prototype,"runLinter",void 0),i([a.observable],t.prototype,"buildBundleSaved",void 0),i([a.observable],t.prototype,"buildBundle",void 0),i([a.computed],t.prototype,"buildBundleEnabled",null),i([a.observable],t.prototype,"analysisResult",void 0),i([a.computed],t.prototype,"sortedAndroidModules",null),i([a.computed],t.prototype,"selectedBuildVariant",null),i([a.computed],t.prototype,"buildVariantsForSelectedModule",null),i([a.action],t.prototype,"selectModuleByName",null),i([a.action],t.prototype,"selectBuildConfigurationByName",null),i([a.action],t.prototype,"setKeystorePassword",null),i([a.action],t.prototype,"setKeyAlias",null),i([a.action],t.prototype,"setKeyPassword",null),i([a.action],t.prototype,"setRunTests",null),i([a.action],t.prototype,"setRunLinter",null),i([a.action],t.prototype,"setAutomaticSigning",null),i([a.action],t.prototype,"setBuildBundle",void 0),i([a.action],t.prototype,"onBranchConfigurationPreLoaded",null),i([a.action],t.prototype,"onAllBranchDataAvailable",null),i([a.computed],t.prototype,"isValid",null),t}(u.ConfigurePlatformCommon);t.ConfigurePlatformAndroid=l},2847:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.KeystoreUploadStore=t.PfxFileUploadStore=t.P12FileUploadStore=t.MobileProvisionFileUploadStore=t.EncodedFileUploadStore=void 0;var a=o(5),s=o(7),u=function(){function e(e){var t=this;this.hasPasswordValidation=!1,this._isValid=!1,this._passwordReadonly=!1,this.uploadProgress=function(e){if(e.lengthComputable){var o=Math.round(100*e.loaded/e.total);t.uploadPercent=o}},this.uploadComplete=function(e){t.uploadPercent=100,t.uploadStatus=s.UploadStatus.UploadSuccessful,t._fileEncoded=btoa(e.target.result),t._isValid=!0},this._passwordRequired=!!e&&e.requiresPassword,this.uploadPercent=0,this.progressBarStatus=s.ProgressBarStatus.Default}return Object.defineProperty(e.prototype,"isValid",{get:function(){return this._isValid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasFile",{get:function(){return!!this.file},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileName",{get:function(){return this.file&&this.file.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileEncoded",{get:function(){return this._fileEncoded},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this._passwordRequired?this._password||"":this._password},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"passwordReadonly",{get:function(){return this._passwordReadonly},enumerable:!1,configurable:!0}),e.prototype.setInfoOnlyFilename=function(e){this.reset(),this.file={name:e},this.uploadPercent=100,this.uploadStatus=s.UploadStatus.UploadSuccessful,this.progressBarStatus=s.ProgressBarStatus.Default,this._isValid=!0,this._passwordReadonly=!0},e.prototype.passwordChanged=function(e){this._password=e},e.prototype.upload=function(e){if(this.reset(),!this.validate(e))return this.uploadStatus=s.UploadStatus.UploadFailed,void(this.progressBarStatus=s.ProgressBarStatus.Error);this.file=e,this.uploadStatus=s.UploadStatus.UploadStarted;var t=new FileReader;t.onprogress=this.uploadProgress,t.onload=this.uploadComplete,t.readAsBinaryString(e)},e.prototype.reset=function(){this._password=void 0,this._passwordReadonly=!1,this.file=void 0,this.errorMessage=void 0,this.uploadPercent=0,this.uploadStatus=void 0,this.progressBarStatus=s.ProgressBarStatus.Default,this._isValid=!1,this._fileEncoded=void 0},i([a.observable],e.prototype,"file",void 0),i([a.observable],e.prototype,"uploadPercent",void 0),i([a.observable],e.prototype,"errorMessage",void 0),i([a.observable],e.prototype,"uploadStatus",void 0),i([a.observable],e.prototype,"progressBarStatus",void 0),i([a.observable],e.prototype,"_isValid",void 0),i([a.observable],e.prototype,"_password",void 0),i([a.observable],e.prototype,"_passwordReadonly",void 0),i([a.action],e.prototype,"setInfoOnlyFilename",null),i([a.action],e.prototype,"passwordChanged",null),i([a.action],e.prototype,"upload",null),i([a.action],e.prototype,"reset",null),i([a.action],e.prototype,"uploadProgress",void 0),i([a.action],e.prototype,"uploadComplete",void 0),e}();t.EncodedFileUploadStore=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.validate=function(e){var t=".mobileprovision";return!(!window["%hammerhead%"]||!e.type||"application/octet-stream"!==e.type)||(!(e.type&&"application/x-apple-aspen-mobileprovision"!==e.type||!e.type&&!e.name.endsWith(t))||(this.errorMessage="Not a valid ".concat(t," file"),!1))},t}(u);t.MobileProvisionFileUploadStore=c;var l=function(e){function t(){return e.call(this,{requiresPassword:!0})||this}return r(t,e),t.prototype.validate=function(e){var t=".p12";return!(e.type&&"application/x-pkcs12"!==e.type||!e.type&&!e.name.endsWith(t))||(this.errorMessage="Not a valid ".concat(t," file"),!1)},t}(u);t.P12FileUploadStore=l;var p=function(e){function t(){return e.call(this,{requiresPassword:!0})||this}return r(t,e),t.prototype.validate=function(e){var t=".pfx";return!(e.type&&"application/x-pkcs12"!==e.type||!e.type&&!e.name.endsWith(t))||(this.errorMessage="Not a valid ".concat(t," file"),!1)},t}(u);t.PfxFileUploadStore=p;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.validate=function(e){var t=e.name;return!(!t.endsWith(".jks")&&!t.endsWith(".keystore"))||(this.errorMessage="Not a valid keystore file",!1)},t}(u);t.KeystoreUploadStore=d},2848:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},a=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformXcode=t.AppExtensionProvisionUploadStore=void 0;var s=o(5),u=o(3282),c=o(3283),l=o(2847),p=o(10),d=o(18),f=o(2724),h=o(2742),g=o(20),b=function(e){function t(t){var o=e.call(this)||this;return o._appExtensionInfo=t,o}return r(t,e),Object.defineProperty(t.prototype,"appExtensionInfo",{get:function(){return this._appExtensionInfo},enumerable:!1,configurable:!0}),t}(u.ProvisionSecureFileUploadStore);t.AppExtensionProvisionUploadStore=b;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.provisioningProfileMaximumSize=5e5,t.enableSecureFiles=!1,t.appExtensionProvisionUploadStores=[],t.noProjectsFound=!1,t.testsEnabled=!1,t.forceLegacyBuildSystem=!1,t.switchToSecureFiles=function(){g.logger.info("build/secure-files/enabled"),t.enableSecureFiles=!0,t.p12UploadStoreSecure=new c.CertificateSecureFileUploadStore,t.provisionUploadStoreSecure=new u.ProvisionSecureFileUploadStore},t.revertSwitchToSecureFiles=function(){g.logger.info("build/secure-files/disabled"),t.enableSecureFiles=!1,t.p12UploadStoreSecure&&t.p12UploadStoreSecure.reset(),t.provisionUploadStoreSecure&&t.provisionUploadStoreSecure.reset()},t}return r(t,e),Object.defineProperty(t.prototype,"provisionUploadStore",{get:function(){return this.enableSecureFiles?this.provisionUploadStoreSecure:this.provisionUploadStoreDefault},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"p12UploadStore",{get:function(){return this.enableSecureFiles?this.p12UploadStoreSecure:this.p12UploadStoreDefault},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortedXcodeProjects",{get:function(){if(!this.analysisResult||!this.analysisResult.xcode)return[];var e=this.analysisResult.xcode&&this.analysisResult.xcode.xcodeSchemeContainers;return e?e.sort(h.ConfigurePlatformCommon.iOSProjectSortFn):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortedXcodeSchemes",{get:function(){var e=[],t={};return this.selectedSchemeContainer?(this.selectedSchemeContainer.sharedSchemes&&this.selectedSchemeContainer.sharedSchemes.length&&this.selectedSchemeContainer.sharedSchemes.forEach((function(o){t[o.name]||(t[o.name]=!0,e.push(o))})),e.sort((function(e,t){return e.name.localeCompare(t.name)}))):e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noSchemesFound",{get:function(){return!!this.selectedSchemeContainer&&!this.selectedScheme&&0===this.sortedXcodeSchemes.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAppExtensionProvisionUploadStoresValid",{get:function(){return this.appExtensionProvisionUploadStores.every((function(e){return e.isValid}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isXcode10orXcode11",{get:function(){return!!this.selectedXcodeVersion&&(this.selectedXcodeVersion.startsWith("10.")||this.selectedXcodeVersion.startsWith("11."))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"provisionProfileSize",{get:function(){return this.provisionUploadStore&&this.provisionUploadStore.hasFile&&this.provisionUploadStore.file&&this.provisionUploadStore.file.size||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSecureFilesEnabled",{get:function(){var e,t=p.optimizelyStore.isFeatureEnabled(d.OptimizelyFeatureNames.build_secure_files_xamarin),o=this.repoStore.app&&(this.repoStore.app.platform===d.PLATFORMS.OBJECTIVE_C_SWIFT.value||this.repoStore.app.platform===d.PLATFORMS.REACT_NATIVE.value||t&&this.repoStore.app.platform===d.PLATFORMS.XAMARIN.value),n=this.repoStore.app&&this.repoStore.app.os===d.OS.MACOS;return this.enableSecureFiles||p.optimizelyStore.isFeatureEnabled(d.OptimizelyFeatureNames.build_secure_files)||p.appFeaturesStore.isBuildSecureFilesActive(null===(e=this.repoStore.app)||void 0===e?void 0:e.id)||n||o&&(this.isNewBranch||!this.isSigned)||this.isUsingSecureFiles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewBranch",{get:function(){return!!this.repoStore.currentBranchStatus&&!this.repoStore.currentBranchStatus.configured},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUsingSecureFiles",{get:function(){return!!(this.repoStore.currentBranchConfigurationStore&&this.repoStore.currentBranchConfigurationStore.data&&this.repoStore.currentBranchConfigurationStore.data.toolsets&&this.repoStore.currentBranchConfigurationStore.data.toolsets.xcode&&this.repoStore.currentBranchConfigurationStore.data.toolsets.xcode.provisioningProfileFileId&&this.repoStore.currentBranchConfigurationStore.data.toolsets.xcode.certificateFileId)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSigned",{get:function(){return!(!this.repoStore.currentBranchConfigurationStore||!this.repoStore.currentBranchConfigurationStore.data)&&!0===this.repoStore.currentBranchConfigurationStore.data.signed},enumerable:!1,configurable:!0}),t.prototype.getDefaultScheme=function(e){if(e){if(e.sharedSchemes&&e.sharedSchemes.length)return e.sharedSchemes[0];var t=this.sortedXcodeSchemes;return t&&t.length?t[0]:void 0}},t.prototype.selectProjectByPath=function(e){var t=this.sortedXcodeProjects.find((function(t){return t.path===e}));this.selectedSchemeContainer=t,this.selectedScheme=this.getDefaultScheme(t),this.appExtensionProvisionUploadStores=this.getAppExtensionUploadStoresForProject(t,this.selectedScheme)},t.prototype.getAppExtensionUploadStoresForProject=function(e,t){var o=this;if(!e||!t)return[];if(this.selectedSchemeAppExtensions=e.appExtensionTargets,!this.selectedSchemeAppExtensions&&e.path.includes(".xcworkspace")&&t.archiveProject){var n=t.archiveProject.projectPath,r=this.sortedXcodeProjects.find((function(e){return e.path===n||e.path===n+"/project.xcworkspace"}));this.selectedSchemeAppExtensions=r&&r.appExtensionTargets}return this.selectedSchemeAppExtensions?this.selectedSchemeAppExtensions.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){var t=new b(e);if(o.appExtensionProvisioningProfileFiles){var n=o.appExtensionProvisioningProfileFiles.find((function(t){return t.targetBundleIdentifier===e.targetBundleIdentifier}));n&&o.updateProvisionUploadStoreInfo(t,n.fileName,n.fileId)}return t})):[]},t.prototype.selectSchemeByName=function(e){var t=this.sortedXcodeSchemes.find((function(t){return t.name===e}));this.selectedScheme=t,this.appExtensionProvisionUploadStores=this.getAppExtensionUploadStoresForProject(this.selectedSchemeContainer,t)},t.prototype.selectXcodeVersion=function(e){this.selectedXcodeVersion=e},t.prototype.setTestsEnabled=function(e){this.testsEnabled=e},t.prototype.setLegacyBuildSystemEnabled=function(e){this.forceLegacyBuildSystem=e},t.prototype.updateProvisionUploadStoreInfo=function(e,t,o){t&&!e.hasFile&&(e.setInfoOnlyFilename(t),this.isSecureFilesEnabled&&(e.secureFileId=o))},t.prototype.onBranchConfigurationPreLoaded=function(t){e.prototype.onBranchConfigurationPreLoaded.call(this,t);var o=t.config;if(this.p12UploadStoreDefault=this.isSecureFilesEnabled?new c.CertificateSecureFileUploadStore:new l.P12FileUploadStore,this.provisionUploadStoreDefault=this.isSecureFilesEnabled?new u.ProvisionSecureFileUploadStore:new l.MobileProvisionFileUploadStore,o&&o.toolsets&&o.toolsets.xcode){var n=o.toolsets.xcode,r=n.provisioningProfileFilename&&this.provisionUploadStore&&!this.provisionUploadStore.hasFile;this.updateProvisionUploadStoreInfo(this.provisionUploadStore,n.provisioningProfileFilename,n.provisioningProfileFileId);var i=n.certificateFilename&&this.p12UploadStore&&!this.p12UploadStore.hasFile;i&&this.p12UploadStore&&(n.certificateFilename&&this.p12UploadStore.setInfoOnlyFilename(n.certificateFilename),n.certificatePassword&&this.p12UploadStore.passwordChanged(n.certificatePassword),this.isSecureFilesEnabled&&(this.p12UploadStore.secureFileId=n.certificateFileId)),(r||this.repoStore.app&&this.repoStore.app.os===d.OS.MACOS)&&i&&(this.signingEnabled=!0);var a=n.xcodeVersion;if(a&&(a.startsWith("10.0 beta")?this.selectedXcodeVersion="10.0":this.selectedXcodeVersion=a),this.testsEnabled=!!o.testsEnabled,!t.projectsStore||!t.projectsStore.isLoaded){var s=[{name:n.scheme||"",hasTestAction:!!o.testsEnabled}],p={path:n.projectOrWorkspacePath||"",sharedSchemes:s,podfilePath:n.podfilePath,cartfilePath:n.cartfilePath};this.selectedSchemeContainer=p,this.selectedScheme=s[0]}else n.projectOrWorkspacePath&&this.selectProjectByPath(n.projectOrWorkspacePath),n.scheme&&this.selectSchemeByName(n.scheme)}else this.selectedXcodeVersion=t.xcodeVersionsStore&&t.xcodeVersionsStore.currentVersion&&t.xcodeVersionsStore.currentVersion.name},t.prototype.onAllBranchDataAvailable=function(e){e.projectsStore&&e.projectsStore.isLoaded&&(this.analysisResult=e.projectsStore.data),e.wasPreloaded||this.onBranchConfigurationPreLoaded(e);var t=!e.config;if(!t){e.config&&e.config.toolsets&&e.config.toolsets.xcode&&(this.appExtensionProvisioningProfileFiles=e.config.toolsets.xcode.appExtensionProvisioningProfileFiles);var o=this.selectedScheme&&this.selectedScheme.name;this.selectedSchemeContainer&&this.selectProjectByPath(this.selectedSchemeContainer.path),o&&this.selectSchemeByName(o)}if(t||!this.selectedSchemeContainer){var n=this.sortedXcodeProjects;n.length>0&&(this.selectedSchemeContainer=n[0]),this.noProjectsFound=0===n.length;var r=this.sortedXcodeSchemes;r.length>0&&(this.selectedScheme=r[0]),e.xcodeVersionsStore&&e.xcodeVersionsStore.isLoaded&&!this.selectedXcodeVersion&&(this.selectedXcodeVersion=e.xcodeVersionsStore.currentVersion&&e.xcodeVersionsStore.currentVersion.name),this.appExtensionProvisionUploadStores=this.getAppExtensionUploadStoresForProject(this.selectedSchemeContainer,this.selectedScheme)}},t.prototype.setAppExtensionProvisioningProfileFiles=function(e){e.config&&e.config.toolsets&&e.config.toolsets.xcode&&(this.appExtensionProvisioningProfileFiles=e.config.toolsets.xcode.appExtensionProvisioningProfileFiles)},t.prototype.isSigningValid=function(){if(this.signingEnabled)if(this.repoStore.app&&this.repoStore.app.os===d.OS.MACOS){if(!this.p12UploadStore||!this.p12UploadStore.isValid)return!1}else if(!(this.provisionUploadStore&&this.provisionUploadStore.isValid&&this.p12UploadStore&&this.p12UploadStore.isValid))return!1;return!0},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!(this.analysisResult&&this.selectedSchemeContainer&&this.selectedScheme&&this.selectedXcodeVersion)&&!!this.isSigningValid()},enumerable:!1,configurable:!0}),t.prototype.save=function(t,o){e.prototype.save.call(this,t,o),t.testsEnabled=this.testsEnabled&&this.selectedScheme&&this.selectedScheme.hasTestAction;var n=this.repoStore.app&&this.repoStore.app.isReactNativeApp,r={forceLegacyBuildSystem:this.forceLegacyBuildSystem};this.selectedSchemeContainer&&(t.toolsets.xcode=i({projectOrWorkspacePath:this.selectedSchemeContainer.path,podfilePath:this.selectedSchemeContainer.podfilePath,cartfilePath:this.selectedSchemeContainer.cartfilePath,scheme:this.selectedScheme&&this.selectedScheme.name,xcodeVersion:this.selectedXcodeVersion||"",xcodeProjectSha:this.selectedSchemeContainer.xcodeProjectSha?this.selectedSchemeContainer.xcodeProjectSha:this.getProjectSha(this.selectedScheme&&this.selectedScheme.archiveProject),archiveConfiguration:this.selectedScheme&&this.selectedScheme.archiveConfiguration,targetToArchive:this.selectedScheme&&this.selectedScheme.archiveProject&&this.selectedScheme.archiveProject.archiveTargetId},this.isXcode10orXcode11&&n?r:{}),this.setSigningProperties(t)),o&&(o["xcode-version"]=this.selectedXcodeVersion,o["supports-tests"]=this.selectedScheme&&this.selectedScheme.hasTestAction,this.appExtensionProvisionUploadStores&&this.appExtensionProvisionUploadStores.length&&(o["is-using-app-extensions"]="true",this.appExtensionProvisionUploadStores.every((function(e){return!e.isValid}))&&(o["app-extensions-provisioning-option-not-used"]="true")))},t.prototype.onSaveError=function(e){e&&400===e.status&&e.message.indexOf("same type")>0&&this.appExtensionProvisionUploadStores.forEach((function(e){e.hasFile&&e.fileUploadServiceDetails&&e.clear()}))},t.prototype.getProjectSha=function(e){if(e)for(var t=0,o=this.analysisResult&&this.analysisResult.xcode&&this.analysisResult.xcode.xcodeSchemeContainers||[];t<o.length;t++){var n=o[t];if(this.getXcodeProjectName(n)===e.projectName)return n.xcodeProjectSha}},t.prototype.getXcodeProjectName=function(e){var t=e.path.replace(/[.]xcodeproj[/]project[.]xcworkspace$/,".xcodeproj"),o=t.lastIndexOf("/");return o>0?t.substr(o+1):t},t.prototype.setSigningProperties=function(e){var t=this;if(this.setCertificateSigningProperties(e),e.toolsets.xcode){var o=this.getProvisioningProfileSigningProperties(e,this.provisionUploadStore);o&&(e.toolsets.xcode.provisioningProfileFileId=o.fileId,e.toolsets.xcode.provisioningProfileFilename=o.fileName,e.toolsets.xcode.provisioningProfileUploadId=o.uploadId),this.appExtensionProvisionUploadStores.length&&(e.toolsets.xcode.appExtensionProvisioningProfileFiles=[]),this.appExtensionProvisionUploadStores.forEach((function(o){var n=t.getProvisioningProfileSigningProperties(e,o,o.appExtensionInfo);n&&e.toolsets.xcode&&void 0!==e.toolsets.xcode.appExtensionProvisioningProfileFiles&&e.toolsets.xcode.appExtensionProvisioningProfileFiles.push(n)}))}},t.prototype.setAppExtensions=function(e){var t=this;this.appExtensionProvisionUploadStores=e.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){var o=new b(e);if(t.appExtensionProvisioningProfileFiles){var n=t.appExtensionProvisioningProfileFiles.find((function(t){return t.targetBundleIdentifier===e.targetBundleIdentifier}));n&&t.updateProvisionUploadStoreInfo(o,n.fileName,n.fileId)}return o}))},t.prototype.setCertificateSigningProperties=function(e){this.signingEnabled&&this.p12UploadStore&&this.p12UploadStore.isValid&&e.toolsets.xcode&&(this.p12UploadStore.hasFile&&(this.isSecureFilesEnabled&&this.p12UploadStore.fileUploadServiceDetails?e.toolsets.xcode.certificateUploadId=this.p12UploadStore.fileUploadServiceDetails.id:this.p12UploadStore.fileEncoded&&(e.toolsets.xcode.certificateEncoded=this.p12UploadStore.fileEncoded)),this.isSecureFilesEnabled&&(e.toolsets.xcode.certificateFileId=this.p12UploadStore.secureFileId),e.toolsets.xcode.certificateFilename=this.p12UploadStore.fileName,e.toolsets.xcode.certificatePassword=this.p12UploadStore.password)},t.prototype.getProvisioningProfileSigningProperties=function(e,t,o){if(this.signingEnabled){var n={};return(this.repoStore.app&&this.repoStore.app.os===d.OS.MACOS||o)&&(n.uploadId=f.EMPTY_PROVISIONING_PROFILE),t&&t.isValid?(t.hasFile&&(this.isSecureFilesEnabled&&t.fileUploadServiceDetails?n.uploadId=t.fileUploadServiceDetails.id:t.fileEncoded&&e.toolsets.xcode&&(e.toolsets.xcode.provisioningProfileEncoded=t.fileEncoded)),this.isSecureFilesEnabled&&(n.fileId=t.secureFileId,n.uploadId===f.EMPTY_PROVISIONING_PROFILE&&n.fileId&&n.fileId!==f.EMPTY_PROVISIONING_PROFILE&&(n.uploadId=void 0)),n.fileName=t.fileName,o&&(n.targetBundleIdentifier=o.targetBundleIdentifier),n):n}},t.prototype.distributeMessage=function(){return this.distributeToggleDisabled()&&this.repoStore.app&&this.repoStore.app.os===d.OS.MACOS?{type:"error",message:"Only signed builds can be distributed."}:e.prototype.distributeMessage.call(this)},a([s.observable],t.prototype,"enableSecureFiles",void 0),a([s.computed],t.prototype,"provisionUploadStore",null),a([s.computed],t.prototype,"p12UploadStore",null),a([s.observable],t.prototype,"selectedSchemeContainer",void 0),a([s.observable],t.prototype,"selectedScheme",void 0),a([s.observable],t.prototype,"selectedSchemeAppExtensions",void 0),a([s.observable],t.prototype,"selectedXcodeVersion",void 0),a([s.observable],t.prototype,"noProjectsFound",void 0),a([s.observable],t.prototype,"testsEnabled",void 0),a([s.observable],t.prototype,"forceLegacyBuildSystem",void 0),a([s.observable],t.prototype,"analysisResult",void 0),a([s.computed],t.prototype,"sortedXcodeProjects",null),a([s.computed],t.prototype,"sortedXcodeSchemes",null),a([s.computed],t.prototype,"noSchemesFound",null),a([s.computed],t.prototype,"isAppExtensionProvisionUploadStoresValid",null),a([s.computed],t.prototype,"isXcode10orXcode11",null),a([s.computed],t.prototype,"provisionProfileSize",null),a([s.computed],t.prototype,"isSecureFilesEnabled",null),a([s.computed],t.prototype,"isNewBranch",null),a([s.computed],t.prototype,"isUsingSecureFiles",null),a([s.computed],t.prototype,"isSigned",null),a([s.action],t.prototype,"switchToSecureFiles",void 0),a([s.action],t.prototype,"revertSwitchToSecureFiles",void 0),a([s.action],t.prototype,"selectProjectByPath",null),a([s.action],t.prototype,"selectSchemeByName",null),a([s.action],t.prototype,"selectXcodeVersion",null),a([s.action],t.prototype,"setTestsEnabled",null),a([s.action],t.prototype,"setLegacyBuildSystemEnabled",null),a([s.action],t.prototype,"onBranchConfigurationPreLoaded",null),a([s.action],t.prototype,"onAllBranchDataAvailable",null),a([s.action],t.prototype,"setAppExtensionProvisioningProfileFiles",null),a([s.computed],t.prototype,"isValid",null),a([s.action],t.prototype,"setAppExtensions",null),t}(h.ConfigurePlatformCommon);t.ConfigurePlatformXcode=m},2849:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSelectNodeVersionEnabled=void 0;t.isSelectNodeVersionEnabled=function(){return!0}},2865:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.AppAzureSubscription=void 0;var a=o(98),s=o(5),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return"".concat(this.ownerName,"-").concat(this.appName,"-").concat(this.subscriptionId)},enumerable:!1,configurable:!0}),i([s.observable],t.prototype,"subscriptionId",void 0),i([s.observable],t.prototype,"appName",void 0),i([s.observable],t.prototype,"ownerName",void 0),i([s.computed],t.prototype,"id",null),t}(a.Model);t.AppAzureSubscription=u},2916:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var n=o(57),r=o(10),i=o(112),a=function(){function e(){}return e.timeDistance=function(e){return(0,n.differenceInSeconds)(Date.now(),new Date(e))<=60?"just now":(0,i.relativeDate)(e)},e.longTimeFormat=function(e){return(0,i.formatDate)(e,"longFullDateTimeWithSecondsAndWeekday")},e.sourceHostDisplayName=function(e){switch(e){case"github":return"GitHub";case"bitbucket":return"Bitbucket";case"vsts":return"Azure DevOps";case"gitlab":return"GitLab";default:return e}},e.sourceHostAuthLink=function(e,t){return"/auth/".concat(e,"?original_url=").concat(t,"&get_token=true")},e.displayFileAndPath=function(e){if(!e)return{projectName:e};var t=e.match(/^[\.]?[\/]?(.*)[\/]([^\/]+)/);return t?{projectName:t[2],projectPath:"/"+t[1]}:{projectName:e,projectPath:"/"}},e.getHostedAuthLink=function(t){var o=r.locationStore.getUrlWithCurrentApp("build/connect/".concat(t,"/hosted"));return e.sourceHostAuthLink(t,o)},e.getAuthLink=function(t){var o=r.locationStore.getUrlWithCurrentApp("build/connect/"+t);return e.sourceHostAuthLink(t,o)},e.avatarUrlResized=function(e,t){if(e){var o="s=".concat(t),n=e.includes("?")?"&":"?";return"".concat(e).concat(n).concat(o)}return e},e.getRepoExternalUrl=function(e,t){switch(e){case"github":return t.replace(/[.]git$/,"");case"bitbucket":return t.replace(/[.]git$/,"").replace(/:\/\/[^@]+@/,"://");case"vsts":return t.includes("dev.azure.com")?t.replace(/:\/\/[^@]+@/,"://"):t;default:return t}},e.getRepoShortName=function(e,t){switch(e){case"github":return t.replace(/[.]git$/,"").replace(/^https:[/][/]github[.]com[/]/i,"");case"bitbucket":return t.replace(/[.]git$/,"").replace(/^https:[/][/][^/]*bitbucket[.]org[/]/i,"");case"vsts":if(t.includes("dev.azure.com")){if(o=t.match(/^https:[/][/]([^/]+)[@]dev[.]azure[.]com[/]([^/]+)[/]([^/]+)[/]([^/]+)[/]([^/]+)$/i))return o[2]+"/"+o[3]+"/"+o[5]}else{var o;if(o=t.match(/^https:[/][/]([^/]+)[.]visualstudio[.]com[/]([^/]+)[/][^/]+[/]([^/]+)$/i))return o[1]+"/"+o[2]+"/"+o[3];if(o=t.match(/^https:[/][/]([^/]+)[.]visualstudio[.]com[/][^/]+[/]([^/]+)$/i))return o[1]+"/"+o[2]}return"";default:return t.replace(/[.]git$/,"").replace(/^https:[/][/][^/]*[/]/i,"")}},e.isCodeHostNotAuthenticatedErrorResponse=function(e){return!!(e&&e.body&&e.body.message&&-1!==e.body.message.indexOf("auth flow"))},e}();t.Utils=a},2917:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},a=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o};Object.defineProperty(t,"__esModule",{value:!0}),t.BranchConfigurationStore=t.ConfigureBranchStore=t.BranchConfigurationState=void 0;var u,c=o(5),l=o(22),p=o(7),d=o(47),f=o(2730),h=o(2725),g=o(3133),b=o(2724),m=o(10),y=o(13),v=o(20),S=o(4),_=o(1829);!function(e){e[e.Unconfigured=0]="Unconfigured",e[e.ConfigurationInProgress=1]="ConfigurationInProgress",e[e.StartingBuild=2]="StartingBuild",e[e.ConfigurationComplete=3]="ConfigurationComplete",e[e.ConfigurationFailed=4]="ConfigurationFailed",e[e.LimitReached=5]="LimitReached",e[e.Deleting=6]="Deleting"}(u=t.BranchConfigurationState||(t.BranchConfigurationState={}));var P=function(e){function t(){var t=e.call(this)||this;return t.state=p.ExternalDataState.Loaded,t}return r(t,e),t.prototype.load=function(t){return e.prototype.load.call(this,t)},t}(p.DEPRECATED_DO_NOT_USE_SEE_DOC_COMMENT_ExternalDataStore);t.ConfigureBranchStore=P;var C=function(e){function t(t,o){var n=e.call(this,t)||this;return n.branch=void 0,n.configurationState=u.Unconfigured,n.queuingBuild=!1,n.branch=o,n.buildsStore=new g.BuildsStore(t,o),n.configureBranchStore=new P,n}return r(t,e),t.prototype.fetch=function(e){void 0===e&&(e=!1),this.buildsStore.refreshBuilds(),this.lastFetchTimestamp=Date.now();var t=this.getPathWithSlug("branches/:branch/config");return this.fetchPromise=y.apiGateway.get(t,{params:{branch:this.branch||""}}).catch((function(e){if(e&&404===e.status)return null;throw e})),e?this.loadInBackgroundVoid(this.fetchPromise):this.loadVoid(this.fetchPromise)},t.prototype.refresh=function(){this.fetchPromise&&this.fetchPromise.isPending()||this.fetch(!0)},t.prototype.configure=function(e,t,o,n,r,a){var f=this;this.queuingBuild=!!n;var g=this.getPathWithSlug("branches/:branch/config"),P={params:{branch:this.branch},body:e};this.configurationState=u.ConfigurationInProgress,(0,d.notifyScreenReader)({message:(0,l.t)("build:configure.messages.configurationInProgress")});var C=Promise.resolve(void 0);if(e.toolsets.distribution&&e.toolsets.distribution.destinations&&e.toolsets.distribution.destinations.length>0){var O=e.toolsets.distribution.destinations,w=[],j=[];O.forEach((function(e){if(h.ciStore.currentRepoStore){var t=h.ciStore.currentRepoStore.distributionStoresStore.createStoreIfNotExists(e).then((function(t){return t&&t.id?w.push(t.id):w.push(e),t}));j.push(t)}})),C=Promise.all(j).then((function(){h.ciStore.currentRepoStore&&h.ciStore.currentRepoStore.distributionStoresStore.fetch(),e.toolsets.distribution&&(e.toolsets.distribution.destinations=w)}))}return this.configurePromise=t?C.then((function(){return y.apiGateway.put(g,P)})):C.then((function(){return y.apiGateway.post(g,P)})),this.configureBranchStore.load(this.configurePromise).then((0,c.action)((function(e){var t;f.configurationState=u.StartingBuild;var o=f.app&&f.app.id&&h.ciStore.getRepoStore(f.app.id);if(o&&f.branch&&(o.branchesStore.updateStatusLocally(f.branch,(function(e){e.configured=!0,t=e.branch&&e.branch.commit&&e.branch.commit.sha})),o.branchesStore.refresh()),r&&a&&(t=a),f.data=e,f.state=p.ExternalDataState.Loaded,n&&f.branch)return(0,d.notifyScreenReader)({message:(0,l.t)("build:configure.messages.startingBuild")}),f.buildsStore.queueBuild(f.branch,!1,t,r)}))).then((0,c.action)((function(e){f.configurationState=u.ConfigurationComplete,f.queuingBuild=!1,(0,d.notifyScreenReader)({message:(0,l.t)("build:configure.messages.configurationComplete"),delay:500});var t=_.parse(window.location.search.replace(/^\?/,"")),n=t.appIds,r=s(t,["appIds"]),a=(n||[]).map((function(e){return m.appStore.apps.find((function(t){return t.id===e}))}));return a.includes(f.app)&&(0,S.difference)(a,[f.app]).forEach((function(e){e&&d.notificationStore.notify({persistent:!0,message:"You can now configure and run the ".concat(e.os," build"),buttonText:"Configure ".concat(e.os," build"),action:function(){var t,o;v.logger.info("Configure other os clicked",{scenario:"github-integration",next_os:e.os}),window.location.href=m.locationStore.getUrlWithApp("/build/branches/".concat(encodeURIComponent(f.branch),"/setup"),e,i(i({},r[b.GITHUB_PR_HEAD_BRANCH]&&((t={})[b.GITHUB_PR_HEAD_BRANCH]=r[b.GITHUB_PR_HEAD_BRANCH],t)),r[b.GITHUB_PR_SHA]&&((o={})[b.GITHUB_PR_SHA]=r[b.GITHUB_PR_SHA],o)))},onDismiss:function(){v.logger.info("Configure other os dismissed",{scenario:"github-integration",current_os:f.app&&f.app.os})}})})),f.app?(e?m.locationStore.pushWithApp("build/branches/:branch/builds/:build",f.app,{branch:f.branch,build:String(e.id)}):o?m.locationStore.pushWithApp("build/branches",f.app):m.locationStore.pushWithApp("build/branches/:branch",f.app,{branch:f.branch}),null):null}))).catch((0,c.action)((function(t){if(t&&402===t.status&&(f.configurationState=u.LimitReached,(0,d.notifyScreenReader)({message:(0,l.t)("build:configure.messages.configurationFailedLimit")})),t&&409===t.status){return f.configure(e,!0,o,n,r,a)}f.configurationState=u.ConfigurationFailed,(0,d.notifyScreenReader)({message:(0,l.t)("build:configure.messages.configurationFailed")})}))),this.configurePromise},t.prototype.deleteConfiguration=function(e){var t=this,o=this.getPathWithSlug("branches/:branch/config"),n={params:{branch:this.branch},body:{}},r=this.configurationState;return this.configurationState=u.Deleting,this.deletePromise=y.apiGateway.delete(o,n).then((0,c.action)((function(o){t.configureBranchStore=new P,t.configurationState=u.Unconfigured,t.clear(),t.buildsStore.clear();var n=t.app&&t.app.id&&h.ciStore.getRepoStore(t.app.id);return n&&t.branch&&n.branchesStore.updateStatusLocally(t.branch,(function(e){e.configured=!1,e.lastBuild=void 0})),t.app&&(e?m.locationStore.pushWithApp("build/branches",t.app):m.locationStore.pushWithApp("build/branches/:branch",t.app,{branch:t.branch})),(0,d.notifyScreenReader)({message:(0,l.t)("build:configure.messages.configurationDeleted"),delay:1500}),!0}))).catch((0,c.action)((function(){return t.configurationState=r,!1}))),this.deletePromise},t.prototype.resetState=function(){this.configurationState=u.Unconfigured},a([c.action],t.prototype,"fetch",null),a([c.action],t.prototype,"refresh",null),a([c.observable],t.prototype,"configurationState",void 0),a([c.observable],t.prototype,"queuingBuild",void 0),a([c.action],t.prototype,"configure",null),a([c.action],t.prototype,"deleteConfiguration",null),a([c.action],t.prototype,"resetState",null),t}(f.CIBaseStore);t.BranchConfigurationStore=C},2918:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.BuildLogsStore=t.BuildLogState=void 0;var r,i=o(5);!function(e){e[e.Pending=0]="Pending",e[e.Interrupted=1]="Interrupted",e[e.Completed=2]="Completed",e[e.Failure=3]="Failure"}(r=t.BuildLogState||(t.BuildLogState={}));var a=function(){function e(){this._buildLogs=i.observable.map({},{deep:!1})}return e.prototype.appendBuildLog=function(e,t){this._buildLogs.has(String(e))||this._buildLogs.set(String(e),i.observable.object({logLines:[],state:r.Pending},{},{deep:!1}));var o=this._buildLogs.get(String(e));o&&(o.logLines=o.logLines.concat(t))},e.prototype.setLogState=function(e,t){if(this._buildLogs.has(String(e))){var o=this._buildLogs.get(String(e));o&&(o.state=t)}},e.prototype.assignBuildLog=function(e,t,o){void 0===o&&(o=r.Completed),this.invalidateBuildLog(e),this.appendBuildLog(e,t),this.setLogState(e,o)},e.prototype.invalidateBuildLog=function(e){this._buildLogs.delete(String(e))},e.prototype.hasBuildLog=function(e){return this._buildLogs.has(String(e))},e.prototype.getBuildLog=function(e){if(!this.hasBuildLog(e))return[];var t=this._buildLogs.get(String(e));return t?t.logLines:[]},e.prototype.isBuildLogCompleted=function(e){if(this.hasBuildLog(e)){var t=this._buildLogs.get(String(e));return t&&t.state===r.Completed}},e.prototype.isBuildLogFailed=function(e){if(this.hasBuildLog(e)){var t=this._buildLogs.get(String(e));return t&&t.state===r.Failure}},e.prototype.getLogState=function(e){if(this.hasBuildLog(e)){var t=this._buildLogs.get(String(e));return t&&t.state}},n([i.action],e.prototype,"appendBuildLog",null),n([i.action],e.prototype,"setLogState",null),n([i.action],e.prototype,"assignBuildLog",null),n([i.action],e.prototype,"invalidateBuildLog",null),e}();t.BuildLogsStore=a},3012:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.orgComplianceSettingStore=t.OrgComplianceSettingStore=void 0;var i=o(478),a=o(16),s=o(13),u=o(43),c=o(18),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ModelClass=i.OrgComplianceSetting,t}return r(t,e),t.prototype.generateIdFromResponse=function(e,t){return e.id},t.prototype.getModelId=function(e){return e.id},t.prototype.getResource=function(e,t){return s.apiGateway.get(u.API.ORG_COMPLIANCE_SETTINGS_WITH_ID,{params:{org_name:t.orgName,compliance_setting_id:e}})},t.prototype.getCollection=function(e){return s.apiGateway.get(u.API.ORG_COMPLIANCE_SETTINGS,{params:{org_name:e.orgName}})},t.prototype.postResource=function(e,t){var o={certificate_connection_id:e.certificateConnectionId};return s.apiGateway.post(u.API.ORG_COMPLIANCE_SETTINGS,{params:{org_name:t.orgName},body:o})},t.prototype.patchResource=function(e,t,o){var n={certificate_connection_id:t.certificateConnectionId};return s.apiGateway.patch(u.API.ORG_COMPLIANCE_SETTINGS_WITH_ID,{params:{org_name:o.orgName,compliance_setting_id:e.id},body:n})},t.prototype.deleteResource=function(e,t){return s.apiGateway.delete(u.API.ORG_COMPLIANCE_SETTINGS_WITH_ID,{params:{org_name:t.orgName,compliance_setting_id:e.id},responseType:c.RESPONSE_TYPES.TEXT})},t.prototype.deserialize=function(e,t){return void 0===t&&(t={}),{id:e.id,certificateConnectionId:e.certificate_connection_id,isMamEnabled:e.is_mam_enabled,orgId:e.org_id}},t}(a.Store);t.OrgComplianceSettingStore=l,t.orgComplianceSettingStore=new l},3013:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.appAzureSubscriptionStore=t.AppAzureSubscriptionStore=void 0;var i=o(13),a=o(16),s=o(18),u=o(2865),c=o(43),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ModelClass=u.AppAzureSubscription,t}return r(t,e),t.prototype.generateIdFromResponse=function(e,t){return"".concat(t.ownerName,"-").concat(t.appName,"-").concat(e.subscription_id)},t.prototype.getModelId=function(e){return e.id},t.prototype.deserialize=function(e,t){return{appName:(null==t?void 0:t.appName)||"",ownerName:(null==t?void 0:t.ownerName)||"",subscriptionId:e.subscription_id}},t.prototype.postResource=function(e,t){return i.apiGateway.post(c.API.APP_AZURE_SUBSCRIPTIONS,{params:{app_name:null==t?void 0:t.appName,owner_name:null==t?void 0:t.ownerName},body:{subscription_id:e.subscriptionId},responseType:s.RESPONSE_TYPES.TEXT})},t.prototype.deleteResource=function(e,t){return i.apiGateway.delete(c.API.APP_AZURE_SUBSCRIPTION,{params:{app_name:null==t?void 0:t.appName,owner_name:null==t?void 0:t.ownerName,subscription_id:null==t?void 0:t.subscriptionId},responseType:s.RESPONSE_TYPES.TEXT})},t.prototype.getResource=function(e,t){throw new Error("Method not implemented.")},t.prototype.getCollection=function(e,t,o){throw new Error("Method not implemented.")},t.prototype.patchResource=function(e,t,o){throw new Error("Method not implemented.")},t}(a.Store);t.AppAzureSubscriptionStore=l,t.appAzureSubscriptionStore=new l},3114:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Invitation=void 0;var a=o(98),s=o(5),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.invitationId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOrganizationInvite",{get:function(){return!!this.organization},enumerable:!1,configurable:!0}),i([s.observable],t.prototype,"invitationId",void 0),i([s.observable],t.prototype,"invitedBy",void 0),i([s.observable],t.prototype,"app",void 0),i([s.observable],t.prototype,"organization",void 0),i([s.computed],t.prototype,"isOrganizationInvite",null),t}(a.Model);t.Invitation=u},3131:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.RepoStore=t.UnconfigureRepoStore=t.ConfigureRepoStore=void 0;var a=o(5),s=o(7),u=o(10),c=o(13),l=o(2730),p=o(3132),d=o(2917),f=o(3138),h=o(3139),g=o(3140),b=o(3142),m=o(3143),y=o(3144),v=o(3145),S=o(4),_=function(e){function t(){var t=e.call(this)||this;return t.state=s.ExternalDataState.Loaded,t}return r(t,e),Object.defineProperty(t.prototype,"hasInvalidPermissions",{get:function(){return!1===this.hasValidPermissions},enumerable:!1,configurable:!0}),t.prototype.setHasValidPermissions=function(e){this.hasValidPermissions=e},t.prototype.load=function(t){return e.prototype.load.call(this,t)},i([a.observable],t.prototype,"hasValidPermissions",void 0),i([a.computed],t.prototype,"hasInvalidPermissions",null),i([a.action],t.prototype,"setHasValidPermissions",null),t}(s.DEPRECATED_DO_NOT_USE_SEE_DOC_COMMENT_ExternalDataStore);t.ConfigureRepoStore=_;var P=function(e){function t(){var t=e.call(this)||this;return t.state=s.ExternalDataState.Loaded,t}return r(t,e),t.prototype.load=function(t){return e.prototype.load.call(this,t)},t}(s.DEPRECATED_DO_NOT_USE_SEE_DOC_COMMENT_ExternalDataStore);t.UnconfigureRepoStore=P;var C=function(e){function t(t){var o=e.call(this,t)||this;return o.branchConfigurationStores=a.observable.map(),o.projectsStores=a.observable.map(),o.branchesStore=new p.BranchesStore(t),o.commitsStore=new f.CommitsStore(t),o.distributionGroupsStore=new h.DistributionGroupsStore(t),o.distributionStoresStore=new g.DistributionStoresStore(t),o.distributionUploadStore=new b.DistributionUploadStore,o.configureRepoStore=new _,o.unconfigureRepoStore=new P,o.websocketStore=new y.WebSocketStore(t),(0,a.reaction)((function(){return o.currentBranchStatus}),(function(e){e&&o.setCurrentBranchConfigurationStore(e)}),{name:"configReloader"}),o}return r(t,e),Object.defineProperty(t.prototype,"isConfigured",{get:function(){return this.isLoaded?!!this.data:null},enumerable:!1,configurable:!0}),t.prototype.checkIsConfigured=function(e,t){var o=this;void 0===e&&(e=!1),void 0===t&&(t=!1);var n=this.getPathWithSlug("repo_config");return this.checkIsConfiguredPromise=c.apiGateway.get(n,{params:{includeInactive:"true"}}).then((function(e){var n,r=!1;return Array.isArray(e)&&(r=!!(n=e.find((function(e){return"active"===e.state})))&&!!n.id,e.forEach((function(e){"unauthorized"===e.state&&v.SourceHostStore.forSourceHost(e.type).setProviderState(v.RepoProviderState.Unauthorized)}))),r?(t||o.branchesStore.refresh(),n):void 0})),e?this.loadInBackgroundVoid(this.checkIsConfiguredPromise):this.loadVoid(this.checkIsConfiguredPromise)},Object.defineProperty(t.prototype,"isConfiguring",{get:function(){return this.configureRepoStore.isPending},enumerable:!1,configurable:!0}),t.prototype.configureRepo=function(e,t,o,n,r,i){var a=this;this.configureRepoStore.setHasValidPermissions(!!i);var s={body:{user_id:u.userStore.currentUser.id,repo_url:e,repo_provider:t,repo_id:o&&"".concat(o),external_user_id:n&&"".concat(n),service_connection_id:r&&"".concat(r)}},l=JSON.parse(JSON.stringify(u.appStore.app)),p=this.getPathWithSlug("repo_config");return this.configureRepoPromise=c.apiGateway.post(p,s),this.configureRepoStore.load(this.configureRepoPromise).then((function(){a.clear();var t=Object.assign({},l);(t.repositories||[]).find((function(t){return t.repo_url===e}))||(t.repositories||(t.repositories=[]),t.repositories.push({repo_url:e})),u.appStore.updateAppInAppsList(l,t),a.app&&u.locationStore.pushWithApp("build/branches",a.app)})).catch(S.noop)},Object.defineProperty(t.prototype,"isRemovingConfiguration",{get:function(){return this.unconfigureRepoStore.isPending},enumerable:!1,configurable:!0}),t.prototype.unconfigureRepo=function(e){var t=this;if(void 0===e&&(e=!1),!0!==this.isConfigured)return Promise.resolve();e&&this.branchesStore.clear();var o=JSON.parse(JSON.stringify(u.appStore.app)),n=this.getPathWithSlug("repo_config");return this.unconfigureRepoPromise=c.apiGateway.delete(n).then((function(){t.clear(),t.branchConfigurationStores.clear(),t.branchesStore.clear();var e=Object.assign({},o);return e.repositories=[],u.appStore.updateAppInAppsList(o,e),t.checkIsConfigured().then((function(){t.app&&u.locationStore.pushWithApp("build/connect",t.app)}))})),this.unconfigureRepoStore.load(this.unconfigureRepoPromise)},Object.defineProperty(t.prototype,"currentBranchStatus",{get:function(){var e=this;if(this.branchesStore.data&&this.currentBranch)return this.branchesStore.data.find((function(t){return t.branch&&t.branch.name===e.currentBranch}))},enumerable:!1,configurable:!0}),t.prototype.setCurrentBranch=function(e){this.currentBranch=e},t.prototype.setCurrentBranchConfigurationStore=function(e){if(e){var t=e.branch&&this.branchConfigurationStores.get(e.branch.name);if(t){if(this.currentBranchConfigurationStore===t)return;this.currentBranchConfigurationStore=t,e.configured&&t.fetch(!0)}else t=this.currentBranchConfigurationStore=e.branch&&this.getOrCreateBranchConfigurationStore(e.branch.name),e.configured&&t&&t.fetch();return t}this.currentBranchConfigurationStore=void 0},t.prototype.getOrCreateBranchConfigurationStore=function(e){var t=this.branchConfigurationStores.get(e);return t||(t=new d.BranchConfigurationStore(this.app,e),this.branchConfigurationStores.set(e,t),t)},t.prototype.getBranchConfigurationStore=function(e){return e?this.branchConfigurationStores.get(e):void 0},t.prototype.setCurrentProjectsStore=function(e){var t=this.projectsStores.get(e);return t?this.currentProjectsStore=t:(this.currentProjectsStore=t=new m.ProjectsStore(this.app,e),this.projectsStores.set(e,t)),t},t.prototype.prefetchBuildsOnce=function(e){var t=this;void 0===e&&(e=!0),this.buildsPrefetchDisposer&&(this.buildsPrefetchDisposer(),this.buildsPrefetchDisposer=null),this.buildsPrefetchDisposer=(0,a.when)((function(){return t.branchesStore.isLoaded}),(function(){var o=t.branchesStore.data;if(o){var n=o.filter((function(e){return e.configured}));n.sort((function(e,t){if(e.lastBuild&&!t.lastBuild)return-1;if(!e.lastBuild&&t.lastBuild)return 1;if(!e.lastBuild&&e.branch&&t.branch)return e.branch.name.localeCompare(t.branch.name);var o=e.lastBuild.finishTime||e.lastBuild.startTime||e.lastBuild.queueTime,n=t.lastBuild.finishTime||t.lastBuild.startTime||t.lastBuild.queueTime;return Date.parse(n)-Date.parse(o)}));for(var r=0;r<2&&r<n.length;r++){var i=n[r].branch.name;t.getOrCreateBranchConfigurationStore(i).buildsStore.refreshBuilds(e)}}}),{name:"buildsPrefetcher"})},t.prototype.watchRepositoryAfterLoad=function(){var e=this;this.disableRepositoryWatching(),this.watchRepoDisposer=(0,a.when)((function(){return e.branchesStore.isLoaded}),(function(){e.websocketStore.watchRepository()}),{name:"watchRepoAwaiter"})},t.prototype.disableRepositoryWatching=function(){this.watchRepoDisposer&&(this.watchRepoDisposer(),this.watchRepoDisposer=null),this.websocketStore.unwatchRepository()},t.prototype.enableFocusRefresh=function(){var e=this;this.disableFocusRefresh(),this.focusAutorunDisposer=(0,a.autorun)((function(){if(u.browserStore.focused){var t=e.branchesStore.lastFetchToNow();if(t&&!(t<6e4)){e.websocketStore.isOpen&&e.websocketStore.watchingRepository;e.currentBranchConfigurationStore&&e.currentBranchConfigurationStore.buildsStore.refreshBuilds(),e.branchesStore.refresh()}}}),{name:"focusRefresher"})},t.prototype.disableFocusRefresh=function(){this.focusAutorunDisposer&&(this.focusAutorunDisposer(),this.focusAutorunDisposer=null)},Object.defineProperty(t.prototype,"hasNonUniqueBranches",{get:function(){var e=this;return!!(this.branchesStore&&this.branchesStore.data&&this.branchesStore.isLoaded)&&this.branchesStore.data.some((function(t,o){return e.branchesStore.data.some((function(e,n){if(o!==n)return t.branch.name.toLocaleLowerCase()===e.branch.name.toLocaleLowerCase()}))}))},enumerable:!1,configurable:!0}),i([a.computed],t.prototype,"isConfigured",null),i([a.action],t.prototype,"checkIsConfigured",null),i([a.computed],t.prototype,"isConfiguring",null),i([a.action],t.prototype,"configureRepo",null),i([a.computed],t.prototype,"isRemovingConfiguration",null),i([a.action],t.prototype,"unconfigureRepo",null),i([a.observable],t.prototype,"currentBranch",void 0),i([a.computed],t.prototype,"currentBranchStatus",null),i([a.action],t.prototype,"setCurrentBranch",null),i([a.observable],t.prototype,"currentBranchConfigurationStore",void 0),i([a.action],t.prototype,"setCurrentBranchConfigurationStore",null),i([a.observable],t.prototype,"currentProjectsStore",void 0),i([a.action],t.prototype,"setCurrentProjectsStore",null),i([a.computed],t.prototype,"hasNonUniqueBranches",null),t}(l.CIBaseStore);t.RepoStore=C},3132:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.BranchesStore=void 0;var a=o(5),s=o(4),u=o(13),c=o(2730),l=o(2725),p=o(2916),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastBuildId=0,t._requiresReconnect=!1,t}return r(t,e),Object.defineProperty(t.prototype,"lastBuildId",{get:function(){return this._lastBuildId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiresReconnect",{get:function(){return this._requiresReconnect},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"configuredBranches",{get:function(){return this.data?this.data.filter((function(e){return e.configured})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasConfiguredBranches",{get:function(){return this.configuredBranches.length>0},enumerable:!1,configurable:!0}),t.prototype.setRequiresReconnect=function(e){this._requiresReconnect!==e&&(this._requiresReconnect=e)},t.prototype.fetchBranches=function(e){var t=this;void 0===e&&(e=!1),this.lastFetchTimestamp=Date.now();var o=this.getPathWithSlug("branches");return this.fetchBranchesPromise=u.apiGateway.get(o).then((0,a.action)((function(e){return t.updateBranchStatuses(e),e}))).catch((function(e){throw t.shouldHandleError(e)&&t.setRequiresReconnect(!0),e})),e?this.loadInBackgroundVoid(this.fetchBranchesPromise):this.loadVoid(this.fetchBranchesPromise)},t.prototype.refresh=function(){return this.fetchBranchesPromise&&this.fetchBranchesPromise.isPending()?this.fetchBranchesPromise.then(s.noop):this.fetchBranches(!0)},t.prototype.updateStatusLocally=function(e,t,o,n){void 0===o&&(o=!0),void 0===n&&(n=!0);var r=this.data&&this.data.find((function(t){return t.branch&&t.branch.name===e})),i=!!r;return r&&t(r),n&&this.fetchBranchesPromise&&(this.fetchBranchesPromise=void 0),o&&this.refresh(),i},t.prototype.updateBranchLastBuild=function(e,t){var o=this;if(void 0===t&&(t=!0),e&&e.sourceBranch&&"pullRequest"!==e.reason){var n=e.sourceBranch.replace(/^refs\/heads\//,"");this.updateStatusLocally(n,(function(t){if(void 0!==t.lastBuild&&t.lastBuild.id>o._lastBuildId&&(o._lastBuildId=t.lastBuild.id),void 0!==t.lastBuild&&Number.isInteger(t.lastBuild.id)){if(t.lastBuild.id===e.id||e.id>t.lastBuild.id){if(t.lastBuild.id===e.id)if(Date.parse(t.lastBuild&&t.lastBuild.lastChangedDate||"")>Date.parse(e.lastChangedDate||""))return;delete(n=Object.assign({startTime:null,finishTime:null,queueTime:null},e)).id,(0,a.set)(t.lastBuild,n),t.lastBuild.id=e.id}}else{var n=Object.assign({},e);(0,a.set)(t,{lastBuild:n})}}),!1,t)}},t.prototype.hasBranch=function(e){return!!(this.data&&this.data.length>0)&&this.data.some((function(t){return t.branch&&t.branch.name===e}))},t.prototype.updateBranchStatuses=function(e){var t=this;if(this.setRequiresReconnect(!1),Array.isArray(e)){var o=this.app&&this.app.id&&l.ciStore.getRepoStore(this.app.id);e.forEach((function(e){e.lastBuild?t._lastBuildId=Math.max(e.lastBuild.id,t._lastBuildId):e.lastBuild=void 0,o&&e.branch&&e.branch.commit&&e.branch.commit.commit&&o.commitsStore.updateCommitInfoLocally(e.branch.commit)}))}},t.prototype.shouldHandleError=function(e){return e&&(401===e.status||403===e.status||404===e.status||400===e.status&&p.Utils.isCodeHostNotAuthenticatedErrorResponse(e)||navigator.appVersion.includes("Edge/14.14393")&&e.httpResponse&&"TypeMismatchError"===e.httpResponse.message)},i([a.observable],t.prototype,"_requiresReconnect",void 0),i([a.computed],t.prototype,"configuredBranches",null),i([a.computed],t.prototype,"hasConfiguredBranches",null),i([a.action],t.prototype,"setRequiresReconnect",null),i([a.action],t.prototype,"fetchBranches",null),i([a.action],t.prototype,"refresh",null),i([a.action],t.prototype,"updateStatusLocally",null),t}(c.CIBaseStore);t.BranchesStore=d},3133:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.BuildsStore=t.DistributeBuildStore=t.UpdateBuildStore=t.QueueBuildStore=void 0;var a=o(5),s=o(22),u=o(7),c=o(10),l=o(10),p=o(13),d=o(2730),f=o(2725),h=o(2918),g=o(3134),b=o(2724),m=o(4),y=function(e){function t(){var t=e.call(this)||this;return t.state=u.ExternalDataState.Loaded,t}return r(t,e),t.prototype.load=function(t){return e.prototype.load.call(this,t)},t}(u.DEPRECATED_DO_NOT_USE_SEE_DOC_COMMENT_ExternalDataStore);t.QueueBuildStore=y;var v=function(e){function t(){var t=e.call(this)||this;return t.state=u.ExternalDataState.Loaded,t}return r(t,e),t.prototype.load=function(t){return e.prototype.load.call(this,t)},t}(u.DEPRECATED_DO_NOT_USE_SEE_DOC_COMMENT_ExternalDataStore);t.UpdateBuildStore=v;var S=function(e){function t(){var t=e.call(this)||this;return t.state=u.ExternalDataState.Loaded,t}return r(t,e),t.prototype.reset=function(){this.setState(u.ExternalDataState.Loaded)},t.prototype.loadVoid=function(t){return e.prototype.loadVoid.call(this,t)},t}(u.DEPRECATED_DO_NOT_USE_SEE_DOC_COMMENT_ExternalDataStore);t.DistributeBuildStore=S;var _=function(e){function t(t,o){var n=e.call(this,t)||this;return n.branch=o,n.queueBuildStore=new y,n.updateBuildStore=new v,n.distributeBuildStore=new S,n.buildDistributionStore=new g.BuildDistributionStore(t),n.buildLogsStore=new h.BuildLogsStore,n.needsRefresh=!1,n}return r(t,e),t.prototype.fetchBuilds=function(e,t){var o=this;void 0===e&&(e=!1),void 0===t&&(t=!0);var n=this.getPathWithSlug("branches/:branch/builds");return this.fetchPromise=p.apiGateway.get(n,{params:{branch:this.branch||""}}).then((function(e){if(Array.isArray(e)){e=e.sort((function(e,t){return t.id-e.id}));var n=o.app&&o.app.id&&f.ciStore.getRepoStore(o.app.id);if(n)for(var r=0;r<e.length&&r<30;r++)n.commitsStore.ensureCommitInfo(e[r].sourceVersion);o.updateBranchLastBuild(e[0],t)}return e})),e?this.loadInBackgroundVoid(this.fetchPromise):this.loadVoid(this.fetchPromise)},t.prototype.refreshBuilds=function(e){void 0===e&&(e=!0),this.fetchPromise&&this.fetchPromise.isPending()||this.fetchBuilds(!this.isPending,e)},t.prototype.scheduleForRefresh=function(){this.needsRefresh=!0},t.prototype.refreshBuildsIfNeeded=function(e,t){var o;void 0===e&&(e=!1),void 0===t&&(t=!0),e&&(null===(o=this.data)||void 0===o?void 0:o.some((function(e,t,o){return e.status!==b.BuildStatus.Completed})))&&(this.needsRefresh=!0),this.needsRefresh&&(this.needsRefresh=!1,this.refreshBuilds(t))},t.prototype.updateBuildData=function(e){var t=this.getBuildById(e.id);t?(0,a.set)(t,e):(this.data||(this.data=[],this.isPending&&this.setState(u.ExternalDataState.Loaded)),this.data.unshift(e)),this.updateBranchLastBuild(e)},t.prototype.updateBranchLastBuild=function(e,t){if(void 0===t&&(t=!0),e){var o=this.app&&this.app.id&&f.ciStore.getRepoStore(this.app.id);o&&o.branchesStore.updateBranchLastBuild(e,t)}},t.prototype.fetchBuildDetails=function(e){var t=this;if(this.fetchBuildDetailsPromise&&this.fetchBuildDetailsPromise.isPending()&&this._lastBuildDetailsId===e)return this.fetchBuildDetailsPromise;this._lastBuildDetailsId=e;var o=this.getPathWithSlug("builds/:build_id");return this.fetchBuildDetailsPromise=p.apiGateway.get(o,{params:{build_id:String(e)}}).then((function(e){t.updateBuildData(e)}),m.noop),this.fetchBuildDetailsPromise},t.prototype.setCurrentBuildId=function(e){this.currentBuildId=e},Object.defineProperty(t.prototype,"currentBuild",{get:function(){var e=this.currentBuildId,t=this.data||[];if(e&&0!==t.length)return this.getBuildById(e)},enumerable:!1,configurable:!0}),t.prototype.getBuildById=function(e){return(this.data||[]).find((function(t){return t.id===e}))},t.prototype.queueBuild=function(e,t,o,n){var r=this;void 0===t&&(t=!1);var i=this.app&&this.app.id&&f.ciStore.getRepoStore(this.app.id);if(i){var a=i.websocketStore;a.isConnecting||a.isOpen||a.openWebSocket()}var s=this.getPathWithSlug("branches/:branch/builds"),u={params:{branch:e},body:{sourceVersion:o}};return n&&(u.body.sourceBranch=n,u.body.buildReason="pullRequest"),this.queueBuildPromise=p.apiGateway.post(s,u).then((function(o){if(r.updateBuildData(o),i&&i.websocketStore.subscribeToBuild(e,o.id),t){var n=window.location.pathname;r.app&&n&&n.endsWith("/start")&&l.locationStore.pushWithApp("build/branches/:branch/builds/:build_id",r.app,{branch:e,build_id:String(o.id)})}return o})).catch((function(t){throw r.app&&l.locationStore.pushWithApp("build/branches/:branch/builds/start",r.app,{branch:e}),t})),this.queueBuildStore.load(this.queueBuildPromise),this.queueBuildPromise},t.prototype.cancelBuild=function(e){var t={status:b.BuildStatus.Cancelling};return this.updateBuild(e,t).then((function(){(0,c.notifyScreenReader)({message:(0,s.t)("build:buildsStore.buildCanceled")})}))},t.prototype.updateBuild=function(e,t){var o=this,n=this.getPathWithSlug("builds/:build_id"),r={params:{build_id:String(e)},body:t};return this.updateBuildPromise=p.apiGateway.patch(n,r).then((function(e){return o.updateBuildData(e),e})),this.updateBuildStore.load(this.updateBuildPromise),this.updateBuildPromise},t.prototype.fetchBuildLog=function(e){var t=this;if(this.fetchBuildLogPromise&&this.fetchBuildLogPromise.isPending()&&this._lastBuildLogId===e)return this.fetchBuildLogPromise;this._lastBuildLogId=e;var o=this.getPathWithSlug("builds/:build_id/logs"),n={params:{build_id:String(e)}};return this.fetchBuildLogPromise=p.apiGateway.get(o,n).then((function(o){var n=o.value||[];return n=n.map((function(e){return e.replace(/^\d{4}-\d{2}-\d{2}T[0-9:.]{16}Z /,"")})),t.buildLogsStore.assignBuildLog(e,n),n})).catch((function(o){return o&&404===o.status&&t.buildLogsStore.assignBuildLog(e,[],h.BuildLogState.Failure),[]})),this.fetchBuildLogPromise},t.prototype.getDownloadUrl=function(e,t){return this.getPathWithSlug("builds/".concat(e,"/downloads/").concat(t))},t.prototype.distributeBuild=function(e,t,o,n,r){var i=this;if(Array.isArray(t)&&0!==t.length){var a=this.getPathWithSlug("builds/:build_id/distribute"),s={body:{destinations:t,releaseNotes:o||"",mandatoryUpdate:r,notifyTesters:n},params:{build_id:String(e)}},u=p.apiGateway.post(a,s).then((function(o){var n=i.app&&i.app.id&&f.ciStore.getRepoStore(i.app.id),r=o.upload_id;return n&&i.branch&&n.distributionUploadStore.addUpload(r,o.status,e,i.branch,t),i.buildDistributionStore.associateUpload(e,r),i.app&&l.locationStore.pushWithApp("build/branches/:branch/builds/:build_id",i.app,{branch:i.branch,build_id:String(e)}),o}));return this.distributeBuildStore.loadVoid(u)}},i([a.action],t.prototype,"fetchBuilds",null),i([a.action],t.prototype,"refreshBuilds",null),i([a.action],t.prototype,"refreshBuildsIfNeeded",null),i([a.action],t.prototype,"updateBuildData",null),i([a.action],t.prototype,"fetchBuildDetails",null),i([a.observable],t.prototype,"currentBuildId",void 0),i([a.action],t.prototype,"setCurrentBuildId",null),i([a.computed],t.prototype,"currentBuild",null),i([a.action],t.prototype,"queueBuild",null),i([a.action],t.prototype,"cancelBuild",null),i([a.action],t.prototype,"updateBuild",null),i([a.action],t.prototype,"fetchBuildLog",null),t}(d.CIBaseStore);t.BuildsStore=_},3134:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.BuildDistributionStore=void 0;var r=o(5),i=o(2725),a=function(){function e(e){this._app=e,this._buildToUploadMap=r.observable.map({})}return e.prototype.associateUpload=function(e,t){this._buildToUploadMap.has(String(e))||this._buildToUploadMap.set(String(e),[]);var o=this._buildToUploadMap.get(String(e))||[];o.find((function(e){return e.uploadId===t}))||o.push({uploadId:t,startTimestamp:Date.now()})},e.prototype.isBuildBeingDistributed=function(e){if(!e)return!1;var t=e.id;if(!this._buildToUploadMap.has(String(t)))return!1;var o=this._app.id&&i.ciStore.getRepoStore(this._app.id);return!!o&&(this._buildToUploadMap.get(String(t))||[]).some((function(e){return o.distributionUploadStore.isUploadInProgress(e.uploadId)&&e.startTimestamp>=Date.now()-3e5}))},n([r.observable],e.prototype,"_buildToUploadMap",void 0),n([r.action],e.prototype,"associateUpload",null),e}();t.BuildDistributionStore=a},3138:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.CommitsStore=void 0;var a=o(5),s=o(13),u=o(2730),c=o(2725),l=o(4),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fetchPromises={},t.commits={lite:a.observable.map({},{deep:!1}),full:a.observable.map({},{deep:!1})},t.toLoad={},t.timeoutId=null,t}return r(t,e),Object.defineProperty(t.prototype,"shortShaSupported",{get:function(){return!(c.ciStore.currentRepoStore&&c.ciStore.currentRepoStore.data&&"vsts"===c.ciStore.currentRepoStore.data.type)},enumerable:!1,configurable:!0}),t.prototype.isCommitLoading=function(e,t){if(void 0===t&&(t="lite"),this.commits[t].has(e))return!1;var o=this.fetchPromises[e];return o&&!o.isResolved()},t.prototype.isCommitLoaded=function(e,t){return void 0===t&&(t="lite"),this.commits[t].has(e)},t.prototype.getCommit=function(e,t){void 0===t&&(t="lite");var o=this.commits[t];return o.has(e)?o.get(e):null},t.prototype.fetchCommit=function(e,t){var o=this;void 0===t&&(t="lite");var n=this.fetchPromises[e];if(n&&!n.isResolved)return n;var r=this.getPathWithSlug("commits/:sha");return this.fetchPromises[e]=s.apiGateway.get(r,{params:{sha:e,form:t}}).then((0,a.action)((function(e){return o.commits[t].set(String(e.sha),e),e}))),this.loadVoid(this.fetchPromises[e])},t.prototype.ensureCommitInfo=function(e,t){void 0===t&&(t="lite"),!e||(this.shortShaSupported?e.length>40:40!==e.length)||this.isCommitLoaded(e,t)||this.isCommitLoading(e,t)||(this.toLoad[e]=!0,this.setTimeoutToFetchCommits(t))},t.prototype.setTimeoutToFetchCommits=function(e){var t=this;this.timeoutId||(this.timeoutId=setTimeout((function(){t.fireCommitFetch(e).finally((function(){t.timeoutId&&clearTimeout(t.timeoutId),t.timeoutId=null,Object.keys(t.toLoad).length>0&&t.setTimeoutToFetchCommits(e)}))}),150))},t.prototype.updateCommitInfoLocally=function(e,t){void 0===t&&(t="lite"),this.commits[t].set(e.sha,e)},t.prototype.fireCommitFetch=function(e){var t=this;void 0===e&&(e="lite");var o=Object.keys(this.toLoad),n=(0,l.chunk)(o,40);return Promise.all(n.map((function(o){return t.fetchCommitsBatch(o,e)}))).then((function(e){var t=[];return e.forEach((function(e){t.push.apply(t,e)})),t})).catch((function(){return[]}))},t.prototype.fetchCommitsBatch=function(e,t){var o=this;void 0===t&&(t="lite");var n=e.filter((function(e){return e&&(o.shortShaSupported?e.length<=40:40===e.length)&&!o.fetchPromises[e]}));if(0===n.length)return Promise.resolve([]);n.forEach((function(e){delete o.toLoad[e]}));var r=this.getPathWithSlug("commits/batch"),i=s.apiGateway.get(r,{params:{form:t,hashes:n.join(",")}}).then((0,a.action)((function(e){return e.forEach((function(e){o.commits[t].set(String(e.sha),e)})),e})));return n.forEach((function(e){o.fetchPromises[e]=i})),i},i([a.computed],t.prototype,"shortShaSupported",null),i([a.action],t.prototype,"ensureCommitInfo",null),i([a.action],t.prototype,"setTimeoutToFetchCommits",null),i([a.action],t.prototype,"updateCommitInfoLocally",null),i([a.action],t.prototype,"fireCommitFetch",null),t}(u.CIBaseStore);t.CommitsStore=p},3139:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.DistributionGroupsStore=void 0;var i=o(13),a=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.fetch=function(e){void 0===e&&(e=!1),this.lastFetchTimestamp=Date.now();var t=this.getPathWithSlug("distribution_groups/views/include_users"),o=i.apiGateway.get(t,{params:{users_limit:"10"}});return e?this.loadInBackgroundVoid(o):this.loadVoid(o)},t.prototype.refreshOptimistically=function(){var e=this.lastFetchToNow();(void 0===e||e>6e4||this.isFailed)&&this.fetch(this.isLoaded)},t}(o(2730).CIBaseStore);t.DistributionGroupsStore=a},3140:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.DistributionStoresStore=void 0;var a=o(5),s=o(4),u=o(18),c=o(13),l=o(20),p=o(2730),d=o(2724),f=o(3141),h=o(22),g=o(1665),b=o(88),m=function(e){function t(t){return e.call(this,t)||this}return r(t,e),Object.defineProperty(t.prototype,"grouppedStores",{get:function(){if(this.isLoaded&&this.data&&this.app){var e=(0,s.groupBy)(this.data,(function(e){return e.type})),t=[];switch(this.app.os){case u.OS.ANDROID:t=t.concat(e.googleplay?e.googleplay.reverse():[]);break;case u.OS.IOS:if(e.apple){var o=e.apple.filter((function(e){return e.track===d.StoreTrack.Production})),n=e.apple.filter((function(e){return e.track!==d.StoreTrack.Production}));t=t.concat(o,n)}break;default:return[]}return t.concat(e.intune||[])}return[]},enumerable:!1,configurable:!0}),t.prototype.releaseNotesMinLength=function(e){if(this.isLoaded){var t=this.data&&this.data.find((function(t){return t.id===e}));if(t)return(0,g.expr)((function(){return f.ReleaseHelper.getReleaseNotesMinLength(t)}))}},t.prototype.releaseNotesMaxLength=function(e){if(this.isLoaded){var t=this.data&&this.data.find((function(t){return t.id===e}));if(t)return(0,g.expr)((function(){return f.ReleaseHelper.getReleaseNotesMaxLength(t)}))}},t.prototype.fetch=function(e){var t=this;void 0===e&&(e=!1),this.lastFetchTimestamp=Date.now();var o=this.getPathWithSlug("distribution_stores"),n=c.apiGateway.get(o).then((function(e){var o=e.reduce((function(e,t){return(0,d.isAppleStore)(t)?e.appleStores.push(t):e.nonAppleStores.push(t),e}),{appleStores:[],nonAppleStores:[]}),n=o.appleStores,r=o.nonAppleStores;return n&&0!==n.length?t.getAppleAppInfo().then((function(o){return o&&o.team_identifier&&o.apple_id&&o.service_connection_id?t.getAllTestFlightGroups().then((function(t){var i=t.map((function(e){return{id:e.id,name:e.name,track:d.StoreTrack.TestFlightExternal,service_connection_id:o.service_connection_id,type:d.StoreType.AppleStore.toLowerCase(),external:!0}})),a=e.filter((function(e){return"Production"===e.name||"iTunes Connect users"===e.name||"App Store Connect Users"===e.name})),u=(0,s.unionBy)(n,i,"name"),c=(0,s.remove)(u,(function(e){return i.some((function(t){return t.name===e.name}))}));return a=a.concat(c).concat(r)})):e})).catch((function(t){return e})):e}));e?this.loadInBackgroundVoid(n):this.loadVoid(n)},t.prototype.getAllTestFlightGroups=function(){return c.apiGateway.get(this.getPathWithSlug("apple_test_flight_groups"))},t.prototype.getAppleAppInfo=function(){return c.apiGateway.get(this.getPathWithSlug("apple_mapping")).catch((function(e){return Promise.resolve(null)}))},t.prototype.refreshOptimistically=function(){var e=this.lastFetchToNow();(void 0===e||e>6e4||this.isFailed)&&this.fetch(this.isLoaded)},t.prototype.createStoreIfNotExists=function(e){var t=this;if(this.isLoaded){var o=this.data&&this.data.find((function(t){return t.id===e}));return o&&(0,d.isAppleStore)(o)&&o.external?c.apiGateway.post(this.getPathWithSlug("distribution_stores"),{body:{name:o.name,type:d.StoreType.AppleStore.toLowerCase(),track:o.track,service_connection_id:o.service_connection_id}}).then((function(e){return l.logger.info("Ending Creation of apple store for track ".concat(e.track," with storeId : ").concat(e.id),{result:"succeed",source:"build-configuration"}),e})).catch((function(e){throw l.logger.warn("Failed to create apple store for track ".concat(o.track),e,{result:"failed",source:"build-configuration",message:e.message}),(0,a.runInAction)((function(){t.storeCreationError=e})),e})):Promise.resolve(o||null)}return Promise.resolve(null)},Object.defineProperty(t.prototype,"errorNotification",{get:function(){if(this.storeCreationError)switch(this.storeCreationError.status){case 400:return(0,h.t)("build:distribute.storeCreationErrors.appleStoreCredentialsInvalid");case 409:return(0,h.t)("build:distribute.storeCreationErrors.appleStoreCreateDuplicate");default:return(0,h.t)("build:distribute.storeCreationErrors.unhandledError")}},enumerable:!1,configurable:!0}),t.prototype.isAppleServiceDowntimeActive=function(e){if(this.isLoaded){var t=this.data&&this.data.find((function(t){return t.id===e}));if(t&&(0,d.isAppleStore)(t)){var o=new Date,n=b.AppleDowntime.StartDate,r=b.AppleDowntime.EndDate;return o.getTime()>=n.getTime()&&o.getTime()<r.getTime()}return!1}return!1},t.prototype.isAppleServiceDowntimeCompleted=function(e){if(this.isLoaded){var t=this.data&&this.data.find((function(t){return t.id===e}));if(t&&(0,d.isAppleStore)(t)){var o=new Date,n=b.AppleDowntime.EndDate;return o.getTime()>=n.getTime()}return!0}return!0},t.prototype.resetError=function(){this.storeCreationError=void 0},i([a.observable],t.prototype,"storeCreationError",void 0),i([a.computed],t.prototype,"grouppedStores",null),i([a.action],t.prototype,"releaseNotesMinLength",null),i([a.action],t.prototype,"releaseNotesMaxLength",null),i([a.action],t.prototype,"fetch",null),i([a.computed],t.prototype,"errorNotification",null),i([a.action],t.prototype,"resetError",null),t}(p.CIBaseStore);t.DistributionStoresStore=m},3141:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReleaseHelper=t.ReleaseNotesLength=void 0;var n=o(2724);t.ReleaseNotesLength={AppleMinLength:10,AppleMaxLength:4e3,IntuneMinLength:0,IntuneMaxLength:1024,GoogleMinLength:0,GoogleMaxLength:500};var r=function(){function e(){}return e.getReleaseNotesMinLength=function(e){return(0,n.isAppleStore)(e)?t.ReleaseNotesLength.AppleMinLength:(0,n.isGooglePlayStore)(e)?t.ReleaseNotesLength.GoogleMinLength:(0,n.isIntuneStore)(e)?t.ReleaseNotesLength.IntuneMinLength:0},e.getReleaseNotesMaxLength=function(e){return(0,n.isAppleStore)(e)?t.ReleaseNotesLength.AppleMaxLength:(0,n.isGooglePlayStore)(e)?t.ReleaseNotesLength.GoogleMaxLength:(0,n.isIntuneStore)(e)?t.ReleaseNotesLength.IntuneMaxLength:void 0},e}();t.ReleaseHelper=r},3142:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.DistributionUploadStore=void 0;var r=o(5),i=function(){function e(){this._uploadsMap=r.observable.map({})}return e.prototype.addUpload=function(e,t,o,n,r){this._uploadsMap.set(e,{status:t,buildId:o,branch:n,destinations:r})},e.prototype.getUploadData=function(e){if(this._uploadsMap.has(e))return this._uploadsMap.get(e)},e.prototype.updateUploadStatus=function(e,t){if(!this._uploadsMap.has(e))return!1;var o=this._uploadsMap.get(e);return o&&(o.status=t),!0},e.prototype.isUploadInProgress=function(e){var t=this.getUploadData(e);return!!t&&"started"===t.status},n([r.observable],e.prototype,"_uploadsMap",void 0),n([r.action],e.prototype,"addUpload",null),n([r.action],e.prototype,"updateUploadStatus",null),e}();t.DistributionUploadStore=i},3143:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},a=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectsStore=void 0;var s=o(5),u=o(13),c=o(2730),l=o(2724),p=o(4),d=o(10),f=function(e){function t(t,o){var n=e.call(this,t)||this;return n.failedDependencies=0,n.branch=o,n}return r(t,e),Object.defineProperty(t.prototype,"hasData",{get:function(){return this.isLoaded&&null!=this.data},enumerable:!1,configurable:!0}),t.prototype.fetch=function(e,t){var o,n=this;this.fetchPromise&&!t&&(this.fetchPromise=void 0);var r=this.getPathWithSlug("branches/:branch/toolset_projects"),a={params:{}},c={branch:this.branch,os:this.app&&this.app.os,platform:this.app&&this.app.platform||"Objective-C-Swift"},p=d.appFeaturesStore.isBuildExtendedBranchSearchDepthActive(null===(o=this.app)||void 0===o?void 0:o.id)?{maxSearchDepth:l.EXTENDED_REPO_SEARCH_DEPTH}:{},f=i(i({},c),p);Object.assign(a.params,f),this.lastCommitSha=e;var h=u.apiGateway.get(r,a).catch((0,s.action)((function(t){if(t&&424===t.status){var o=n.failedDependencies;if(o>50)throw t;return n.failedDependencies=o+1,Promise.delay(5e3).then((function(){return n.fetch(e,!0)}))}throw t})));return t?h:(this.fetchPromise=h,this.load(this.fetchPromise).then((function(e){return n.failedDependencies>0&&(n.failedDependencies=0),e})))},t.prototype.fetchForCommit=function(e){e===this.lastCommitSha&&this.fetchPromise&&!this.fetchPromise.isRejected()||this.fetch(e).catch(p.noop)},a([s.observable],t.prototype,"failedDependencies",void 0),a([s.computed],t.prototype,"hasData",null),t}(c.CIBaseStore);t.ProjectsStore=f},3144:function(e,t,o){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)},r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketStore=t.WebSocketStoreState=void 0;var i,a=o(5),s=o(22),u=o(10),c=o(13),l=o(20),p=o(47),d=o(10),f=o(2725),h=o(2918),g=o(2724),b=o(2917);!function(e){e[e.Pending=0]="Pending",e[e.Negotiating=1]="Negotiating",e[e.Connecting=2]="Connecting",e[e.Open=3]="Open",e[e.Closed=4]="Closed",e[e.Failed=5]="Failed"}(i=t.WebSocketStoreState||(t.WebSocketStoreState={}));var m=function(){function e(e){var t=this;this.HEARTBEAT_PAYLOAD=JSON.stringify({type:"WEBSOCKET_HEARTBEAT_MESSAGE"}),this.HEARTBEAT_INTERVAL=45e3,this.state=i.Pending,this.onConnectionOpen=function(){t.state=i.Open,t.watchingRepoEvents&&t.sendWatchRepoCommand(),t.watchedBuild&&t.sendWatchBuildCommand(t.watchedBuild.id)},this.onConnectionClose=function(e){if(t.heartbeatInterval&&clearInterval(t.heartbeatInterval),t.state!==i.Failed)t.state=i.Closed;else{var o=e?{eventCode:e.code,eventReason:e.reason}:void 0;l.logger.warn("Failed to close web socket connection",t.error,o)}if(t.watchedBuild){var n=t.getBuildsStore(t.watchedBuild.branch);if(!n||n.buildLogsStore.isBuildLogCompleted(t.watchedBuild.id))return;n.buildLogsStore.setLogState(t.watchedBuild.id,h.BuildLogState.Interrupted);var r=n.buildLogsStore.getBuildLog(t.watchedBuild.id);if(!r||0===r.length)return;t.appendBuildLogLines(t.watchedBuildId,["##[warning]Build agent connection lost"])}},this.onMessage=function(e){var o=JSON.parse(e.data);if(o)switch(o.type){case"logConsoleLines":var n=o.buildId;t.appendBuildLogLines(n,o.data);break;case"buildUpdated":var r=o.data;t.processBuildUpdate(r);break;case"branchUpdated":var i=o.data;t.processBranchUpdate(i);break;case"branchDelete":t.processBranchDelete(o.data.name);break;case"distributionUpdated":t.processDistributionEvent(o.data)}},this.app=e,this.listeners=[],this.lastGeneratedId=1}return Object.defineProperty(e.prototype,"isFailed",{get:function(){return this.state===i.Failed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnecting",{get:function(){return this.state===i.Negotiating||this.state===i.Connecting},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.state===i.Open},enumerable:!1,configurable:!0}),e.prototype.openWebSocket=function(){var e=this;if(this.closeWebSocket(),this.state=i.Negotiating,this.error=void 0,u.appStore.app){var t="/v0.1/apps/".concat(u.appStore.app.owner.name,"/").concat(u.appStore.app.name,"/websockets");c.apiGateway.post(t).then((function(t){e.connectToWebsocket(t.url)})).catch((0,a.action)((function(t){e.state=i.Failed,e.error=t})))}},e.prototype.connectToWebsocket=function(e){var t=this;this.closeWebSocket(),this.state=i.Connecting;var o=this.ws=new WebSocket(e);o.onopen=this.onConnectionOpen,o.onclose=this.onConnectionClose,o.onerror=(0,a.action)((function(){t.state=i.Failed,t.error=new Error("WebSocket encountered an error")})),o.onmessage=this.onMessage,this.heartbeatInterval=setInterval((function(){if(t.ws&&t.ws.readyState===t.ws.OPEN)try{t.ws.send(t.HEARTBEAT_PAYLOAD)}catch(e){(0,a.runInAction)((function(){t.state=i.Failed,t.error=e}))}}),this.HEARTBEAT_INTERVAL)},e.prototype.closeWebSocket=function(){this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.ws&&(this.ws.onopen=null,this.ws.onclose=null,this.ws.onerror=null,this.ws.onmessage=null,this.state===i.Open&&this.onConnectionClose(),this.ws.close(),this.ws=void 0,this.state=i.Closed,this.watchedBuild=void 0)},e.prototype.getBuildsStore=function(e){var t=this.app.id&&f.ciStore.getRepoStore(this.app.id);if(t){var o=t.getBranchConfigurationStore(e);if(o)return o.buildsStore}},e.prototype.appendBuildLogLines=function(e,t){if(this.watchedBuildId===e){var o=this.watchedBuild&&this.getBuildsStore(this.watchedBuild.branch);o&&o.buildLogsStore.appendBuildLog(e,t)}for(var n=0,r=this.listeners;n<r.length;n++){r[n].callback(t,e)}},e.prototype.processBuildUpdate=function(e){var t=this,o=this.app.id&&f.ciStore.getRepoStore(this.app.id);o&&(0,a.runInAction)((function(){var n=e.sourceBranch.replace(/^refs\/heads\//,""),r=o.getBranchConfigurationStore(n),i=r&&r.buildsStore;r&&r.configurationState!==b.BranchConfigurationState.Unconfigured&&(i?i.updateBuildData(e):o.branchesStore.updateBranchLastBuild(e)),i&&i.scheduleForRefresh(),e.status===g.BuildStatus.Completed&&e.id===t.watchedBuildId&&(t.watchedBuild=void 0,i&&((0,p.notifyScreenReader)({message:(0,s.t)("build:buildsStore.buildCompleted")}),i.buildLogsStore.setLogState(e.id,h.BuildLogState.Completed)))}))},e.prototype.processBranchUpdate=function(e){var t=this,o=this.app.id&&f.ciStore.getRepoStore(this.app.id);o&&(0,a.runInAction)((function(){var n=o.branchesStore;if(e.commitDetails&&o.commitsStore.updateCommitInfoLocally(e.commitDetails),!n.updateStatusLocally(e.branch.name,(function(t){t.branch&&(t.branch.commit=e.branch.commit),e.lastBuild&&(t.lastBuild=e.lastBuild)}),!1)&&n.data){var r={branch:e.branch,configured:!1,lastBuild:e.lastBuild||void 0};n.data.push(r)}var i=t.getBuildsStore(e.branch.name);e.lastBuild&&i&&i.updateBuildData(e.lastBuild)}))},e.prototype.processBranchDelete=function(e){var t=this,o=this.app.id&&f.ciStore.getRepoStore(this.app.id);o&&(0,a.runInAction)((function(){var n=o.branchesStore;if(n.data){var r=n.data.findIndex((function(t){return t.branch&&t.branch.name===e}));r<0||(n.data.splice(r,1),window&&window.location&&window.location.pathname.indexOf("/build/branches/"+encodeURIComponent(e))>=0&&u.locationStore.pushWithApp("build/branches",t.app))}}))},e.prototype.processDistributionEvent=function(e){var t=this.app.id&&f.ciStore.getRepoStore(this.app.id);if(t&&("error"===e.status&&l.logger.info("build-distribution-failure",e.details),t.distributionUploadStore.updateUploadStatus(e.uploadId,e.status))){var o=t.distributionUploadStore.getUploadData(e.uploadId),r="success"===e.status,i="error"===e.status&&e.details&&e.details.message||"",a={};r&&o&&o.destinations&&this.isStoreDistribution(o.destinations)&&(a={buttonText:(0,s.t)("build:distribute.storeReleaseStatusButtonText"),action:function(){u.locationStore.pushWithCurrentApp("distribute/distribution-stores/:name/releases/:id",{name:o.destinations[0].name,id:e.details.releaseId})}}),d.notificationStore.notify(n({persistent:!0,message:r?(0,s.t)("build:distribute.buildDistributeSuccess",{buildId:o&&o.buildId}):(0,s.t)("build:distribute.buildDistributeFailure",{buildId:o&&o.buildId,errorMessage:i})},a))}},e.prototype.isStoreDistribution=function(e){return e&&e[0]&&e[0].type===g.ReleaseDestinationType.Store},e.prototype.sendPayload=function(e){return!(!this.ws||this.ws.readyState!==WebSocket.OPEN)&&(this.ws.send(JSON.stringify(e)),!0)},e.prototype.sendWatchBuildCommand=function(e){this.sendPayload({method:"subscribe",buildId:e})},e.prototype.sendWatchRepoCommand=function(){this.sendPayload({method:"watch-repo"})},e.prototype.subscribeToBuild=function(e,t){e&&Number.isInteger(t)&&(this.isOpen||this.isConnecting||this.openWebSocket(),this.watchedBuild&&this.watchedBuild.id===t||(this.watchedBuild={id:t,branch:e},Number.isInteger(t)&&this.sendWatchBuildCommand(t)))},Object.defineProperty(e.prototype,"watchedBuildId",{get:function(){return this.watchedBuild&&this.watchedBuild.id},enumerable:!1,configurable:!0}),e.prototype.watchRepository=function(){this.isOpen||this.isConnecting||this.openWebSocket(),this.watchingRepoEvents=!0,this.sendWatchRepoCommand()},e.prototype.unwatchRepository=function(){this.watchingRepoEvents=!1},Object.defineProperty(e.prototype,"watchingRepository",{get:function(){return!!this.watchingRepoEvents},enumerable:!1,configurable:!0}),e.prototype.addConsoleListener=function(e){var t=this.lastGeneratedId++,o={id:t,callback:e};return this.listeners.push(o),t},e.prototype.removeConsoleListener=function(e){if(!(e<=0)){var t=this.listeners.findIndex((function(t){return t.id===e}));t<0||this.listeners.splice(t,1)}},r([a.observable],e.prototype,"state",void 0),r([a.observable],e.prototype,"error",void 0),r([a.computed],e.prototype,"isFailed",null),r([a.computed],e.prototype,"isConnecting",null),r([a.computed],e.prototype,"isOpen",null),r([a.action],e.prototype,"openWebSocket",null),r([a.action],e.prototype,"connectToWebsocket",null),r([a.action],e.prototype,"closeWebSocket",null),r([a.action],e.prototype,"onConnectionOpen",void 0),r([a.action],e.prototype,"onConnectionClose",void 0),r([a.action],e.prototype,"subscribeToBuild",null),r([a.action],e.prototype,"watchRepository",null),e}();t.WebSocketStore=m},3145:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.SourceHostStore=t.RepoProviderState=void 0;var a,s=o(5),u=o(10),c=o(13),l=o(7),p=o(2916);!function(e){e[e.Unknown=0]="Unknown",e[e.Unauthorized=1]="Unauthorized",e[e.Authorized=2]="Authorized",e[e.Expired=3]="Expired"}(a=t.RepoProviderState||(t.RepoProviderState={}));var d=function(e){function t(t){var o=e.call(this)||this;return o.searchFilter="",o.providerState=a.Unknown,o.selfHost=void 0,o.selfHostServiceConnection=void 0,o._sourceHost=t,o}return r(t,e),t.forSourceHost=function(e){var o=this.storeCache[e];return o||(this.storeCache[e]=o=new t(e)),o},Object.defineProperty(t.prototype,"filtered",{get:function(){var e=this.data;if(e&&this.isLoaded&&this.searchFilter&&this.searchFilter.trim().length>0){var t=this.searchFilter.trim().toLowerCase().split("/");return e.filter((function(e){for(var o=0,n=t;o<n.length;o++){var r=n[o],i=e.name&&e.name.toLowerCase().indexOf(r)>=0,a=e.owner&&e.owner.login&&e.owner.login.toLowerCase().indexOf(r)>=0;if(!i&&!a)return!1}return!0}))}return e||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnauthorized",{get:function(){return this.providerState===a.Unauthorized},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiresReconnect",{get:function(){return this.providerState===a.Expired},enumerable:!1,configurable:!0}),t.prototype.setSelfHost=function(){this.selfHost=!0},t.prototype.setGeneralHost=function(){this.selfHost=!1,this.selfHostServiceConnection=void 0},t.prototype.resetHostType=function(){this.selfHost=void 0,this.selfHostServiceConnection=void 0},t.prototype.setSelfHostServiceConnection=function(e){this.selfHostServiceConnection=e},t.prototype.setSearchFilter=function(e){this.searchFilter=e},t.prototype.selectRepo=function(e){if(!(this.data&&this.data.find((function(t){return t.id===e}))))throw Error("Repository with ID ".concat(e," not found."));this.selectedRepoId=e},t.prototype.setProviderState=function(e){this.providerState!==e&&(this.providerState=e)},t.prototype.fetchUserRepos=function(){var e=this,t="/v0.1/apps/".concat(u.appStore.app.owner.name,"/").concat(u.appStore.app.name,"/source_hosts/").concat(this._sourceHost,"/repositories"),o={};this.selfHost&&this.selfHostServiceConnection&&(o.params={service_connection_id:this.selfHostServiceConnection.id});var n=c.apiGateway.get(t,o.params?o:void 0);return this.load(n).then((function(t){return e.setProviderState(a.Authorized),t})).catch((function(t){if(t){switch(t.status){case 400:return p.Utils.isCodeHostNotAuthenticatedErrorResponse(t)&&e.setProviderState(a.Unauthorized),null;case 401:return e.setProviderState(a.Expired),null}if(navigator.appVersion.includes("Edge/14.14393")&&t.httpResponse&&"TypeMismatchError"===t.httpResponse.message)return e.setProviderState(a.Unauthorized),null}throw t}))},t.storeCache={},i([s.observable],t.prototype,"selectedRepoId",void 0),i([s.observable],t.prototype,"searchFilter",void 0),i([s.observable],t.prototype,"providerState",void 0),i([s.observable],t.prototype,"selfHost",void 0),i([s.observable],t.prototype,"selfHostServiceConnection",void 0),i([s.computed],t.prototype,"filtered",null),i([s.action],t.prototype,"setSelfHost",null),i([s.action],t.prototype,"setGeneralHost",null),i([s.action],t.prototype,"resetHostType",null),i([s.action],t.prototype,"setSelfHostServiceConnection",null),i([s.action],t.prototype,"setSearchFilter",null),i([s.action],t.prototype,"selectRepo",null),i([s.action],t.prototype,"setProviderState",null),t}(l.DEPRECATED_DO_NOT_USE_SEE_DOC_COMMENT_ExternalDataStore);t.SourceHostStore=d},3146:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.XcodeVersionsStore=void 0;var a=o(5),s=o(4),u=o(13),c=o(2730),l=o(2820),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"currentVersion",{get:function(){if(this.hasVersions&&this.data)for(var e=0,t=this.data;e<t.length;e++){var o=t[e];if(o.current)return o}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xcode941Version",{get:function(){if(this.hasVersions&&this.data)return(0,s.find)(this.data,(function(e){return e.name.startsWith("9.4.1")}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasVersions",{get:function(){return this.isLoaded&&!!this.data&&this.data.length>0},enumerable:!1,configurable:!0}),t.prototype.fetchVersions=function(e){void 0===e&&(e=!1),this.lastFetchTimestamp=Date.now();var t=this.getPathWithSlug("toolsets"),o=u.apiGateway.get(t,{params:{tools:"xcode"}}).then((function(e){return e.xcode}));return e?this.loadInBackgroundVoid(o):this.loadVoid(o)},t.prototype.refreshOptimistically=function(){var e=this.lastFetchToNow();(void 0===e||e>l.storeOptimisticFetchDelta||this.isFailed)&&this.fetchVersions(this.isLoaded)},i([a.computed],t.prototype,"currentVersion",null),i([a.computed],t.prototype,"xcode941Version",null),i([a.computed],t.prototype,"hasVersions",null),t}(c.CIBaseStore);t.XcodeVersionsStore=p},3147:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.XamarinSDKBundlesStore=void 0;var i=o(2730),a=o(13),s=o(2820),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.fetchVersions=function(e){void 0===e&&(e=!1),this.lastFetchTimestamp=Date.now();var t=this.getPathWithSlug("toolsets"),o=a.apiGateway.get(t,{params:{tools:"xamarin"}}).then((function(e){return e.xamarin}));return e?this.loadInBackgroundVoid(o):this.loadVoid(o)},t.prototype.refreshOptimistically=function(){var e=this.lastFetchToNow();(void 0===e||e>s.storeOptimisticFetchDelta||this.isFailed)&&this.fetchVersions(this.isLoaded)},t}(i.CIBaseStore);t.XamarinSDKBundlesStore=u},3148:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeVersionsStore=void 0;var a=o(5),s=o(13),u=o(2730),c=o(2820),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"currentVersion",{get:function(){if(this.hasVersions)return this.data&&this.data.find((function(e){return e.current}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasVersions",{get:function(){return this.isLoaded&&!!this.data&&this.data.length>0},enumerable:!1,configurable:!0}),t.prototype.fetchVersions=function(e){void 0===e&&(e=!1),this.lastFetchTimestamp=Date.now();var t=this.getPathWithSlug("toolsets"),o=s.apiGateway.get(t,{params:{tools:"node"}}).then((function(e){return e.node}));return e?this.loadInBackgroundVoid(o):this.loadVoid(o)},t.prototype.refreshOptimistically=function(){var e=this.lastFetchToNow();(void 0===e||e>c.storeOptimisticFetchDelta||this.isFailed)&&this.fetchVersions(this.isLoaded)},i([a.computed],t.prototype,"currentVersion",null),i([a.computed],t.prototype,"hasVersions",null),t}(u.CIBaseStore);t.NodeVersionsStore=l},3280:function(e,t,o){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)},r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigureStore=void 0;var i=o(5),a=o(2725),s=o(18),u=o(10),c=o(3281),l=o(2846),p=o(2848),d=o(3284),f=o(3285),h=o(3286),g=o(3287),b=o(3288),m=o(3291),y=o(3292),v=o(3293),S=o(2849),_=function(){function e(e,t){var o=this;switch(this.handlers=[],this.updatingExistingConfiguration=!1,this.cardsState={build:void 0,sign:void 0,test:void 0,distribute:void 0,advanced:void 0,customVariables:void 0},this.hasProjectsStore=!1,this.branchDetailsReady=function(){var e=o.repoStore,t=e&&e.currentBranchStatus;return!!t&&!!t.branch&&t.branch.name===o.branchName},this.onBranchDetailsLoaded=function(){o.projectsStore=o.repoStore.setCurrentProjectsStore(o.branchName),o.hasProjectsStore=!0;var e=o.repoStore.currentBranchStatus&&o.repoStore.currentBranchStatus.branch&&o.repoStore.currentBranchStatus.branch.commit.sha;e&&o.projectsStore.fetchForCommit(e),o.branchAnalysisAwaiterDisposer=(0,i.when)((function(){return!!o.projectsStore&&!o.projectsStore.isPending}),o.onBranchAnalysisFinished,{name:"branchAnalysisAwaiter"}),o.allBranchDataAwaiterDisposer=(0,i.when)((function(){return!!o.projectsStore&&!o.projectsStore.isPending&&o.branchConfigurationReady()}),o.onAllBranchDataReady,{name:"allBranchDataAwaiter"})},this.onBranchAnalysisFinished=function(){o.projectsStore&&o.handlers.forEach((function(e){return e.onBranchAnalysisFinished(o.projectsStore)}))},this.branchConfigurationReady=function(){var e=o.repoStore,t=o.branchConfigurationStore,n=e&&e.currentBranchStatus;return!!(o.app.os!==s.OS.IOS&&o.app.os!==s.OS.MACOS||o.xcodeVersionsStore&&o.xcodeVersionsStore.isLoaded)&&(!!(o.app.platform!==s.PLATFORMS.XAMARIN.value||o.sdkBundlesStore&&o.sdkBundlesStore.isLoaded)&&(!!(o.app.platform!==s.PLATFORMS.REACT_NATIVE.value||!(0,S.isSelectNodeVersionEnabled)()||o.nodeVersionsStore&&o.nodeVersionsStore.isLoaded)&&!!(n&&!n.configured||t&&t.isLoaded)))},this.distributionDependenciesReady=function(){if(!o.repoStore)return!1;var e=o.repoStore,t=e.distributionGroupsStore,n=e.distributionStoresStore;return t.isLoaded&&n.isLoaded},this.filterXcodeForIOS=function(e,t){return!0},this.filterXcodeForMacOS=function(e,t){return!e.startsWith("8.")},this.filterXcodeForXamarin=function(e,t){var n=t.selectedSymlink;if(!n)return!1;var r=o.sdkBundlesStore&&o.sdkBundlesStore.data&&o.sdkBundlesStore.data.find((function(e){return e.symlink===n})),i=r&&r.xcodeVersions;return!!i&&i.includes(e)},this.filterXcodeForReactNative=function(e,t,o){return!0},this.xcodeVersionsFilter=function(e,t,n){var r=e&&e.name,i=r.includes("beta");if(!r)return!1;var a=o.app.os===s.OS.IOS&&o.app.platform===s.PLATFORMS.OBJECTIVE_C_SWIFT.value,u=o.app.os===s.OS.MACOS,c=o.app.platform===s.PLATFORMS.XAMARIN.value,l=o.app.platform===s.PLATFORMS.REACT_NATIVE.value;if(a)return o.filterXcodeForIOS(r,i);if(u)return o.filterXcodeForMacOS(r,i);if(c)return!!o.xamarin&&o.filterXcodeForXamarin(r,o.xamarin);if(l){var p=n&&n[0]&&n[0].name;return o.filterXcodeForReactNative(r,i,p)}return!0},this.configPreloaded=!1,this.branchConfigLoadedRan=!1,this.onBranchConfigurationLoaded=function(){if(!o.branchConfigLoadedRan&&(o.branchConfigLoadedRan=!0,o.branchConfigurationStore&&o.branchConfigurationStore.isLoaded?(o.loadedConfiguration=o.branchConfigurationStore.data||void 0,o.updatingExistingConfiguration=!0):o.loadedConfiguration=void 0,!(o.projectsStore&&!o.projectsStore.isPending))){var e={config:o.loadedConfiguration,projectsStore:void 0,xcodeVersionsStore:o.xcodeVersionsStore,sdkBundlesStore:o.sdkBundlesStore,nodeVersionsStore:o.nodeVersionsStore};o.configPreloaded=!0,o.handlers.forEach((function(t){return t.onBranchConfigurationPreLoaded(e)}))}},this.onAllBranchDataReady=function(){o.branchConfigLoadedRan||o.onBranchConfigurationLoaded();var e={config:o.loadedConfiguration,projectsStore:o.projectsStore,xcodeVersionsStore:o.xcodeVersionsStore,sdkBundlesStore:o.sdkBundlesStore,nodeVersionsStore:o.nodeVersionsStore,wasPreloaded:o.configPreloaded};o.handlers.forEach((function(t){return t.onAllBranchDataAvailable(e)}))},this.app=n({},e),this.branchName=t,this.app.os){case s.OS.IOS:case s.OS.MACOS:switch(this.xcodeVersionsStore=a.ciStore.setCurrentXcodeVersionsStore(this.app,!0),this.app.platform){case s.PLATFORMS.XAMARIN.value:this.primaryHandler=this.common=this.xamarin=new g.ConfigurePlatformXamarin(this.repoStore),this.xcode=this.xamarin.ios;break;case s.PLATFORMS.REACT_NATIVE.value:this.primaryHandler=this.common=this.react=this.xcode=new f.ConfigurePlatformReactIos(this.repoStore);break;default:this.primaryHandler=this.common=this.xcode=new p.ConfigurePlatformXcode(this.repoStore)}break;case s.OS.ANDROID:switch(this.app.platform){case s.PLATFORMS.XAMARIN.value:this.primaryHandler=this.common=this.xamarin=new g.ConfigurePlatformXamarin(this.repoStore),this.android=this.xamarin.android;break;case s.PLATFORMS.REACT_NATIVE.value:this.primaryHandler=this.common=this.react=this.android=new d.ConfigurePlatformReactAndroid(this.repoStore);break;default:this.primaryHandler=this.common=this.android=new l.ConfigurePlatformAndroid(this.repoStore)}break;case s.OS.WINDOWS:this.primaryHandler=this.common=this.uwp=new h.ConfigurePlatformUwp(this.repoStore)}this.app.platform===s.PLATFORMS.XAMARIN.value&&(this.sdkBundlesStore=a.ciStore.setCurrentXamarinSDKBundlesStore(this.app,!0)),this.app.platform===s.PLATFORMS.REACT_NATIVE.value&&(0,S.isSelectNodeVersionEnabled)()&&(this.nodeVersionsStore=a.ciStore.setCurrentNodeVersionsStore(this.app,!0)),this.testcloud=new b.ConfigurePlatformTest(this.repoStore,this.primaryHandler),this.distribute=new m.ConfigurePlatformDistribute(this.repoStore,this.primaryHandler),this.advanced=new y.ConfigurePlatformAdvanced(this.repoStore),this.customVariables=new v.ConfigurePlatformCustomVariables(this.repoStore),this.primaryHandler&&this.handlers.push(this.primaryHandler,this.testcloud,this.distribute,this.advanced,this.customVariables),this.cardsState.build=new c.ConfigureBuildCard(this.app,this.primaryHandler),this.cardsState.sign=new c.ConfigureSignCard(this.app,this.primaryHandler),this.cardsState.test=new c.ConfigureTestCard(this.app,this.testcloud),this.cardsState.distribute=new c.ConfigureDistributeCard(this.app,this.distribute),this.cardsState.advanced=new c.ConfigureAdvancedCard(this.app,this.advanced),this.cardsState.customVariables=new c.ConfigureCustomVariablesCard(this.app,this.customVariables)}return Object.defineProperty(e.prototype,"isBranchAnalyzed",{get:function(){return!!this.hasProjectsStore&&(!!this.projectsStore&&this.projectsStore.isLoaded)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"advancedBuildSettingsExpandable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentConfigurationValid",{get:function(){return this.handlers.every((function(e){return e.isValid}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buildBundleEnabled",{get:function(){if(u.appStore.app){if(u.appStore.app.isXamarinApp)return!!this.xamarin&&this.xamarin.buildBundleEnabled;if(u.appStore.app.isAndroidJavaApp||u.appStore.app.isAndroidReactNativeApp)return!!this.android&&this.android.buildBundleEnabled}return!1},enumerable:!1,configurable:!0}),e.prototype.load=function(e){!this.xcodeVersionsStore||this.app.os!==s.OS.IOS&&this.app.os!==s.OS.MACOS||this.xcodeVersionsStore.refreshOptimistically(),this.sdkBundlesStore&&this.app.platform===s.PLATFORMS.XAMARIN.value&&this.sdkBundlesStore.refreshOptimistically(),this.nodeVersionsStore&&this.app.platform===s.PLATFORMS.REACT_NATIVE.value&&(0,S.isSelectNodeVersionEnabled)()&&this.nodeVersionsStore.refreshOptimistically();var t=this.branchConfigurationStore;if(e){this.repoStore&&this.repoStore.setCurrentBranch(this.branchName);var o=a.ciStore.currentRepoStore&&a.ciStore.currentRepoStore.currentBranchStatus;if(o&&a.ciStore.currentRepoStore){var n=a.ciStore.currentRepoStore.setCurrentProjectsStore(this.branchName),r=o.branch&&o.branch.commit.sha;r&&n.fetchForCommit(r)}}if(t&&t.isLoaded&&t.branch===this.branchName&&(t.lastFetchToNow()||0)>3e5&&t.fetch(),this.repoStore){var u=this.repoStore,c=u.distributionGroupsStore,l=u.distributionStoresStore;c&&c.refreshOptimistically(),l&&l.refreshOptimistically()}this.dispose(),this.branchDetailsAwaiterDisposer=(0,i.when)(this.branchDetailsReady,this.onBranchDetailsLoaded,{name:"branchDetailsAwaiter"}),this.branchConfigAwaiterDisposer=(0,i.when)(this.branchConfigurationReady,this.onBranchConfigurationLoaded,{name:"branchConfigAwaiter"}),this.distribute&&(0,i.when)(this.distributionDependenciesReady,this.distribute.checkDistributionType,{name:"distributionDependenciesAwaiter"})},e.prototype.projectsNotFound=function(){if(!this.projectsStore)return!1;var e=this.projectsStore.data;if(this.projectsStore.isPending)return!1;if(this.projectsStore.isFailed)return!0;switch(this.app.platform){case s.PLATFORMS.XAMARIN.value:return!(e&&e.xamarin&&e.xamarin.xamarinSolutions&&e.xamarin.xamarinSolutions.length>0);case s.PLATFORMS.REACT_NATIVE.value:return!(e&&e.javascript&&(e.javascript.packageJsonPaths&&e.javascript.packageJsonPaths.length>0||e.javascript.javascriptSolutions&&e.javascript.javascriptSolutions.length>0))}switch(this.app.os){case s.OS.IOS:case s.OS.MACOS:return!(e&&e.xcode&&e.xcode.xcodeSchemeContainers&&e.xcode.xcodeSchemeContainers.length>0);case s.OS.ANDROID:return!(e&&e.android&&e.android.androidModules&&e.android.androidModules.length>0);case s.OS.WINDOWS:return!(e&&e.uwp&&e.uwp.uwpSolutions&&e.uwp.uwpSolutions.length>0)}return!1},e.prototype.projectsLimitExceededRepoType=function(){return this.projectsStore&&this.projectsStore.isFailed&&this.projectsStore.error&&403===this.projectsStore.error.status&&this.repoStore.data&&this.repoStore.data.type||null},Object.defineProperty(e.prototype,"appPlatformName",{get:function(){if(this.app.os===s.OS.MACOS)return"macOS";switch(this.app.platform){case s.PLATFORMS.XAMARIN.value:return"Xamarin ".concat(this.app.os);case s.PLATFORMS.REACT_NATIVE.value:return"React Native ".concat(this.app.os);case s.PLATFORMS.JAVA.value:return"Android";case s.PLATFORMS.OBJECTIVE_C_SWIFT.value:return"".concat(this.app.os," Objective-C/Swift");case s.PLATFORMS.UWP.value:return"UWP"}return null},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.branchDetailsAwaiterDisposer&&(this.branchDetailsAwaiterDisposer(),this.branchConfigAwaiterDisposer=null),this.branchConfigAwaiterDisposer&&(this.branchConfigAwaiterDisposer(),this.branchConfigAwaiterDisposer=null),this.branchAnalysisAwaiterDisposer&&(this.branchAnalysisAwaiterDisposer(),this.branchAnalysisAwaiterDisposer=null),this.allBranchDataAwaiterDisposer&&(this.allBranchDataAwaiterDisposer(),this.allBranchDataAwaiterDisposer=null),this.distributionDependenciesAwaiterDisposer&&(this.distributionDependenciesAwaiterDisposer(),this.distributionDependenciesAwaiterDisposer=null)},e.prototype.saveConfiguration=function(e){var t={id:void 0,branch:void 0,toolsets:{},environmentVariables:[]};this.handlers.forEach((function(o){return o.save(t,e)}));return t=JSON.parse(JSON.stringify(t,(function(e,t){if(null!==t)return t})))},e.prototype.onSaveConfigurationError=function(e){this.handlers.forEach((function(t){return t.onSaveError(e)}))},Object.defineProperty(e.prototype,"repoStore",{get:function(){return a.ciStore.getRepoStore(this.app.id)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"branchConfigurationStore",{get:function(){var e=this.repoStore;return e&&e.getBranchConfigurationStore(this.branchName)},enumerable:!1,configurable:!0}),r([i.observable],e.prototype,"updatingExistingConfiguration",void 0),r([i.computed],e.prototype,"isBranchAnalyzed",null),r([i.computed],e.prototype,"currentConfigurationValid",null),r([i.computed],e.prototype,"buildBundleEnabled",null),r([i.observable],e.prototype,"hasProjectsStore",void 0),r([i.action],e.prototype,"load",null),r([i.action],e.prototype,"onBranchDetailsLoaded",void 0),r([i.action],e.prototype,"onBranchConfigurationLoaded",void 0),e}();t.ConfigureStore=_},3281:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigureCustomVariablesCard=t.ConfigureAdvancedCard=t.ConfigureDistributeCard=t.ConfigureTestCard=t.ConfigureSignCard=t.ConfigureBuildCard=t.ConfigureCardStoreBase=void 0;var a=o(5),s=function(){function e(e,t){this.app=e,this.handler=t}return Object.defineProperty(e.prototype,"visible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subtitle",{get:function(){var e=this.getMessage();if(e&&!e.type)return e.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infoMessage",{get:function(){var e=this.getMessage();if(e&&"info"===e.type)return e.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errorMessage",{get:function(){var e=this.getMessage();if(e&&"error"===e.type)return e.message},enumerable:!1,configurable:!0}),i([a.computed],e.prototype,"subtitle",null),i([a.computed],e.prototype,"infoMessage",null),i([a.computed],e.prototype,"errorMessage",null),e}();t.ConfigureCardStoreBase=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"hasToggle",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.setActive=function(e){},t.prototype.getMessage=function(){},t}(s);t.ConfigureBuildCard=u;var c=function(e){function t(t,o){return e.call(this,t,o)||this}return r(t,e),Object.defineProperty(t.prototype,"signingHandler",{get:function(){return this.handler},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasToggle",{get:function(){return!!this.handler&&this.handler.signToggleVisible()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.signingHandler.signingEnabled},enumerable:!1,configurable:!0}),t.prototype.setActive=function(e){this.signingHandler.setSigningEnabled(e)},Object.defineProperty(t.prototype,"disabled",{get:function(){return!!this.handler&&this.handler.signToggleDisabled()},enumerable:!1,configurable:!0}),t.prototype.getMessage=function(){return this.handler&&this.handler.signMessage()},t}(s);t.ConfigureSignCard=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"testHandler",{get:function(){return this.handler},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasToggle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.testHandler.testingEnabled&&!this.disabled},enumerable:!1,configurable:!0}),t.prototype.setActive=function(e){this.testHandler.setTestingEnabled(e)},Object.defineProperty(t.prototype,"disabled",{get:function(){return!!this.handler&&this.handler.testToggleDisabled()},enumerable:!1,configurable:!0}),t.prototype.getMessage=function(){return this.handler&&this.handler.testMessage()},t}(s);t.ConfigureTestCard=l;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"distributeHandler",{get:function(){return this.handler},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasToggle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.distributeHandler.distributeEnabled&&!this.disabled},enumerable:!1,configurable:!0}),t.prototype.setActive=function(e){this.distributeHandler.setDistributeEnabled(e)},Object.defineProperty(t.prototype,"disabled",{get:function(){return!!this.handler&&this.handler.distributeToggleDisabled()},enumerable:!1,configurable:!0}),t.prototype.getMessage=function(){return this.handler&&this.handler.distributeMessage()},t}(s);t.ConfigureDistributeCard=p;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"advancedHandler",{get:function(){return this.handler},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasToggle",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.setActive=function(e){},Object.defineProperty(t.prototype,"disabled",{get:function(){return this.advancedHandler.advancedDisabled()},enumerable:!1,configurable:!0}),t.prototype.getMessage=function(){},t}(s);t.ConfigureAdvancedCard=d;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"customVariablesHandler",{get:function(){return this.handler},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasToggle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.customVariablesHandler.customVariablesEnabled},enumerable:!1,configurable:!0}),t.prototype.setActive=function(e){this.customVariablesHandler.setCustomVariablesEnabled(e)},Object.defineProperty(t.prototype,"disabled",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getMessage=function(){},t}(s);t.ConfigureCustomVariablesCard=f},3282:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.ProvisionSecureFileUploadStore=void 0;var i=o(22),a=o(2932),s=o(18),u=o(2725),c=function(e){function t(){var t=e.call(this)||this;return t.app=u.ciStore.currentRepoStore&&u.ciStore.currentRepoStore.app,t}return r(t,e),t.prototype.validate=function(e){var t=".mobileprovision",o=".provisionprofile";return!!this.app&&(!(this.app.os===s.OS.IOS&&!e.name.toLocaleLowerCase().endsWith(t)||this.app.os===s.OS.MACOS&&!e.name.toLocaleLowerCase().endsWith(o))||(this.errorMessage=(0,i.t)("build:file-upload-store.ProvisioningProfileNotValid",{extension:this.app.os===s.OS.IOS?t:o}),!1))},Object.defineProperty(t.prototype,"createAssetPath",{get:function(){return this.app&&this.app.owner?"/v0.1/apps/".concat(this.app.owner.name,"/").concat(this.app.name,"/file_asset"):""},enumerable:!1,configurable:!0}),t.prototype.onUploadSuccess=function(){},t}(a.FileUploadStore);t.ProvisionSecureFileUploadStore=c},3283:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.CertificateSecureFileUploadStore=void 0;var a=o(2930),s=o(2725),u=o(5),c=o(7),l=o(2724),p=o(22),d=o(4),f=o(13),h=function(e){function t(){var t=e.call(this)||this;return t.hasPasswordValidation=t.validationEnabled,t.certPasswordReadonly=!1,t.passwordValidationState=a.ValidationState.Idle,t.showPasswordInput=!t.validationEnabled,t.validatePassword=(0,d.debounce)((0,u.action)((function(){t.certPassword&&t.validateFilePassword(t.certPassword).then((0,u.action)((function(e){t.passwordValidationState=e})))})),200),t.certPasswordRequired=!0,t.app=s.ciStore.currentRepoStore&&s.ciStore.currentRepoStore.app,t}return r(t,e),Object.defineProperty(t.prototype,"validationEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this.fileUploadIsValid&&(!this.validationEnabled||this.passwordValidationState===a.ValidationState.Valid)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"password",{get:function(){return this.certPasswordRequired?this.certPassword||"":this.certPassword},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"passwordReadonly",{get:function(){return this.certPasswordReadonly},enumerable:!1,configurable:!0}),t.prototype.passwordChanged=function(e){this.certPassword=e,this.validationEnabled&&(e!==l.PLACEHOLDER_PROTECTED?(this.passwordValidationState=a.ValidationState.Validating,this.validatePassword()):(this.showPasswordInput=!0,this.passwordValidationState=a.ValidationState.Valid))},t.prototype.validateFilePassword=function(e){var t=this;if(!this.app||!this.app.id||!this.app.owner)return new Promise((function(e){return e(a.ValidationState.Invalid)}));var o="/v0.1/apps/".concat(this.app.owner.name,"/").concat(this.app.name,"/files/:fileId/validate");return new Promise((function(n){return f.apiGateway.post(o,{params:{appId:t.app.id,fileId:t.internalSecureFileId||""},body:{p12password:e},responseType:"text"}).then((function(){return n(a.ValidationState.Valid)})).catch((function(){return n(a.ValidationState.Invalid)}))}))},t.prototype.onUploadSuccess=function(){var e=this;this.validationEnabled&&this.uploadStatus===c.UploadStatus.UploadSuccessful&&(this.progressBarStatus=c.ProgressBarStatus.Indeterminate,this.uploadStatus=c.UploadStatus.UploadStarted,this.validateFilePassword("").then((0,u.action)((function(t){t===a.ValidationState.Invalid?e.showPasswordInput=!0:e.passwordValidationState=a.ValidationState.Valid,e.progressBarStatus=c.ProgressBarStatus.Default,e.uploadStatus=c.UploadStatus.UploadSuccessful}))))},t.prototype.clear=function(){e.prototype.clear.call(this),this.certPassword=void 0,this.certPasswordReadonly=!1,this.passwordValidationState=a.ValidationState.Idle},t.prototype.setInfoOnlyFilename=function(t){e.prototype.setInfoOnlyFilename.call(this,t),this.certPasswordReadonly=!0},t.prototype.validate=function(e){return!!e.name.toLocaleLowerCase().endsWith(".p12")||(this.errorMessage=(0,p.t)("build:file-upload-store.CertificateNotValid"),!1)},Object.defineProperty(t.prototype,"createAssetPath",{get:function(){return this.app&&this.app.owner?"/v0.1/apps/".concat(this.app.owner.name,"/").concat(this.app.name,"/file_asset"):""},enumerable:!1,configurable:!0}),i([u.observable],t.prototype,"certPassword",void 0),i([u.observable],t.prototype,"certPasswordReadonly",void 0),i([u.observable],t.prototype,"passwordValidationState",void 0),i([u.observable],t.prototype,"showPasswordInput",void 0),i([u.computed],t.prototype,"password",null),i([u.computed],t.prototype,"passwordReadonly",null),i([u.action],t.prototype,"passwordChanged",null),i([u.action],t.prototype,"onUploadSuccess",null),i([u.action],t.prototype,"clear",null),i([u.action],t.prototype,"setInfoOnlyFilename",null),t}(a.FileUploadStore);t.CertificateSecureFileUploadStore=h},3284:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},a=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformReactAndroid=void 0;var s=o(5),u=o(2846),c=o(2849),l=function(e){function t(t){var o=e.call(this,t)||this;return o.noProjectsFound=!1,o.javascriptRunTests=!1,o.hasNvmrc=!1,o}return r(t,e),t.packageJsonSortFn=function(e,t){var o=e.split("/").length,n=t.split("/").length;return o!==n?o-n:e.localeCompare(t)},Object.defineProperty(t.prototype,"sortedPackageJsonPaths",{get:function(){if(!this.analysisResult||!this.analysisResult.javascript)return[];var e=this.analysisResult.javascript&&this.analysisResult.javascript.javascriptSolutions;if(e)return e.map((function(e){return e.packageJsonPath})).sort(t.packageJsonSortFn);var o=this.analysisResult.javascript&&this.analysisResult.javascript.packageJsonPaths;return o?o.sort(t.packageJsonSortFn):[]},enumerable:!1,configurable:!0}),t.prototype.getAndroidModulePathForPackageJsonPath=function(e){if(e.endsWith("package.json")){var t=e.substring(0,e.length-12)+"android",o=this.analysisResult&&this.analysisResult.android&&this.analysisResult.android.androidModules;if(o){var n=o.find((function(e){return e&&e.gradleWrapperPath&&e.gradleWrapperPath.startsWith(t)}));return n&&n.path}}},t.prototype.selectModuleByPath=function(e){if(!e)return this.selectedBuildConfiguration=void 0,this.selectedModule=void 0,void(this.gradleWrapperPath=void 0);var t=this.sortedAndroidModules.find((function(t){return t.path===e}));if(this.selectedModule=t,t){if(this.gradleWrapperPath=t.gradleWrapperPath,t&&this.selectedBuildVariant&&this.buildVariantsForSelectedModule&&-1===this.buildVariantsForSelectedModule.indexOf(this.selectedBuildVariant)){var o=this.getDefaultBuildConfiguration(t);o&&this.selectBuildConfigurationByName(o.name)}}else this.selectedBuildConfiguration=void 0,this.gradleWrapperPath=void 0},t.prototype.selectPackageJsonByPath=function(e){var o=t.getJavaScriptSolutionForPackageJsonPath(e,this.analysisResult);o?(this.selectedPackageJsonPath=o.packageJsonPath,this.reactNativeVersion=o.reactNativeVersion,this.hasNvmrc=Boolean(o.nvmrcPath)):this.selectedPackageJsonPath=e;var n=this.getAndroidModulePathForPackageJsonPath(this.selectedPackageJsonPath);this.selectModuleByPath(n)},t.prototype.setJavascriptRunTests=function(e){this.javascriptRunTests=e},t.prototype.setNodeVersion=function(e){this.nodeVersion=e},t.prototype.onBranchConfigurationPreLoaded=function(t){e.prototype.onBranchConfigurationPreLoaded.call(this,t),this.selectPackageJsonByBranchConfiguration(t)},t.prototype.onAllBranchDataAvailable=function(t){if(e.prototype.onAllBranchDataAvailable.call(this,t),!t.config){var o=this.sortedPackageJsonPaths;if(o.length>0?this.selectPackageJsonByPath(o[0]):this.noProjectsFound=!0,(0,c.isSelectNodeVersionEnabled)()){var n=t.nodeVersionsStore&&t.nodeVersionsStore.isLoaded&&t.nodeVersionsStore.currentVersion;this.nodeVersion=n?n.name:void 0}}else if(this.selectPackageJsonByBranchConfiguration(t),(0,c.isSelectNodeVersionEnabled)()){var r=t.config&&t.config.toolsets&&t.config.toolsets.javascript;this.nodeVersion=r&&r.nodeVersion}},t.prototype.selectPackageJsonByBranchConfiguration=function(e){if(e&&e.config&&e.config.toolsets&&e.config.toolsets.javascript){var t=e.config.toolsets.javascript;!e.projectsStore||!e.projectsStore.isLoaded?this.selectedPackageJsonPath=t.packageJsonPath:(this.javascriptRunTests=!!t.runTests,t.packageJsonPath&&this.selectPackageJsonByPath(t.packageJsonPath))}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!(this.analysisResult&&this.selectedModule&&this.selectedBuildVariant&&this.gradleWrapperPath)&&(!!this.selectedPackageJsonPath&&(!!this.isSigningValid()&&!((0,c.isSelectNodeVersionEnabled)()&&(!this.nodeVersion||"nvmrc"===this.nodeVersion&&!this.hasNvmrc))))},enumerable:!1,configurable:!0}),t.prototype.save=function(t,o){e.prototype.save.call(this,t,o);var n={nodeVersion:this.nodeVersion};t.toolsets.javascript=i({packageJsonPath:this.selectedPackageJsonPath,runTests:this.javascriptRunTests,reactNativeVersion:this.reactNativeVersion},(0,c.isSelectNodeVersionEnabled)()?n:{})},a([s.observable],t.prototype,"selectedPackageJsonPath",void 0),a([s.observable],t.prototype,"noProjectsFound",void 0),a([s.observable],t.prototype,"javascriptRunTests",void 0),a([s.observable],t.prototype,"reactNativeVersion",void 0),a([s.observable],t.prototype,"nodeVersion",void 0),a([s.observable],t.prototype,"hasNvmrc",void 0),a([s.computed],t.prototype,"sortedPackageJsonPaths",null),a([s.action],t.prototype,"selectModuleByPath",null),a([s.action],t.prototype,"selectPackageJsonByPath",null),a([s.action],t.prototype,"setJavascriptRunTests",null),a([s.action],t.prototype,"setNodeVersion",null),a([s.action],t.prototype,"onBranchConfigurationPreLoaded",null),a([s.action],t.prototype,"onAllBranchDataAvailable",null),a([s.computed],t.prototype,"isValid",null),t}(u.ConfigurePlatformAndroid);t.ConfigurePlatformReactAndroid=l},3285:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},a=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformReactIos=void 0;var s=o(5),u=o(20),c=o(2848),l=o(2849),p=function(e){function t(t){var o=e.call(this,t)||this;return o.noProjectsFound=!1,o.javascriptRunTests=!1,o.hasNvmrc=!1,o}return r(t,e),t.packageJsonSortFn=function(e,t){var o=e.split("/").length,n=t.split("/").length;return o!==n?o-n:e.localeCompare(t)},t.prototype.getProperXcodeVersion=function(e,t){return t.data&&t.data.find((function(t){return t.name===e}))?e:t.currentVersion?t.currentVersion.name:""},Object.defineProperty(t.prototype,"sortedPackageJsonPaths",{get:function(){if(!this.analysisResult||!this.analysisResult.javascript)return[];var e=this.analysisResult.javascript&&this.analysisResult.javascript.javascriptSolutions;if(e)return e.map((function(e){return e.packageJsonPath})).sort(t.packageJsonSortFn);var o=this.analysisResult.javascript&&this.analysisResult.javascript.packageJsonPaths;return o?o.sort(t.packageJsonSortFn):[]},enumerable:!1,configurable:!0}),t.prototype.getXcodeProjectPathForPackageJsonPath=function(e){if(e.endsWith("package.json")){var t=e.substring(0,e.length-12)+"ios",o=this.analysisResult&&this.analysisResult.xcode&&this.analysisResult.xcode.xcodeSchemeContainers;if(o){var n=t.length,r=o.find((function(e){var o=e.path;return o.lastIndexOf("/")===n&&o.startsWith(t)&&o.endsWith(".xcworkspace")}));if(r)return r.path;var i=o.find((function(e){var o=e.path.replace(/[.]xcodeproj[/]project[.]xcworkspace$/,".xcodeproj");return o.lastIndexOf("/")===n&&o.startsWith(t)}));return i&&i.path}}},t.prototype.selectPackageJsonByPath=function(e){var o=t.getJavaScriptSolutionForPackageJsonPath(e,this.analysisResult);o?(this.selectedPackageJsonPath=o.packageJsonPath,this.reactNativeVersion=o.reactNativeVersion,this.hasNvmrc=Boolean(o.nvmrcPath)):this.selectedPackageJsonPath=e;var n=this.getXcodeProjectPathForPackageJsonPath(e);n&&this.selectProjectByPath(n)},t.prototype.setJavascriptRunTests=function(e){this.javascriptRunTests=e},t.prototype.setNodeVersion=function(e){this.nodeVersion=e},t.prototype.onBranchConfigurationPreLoaded=function(t){e.prototype.onBranchConfigurationPreLoaded.call(this,t);var o=t.config;if(o&&o.toolsets&&o.toolsets.javascript){var n=o.toolsets.javascript;this.javascriptRunTests=!!n.runTests,this.selectedPackageJsonPath=n.packageJsonPath}},t.prototype.onAllBranchDataAvailable=function(o){if(e.prototype.onAllBranchDataAvailable.call(this,o),!o.config){var n=this.sortedPackageJsonPaths;if(n.length>0?this.selectPackageJsonByPath(n[0]):this.noProjectsFound=!0,this.forceLegacyBuildSystem=!1,(0,l.isSelectNodeVersionEnabled)()){var r=o.nodeVersionsStore&&o.nodeVersionsStore.isLoaded&&o.nodeVersionsStore.currentVersion;this.nodeVersion=r?r.name:void 0}}else if(this.selectedPackageJsonPath){var i=t.getJavaScriptSolutionForPackageJsonPath(this.selectedPackageJsonPath,this.analysisResult);i&&(this.reactNativeVersion=i.reactNativeVersion,this.hasNvmrc=Boolean(i.nvmrcPath)),this.selectedXcodeVersion=this.selectedXcodeVersion&&o.xcodeVersionsStore&&this.getProperXcodeVersion(this.selectedXcodeVersion,o.xcodeVersionsStore);var a=o.config&&o.config.toolsets&&o.config.toolsets.xcode;if(this.forceLegacyBuildSystem=!!a&&!!a.forceLegacyBuildSystem,(0,l.isSelectNodeVersionEnabled)()){var s=o.config&&o.config.toolsets&&o.config.toolsets.javascript;this.nodeVersion=s&&s.nodeVersion}if(!(o.config&&o.config.toolsets&&o.config.toolsets.xcode&&o.config.toolsets.xcode.projectOrWorkspacePath&&o.config.toolsets.xcode.projectOrWorkspacePath.toLowerCase().endsWith(".xcodeproj"))||!this.analysisResult)return;var c=this.analysisResult.xcode&&this.analysisResult.xcode.xcodeSchemeContainers;if(!c)return;var p=this.selectedPackageJsonPath.substring(0,this.selectedPackageJsonPath.length-12)+"ios",d=p.length;c.some((function(e){var t=e.path;return t.lastIndexOf("/")===d&&t.startsWith(p)&&t.endsWith(".xcworkspace")}))&&(u.logger.info("branches/configure/reactnative_ios/workspace_reselect"),this.selectPackageJsonByPath(this.selectedPackageJsonPath),o.config&&o.config.toolsets.xcode&&o.config.toolsets.xcode.scheme&&this.selectSchemeByName(o.config.toolsets.xcode.scheme))}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!(this.analysisResult&&this.selectedSchemeContainer&&this.selectedScheme&&this.selectedXcodeVersion)&&(!!this.selectedPackageJsonPath&&(!!this.isSigningValid()&&!((0,l.isSelectNodeVersionEnabled)()&&(!this.nodeVersion||"nvmrc"===this.nodeVersion&&!this.hasNvmrc))))},enumerable:!1,configurable:!0}),t.prototype.save=function(t,o){e.prototype.save.call(this,t,o);var n={nodeVersion:this.nodeVersion};t.toolsets.javascript=i({packageJsonPath:this.selectedPackageJsonPath,runTests:this.javascriptRunTests,reactNativeVersion:this.reactNativeVersion},(0,l.isSelectNodeVersionEnabled)()?n:{})},a([s.observable],t.prototype,"selectedPackageJsonPath",void 0),a([s.observable],t.prototype,"noProjectsFound",void 0),a([s.observable],t.prototype,"javascriptRunTests",void 0),a([s.observable],t.prototype,"reactNativeVersion",void 0),a([s.observable],t.prototype,"nodeVersion",void 0),a([s.observable],t.prototype,"hasNvmrc",void 0),a([s.computed],t.prototype,"sortedPackageJsonPaths",null),a([s.action],t.prototype,"selectPackageJsonByPath",null),a([s.action],t.prototype,"setJavascriptRunTests",null),a([s.action],t.prototype,"setNodeVersion",null),a([s.action],t.prototype,"onBranchConfigurationPreLoaded",null),a([s.action],t.prototype,"onAllBranchDataAvailable",null),a([s.computed],t.prototype,"isValid",null),t}(c.ConfigurePlatformXcode);t.ConfigurePlatformReactIos=p},3286:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformUwp=void 0;var s=o(5),u=o(2742),c=o(2847),l=function(e){function t(t){var o=e.call(this,t)||this;return o.selectedPlatforms=[],o.noSolutionsFound=!1,o.noConfigurationsFound=!1,o.pfxFileUploadStore=new c.PfxFileUploadStore,o}return r(t,e),Object.defineProperty(t.prototype,"sortedSolutions",{get:function(){if(!this.analysisResult||!this.analysisResult.uwp)return[];var e=this.analysisResult.uwp&&this.analysisResult.uwp.uwpSolutions;return e?e.sort(u.ConfigurePlatformCommon.projectSortFn):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allBuildPlatforms",{get:function(){return["ARM","x86","x64"]},enumerable:!1,configurable:!0}),t.prototype.setSelectedPlatforms=function(e){this.selectedPlatforms=e},t.prototype.getDefaultConfiguration=function(e){if(e)return e.configurations&&e.configurations.length?e.configurations[0]:void 0},t.prototype.selectSolutionByPath=function(e){var t=this.sortedSolutions.find((function(t){return t.path===e}));this.selectedSolution=t,this.selectedConfiguration&&t&&t.configurations&&t.configurations.length&&-1!==t.configurations.indexOf(this.selectedConfiguration)||(this.selectedConfiguration=this.getDefaultConfiguration(t))},t.prototype.selectConfigurationByName=function(e){this.selectedConfiguration=e},t.prototype.onBranchConfigurationPreLoaded=function(t){e.prototype.onBranchConfigurationPreLoaded.call(this,t);var o=t.config;if(o&&o.toolsets&&o.toolsets.uwp){var n=o.toolsets.uwp;if(n&&n.packageCertificateFileName&&!this.pfxFileUploadStore.hasFile&&(this.pfxFileUploadStore.setInfoOnlyFilename(n.packageCertificateFileName),this.pfxFileUploadStore.passwordChanged(n.packageCertificatePassword),this.signingEnabled=!0),n)if(this.selectedPlatforms=a([],n.platforms,!0),!t.projectsStore||!t.projectsStore.isLoaded){var r={path:n.slnPath,configurations:[n.configuration],nugetConfigPath:n.nugetConfigPath};this.selectedSolution=r,this.selectedConfiguration=n.configuration}else this.selectSolutionByPath(n.slnPath),this.selectConfigurationByName(n.configuration)}else this.selectedPlatforms=a([],this.allBuildPlatforms,!0)},t.prototype.onAllBranchDataAvailable=function(e){e.projectsStore&&e.projectsStore.isLoaded&&(this.analysisResult=e.projectsStore.data),e.wasPreloaded||this.onBranchConfigurationPreLoaded(e);var t=!e.config;if(!t){var o=this.selectedConfiguration;this.selectedSolution&&this.selectSolutionByPath(this.selectedSolution.path),o&&this.selectConfigurationByName(o)}if(t||!this.selectedSolution){var n=this.sortedSolutions;n.length>0&&this.selectSolutionByPath(n[0].path),this.noSolutionsFound=0===n.length;var r=this.selectedSolution&&this.selectedSolution.configurations;this.noConfigurationsFound=!r||0===r.length}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!(!this.selectedSolution||!this.selectedConfiguration)&&!(this.signingEnabled&&!this.pfxFileUploadStore.isValid)},enumerable:!1,configurable:!0}),t.prototype.save=function(t,o){e.prototype.save.call(this,t,o),this.selectedSolution&&(t.toolsets.uwp={slnPath:this.selectedSolution.path,configuration:this.selectedConfiguration||"",platforms:this.selectedPlatforms,nugetConfigPath:this.selectedSolution.nugetConfigPath}),this.setSigningProperties(t)},t.prototype.setSigningProperties=function(e){this.signingEnabled&&this.pfxFileUploadStore.isValid&&e.toolsets.uwp&&(this.pfxFileUploadStore.hasFile&&(e.toolsets.uwp.packageCertificateBase64String=this.pfxFileUploadStore.fileEncoded),e.toolsets.uwp.packageCertificateFileName=this.pfxFileUploadStore.fileName,e.toolsets.uwp.packageCertificatePassword=this.pfxFileUploadStore.password)},t.prototype.signMessage=function(){return{message:"If a certificate is not provided, it will be signed with a temporary one for development."}},t.prototype.testToggleDisabled=function(){return!0},t.prototype.testMessage=function(){return{type:"info",message:"Testing UWP builds is currently not available."}},t.prototype.distributeToggleDisabled=function(){return!1},i([s.observable],t.prototype,"selectedSolution",void 0),i([s.observable],t.prototype,"selectedConfiguration",void 0),i([s.observable],t.prototype,"selectedPlatforms",void 0),i([s.observable],t.prototype,"noSolutionsFound",void 0),i([s.observable],t.prototype,"noConfigurationsFound",void 0),i([s.computed],t.prototype,"sortedSolutions",null),i([s.computed],t.prototype,"allBuildPlatforms",null),i([s.action],t.prototype,"setSelectedPlatforms",null),i([s.observable],t.prototype,"analysisResult",void 0),i([s.action],t.prototype,"selectSolutionByPath",null),i([s.action],t.prototype,"selectConfigurationByName",null),i([s.action],t.prototype,"onBranchConfigurationPreLoaded",null),i([s.action],t.prototype,"onAllBranchDataAvailable",null),i([s.computed],t.prototype,"isValid",null),t}(u.ConfigurePlatformCommon);t.ConfigurePlatformUwp=l},3287:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},a=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformXamarin=void 0;var s=o(5),u=o(4),c=o(18),l=o(2725),p=o(2742),d=o(2848),f=o(2846),h=o(20),g=function(e){function t(t){var o=e.call(this,t)||this;if(o.noSolutionsFound=!1,o.buildBundle=!1,o.setBuildBundle=function(e){h.logger.info("build/configure/aab/toggled",{value:e}),o.buildBundle=e},o._isSimulatorBuild=!1,t.app)switch(t.app.os){case c.OS.IOS:o.ios=new d.ConfigurePlatformXcode(t);break;case c.OS.ANDROID:o.android=new f.ConfigurePlatformAndroid(t)}return o}return r(t,e),Object.defineProperty(t.prototype,"selectedAppExtensions",{get:function(){return this.selectedSolution&&this.selectedSolution.appExtensionTargets||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildBundleEnabled",{get:function(){return!this.buildBundleNotSupported&&this.buildBundle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildBundleNotSupported",{get:function(){return!!this.selectedMonoVersion&&parseFloat(this.selectedMonoVersion)<6},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signingEnabled",{get:function(){var e=this.ios||this.android;return!!e&&e.signingEnabled},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noConfigurationsFound",{get:function(){if(!this.analysisResult)return!1;var e=this.selectedSolution&&this.selectedSolution.configurations;return!e||0===e.length},enumerable:!1,configurable:!0}),t.prototype.setSigningEnabled=function(e){var t=this.ios||this.android;t&&t.setSigningEnabled(e)},Object.defineProperty(t.prototype,"isSimulatorBuild",{get:function(){return this._isSimulatorBuild},enumerable:!1,configurable:!0}),t.prototype.setSimulatorBuild=function(e){this._isSimulatorBuild=e,!e&&this.isIos&&this.setSigningEnabled(!0)},Object.defineProperty(t.prototype,"sortedSolutions",{get:function(){if(!this.analysisResult||!this.analysisResult.xamarin)return[];var e=this.analysisResult.xamarin&&this.analysisResult.xamarin.xamarinSolutions;return e?(e=e.map((function(e,t){var o=e.configurations.reduce((function(e,t){var o=t.split("|"),n=o[0],r=o[1];return r?e[n]?e[n].platforms.push(r):e[n]={name:n,platforms:[r]}:e[n]={name:n,platforms:["iPhone","iPhoneSimulator"]},e}),{});return i(i({},e),{configurations:(0,u.keys)(o),configurationsWithPlatform:o})}))).sort(p.ConfigurePlatformCommon.projectSortFn):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"solutionConfigurations",{get:function(){var e=this.selectedSolution;return e&&e.configurationsWithPlatform?(0,u.values)(e.configurationsWithPlatform):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedConfigurationSupportsDevice",{get:function(){return this.selectedConfigurationSupportsPlatform("iPhone")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedConfigurationSupportsEmulator",{get:function(){return this.selectedConfigurationSupportsPlatform("iPhoneSimulator")},enumerable:!1,configurable:!0}),t.prototype.selectedConfigurationSupportsPlatform=function(e){if(this.selectedConfiguration&&this.selectedSolution&&this.selectedSolution.configurationsWithPlatform){var t=this.selectedSolution.configurationsWithPlatform[this.selectedConfiguration];return!t||!t.platforms||-1!==t.platforms.indexOf(e)}return!0},Object.defineProperty(t.prototype,"defaultConfigurationIsDevice",{get:function(){if(this.selectedConfiguration&&this.selectedSolution&&this.selectedSolution.defaultConfiguration){var e=this.selectedSolution.defaultConfiguration.split("|");if(2===e.length)return"iPhone"===e[1]}return!this.isSimulatorBuild},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultPlatform",{get:function(){if(this.selectedConfiguration&&this.selectedSolution){if(this.selectedSolution.defaultPlatform)return this.selectedSolution.defaultPlatform;if(this.selectedSolution.defaultConfiguration){var e=this.selectedSolution.defaultConfiguration.split("|");if(2===e.length)return e[1]}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"usesAndroidSharedRuntime",{get:function(){var e=this;if(!this.selectedSolution||!this.selectedConfiguration)return!1;if(!this.defaultPlatform||!this.selectedSolution.properties)return!1;var t=this.selectedSolution.properties.find((function(t){return t.configuration===e.selectedConfiguration&&t.platform===e.defaultPlatform}));return!!t&&!!t.androidUseSharedRuntime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIos",{get:function(){return!!this.ios},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAndroid",{get:function(){return!!this.android},enumerable:!1,configurable:!0}),t.prototype.getDefaultConfiguration=function(e){if(e)return e.defaultConfiguration?e.defaultConfiguration.split("|")[0]:e.configurations&&e.configurations.length?e.configurations[0]:void 0},t.prototype.selectSolutionByPath=function(e){var t=this.sortedSolutions.find((function(t){return t.path===e}));this.isIos&&this.ios&&this.ios.setAppExtensions(t&&t.appExtensionTargets||[]),this.selectedSolution=t,this.selectedConfiguration=this.getDefaultConfiguration(t),this.isAndroid&&this.setupAndroidBundle()},t.prototype.selectConfigurationByName=function(e){this.selectedConfiguration=e,this.ios&&(this.selectedConfigurationSupportsDevice||this.setSimulatorBuild(!0),this.selectedConfigurationSupportsEmulator||this.setSimulatorBuild(!1)),this.setupAndroidBundle()},t.prototype.setupAndroidBundle=function(){var e=this;if(null===this.buildBundleSaved&&this.selectedSolution&&this.selectedConfiguration&&this.selectedSolution.properties){var t=this.selectedSolution.properties.find((function(t){return t.configuration===e.selectedConfiguration}));t&&(this.buildBundle="aab"===t.androidPackageFormat)}},t.prototype.selectMonoVersion=function(e){this.selectedMonoVersion=e,this.selectProperXcodeVersionIfFiltered()},t.prototype.findCompatibleXcodeVersion=function(e,t){var o=e.find((function(e){return e.current}));return o&&o.name&&t.xcodeVersions.includes(o.name)?o.name:e.map((function(e){return e.name})).filter((function(e){return!e.includes("beta")})).find((function(e){return t.xcodeVersions.includes(e)}))},t.prototype.selectProperXcodeVersionIfFiltered=function(){var e=this;if(this.selectedSDKBundle){var t=this.ios,o=t&&t.selectedXcodeVersion;if(o){var n=l.ciStore.currentXamarinSDKBundlesStore&&l.ciStore.currentXamarinSDKBundlesStore.data&&l.ciStore.currentXamarinSDKBundlesStore.data.find((function(t){return t.sdkBundle===e.selectedSDKBundle}));if(n&&!n.xcodeVersions.includes(o)){var r=l.ciStore.currentXcodeVersionsStore&&l.ciStore.currentXcodeVersionsStore.data&&this.findCompatibleXcodeVersion(l.ciStore.currentXcodeVersionsStore.data,n);r&&t&&t.selectXcodeVersion(r)}}}},t.prototype.selectSDKBundle=function(e){this.selectedSymlink=e.split(";")[2],this.selectedSDKBundle=e.split(";")[1],this.selectMonoVersion(e.split(";")[0])},t.prototype.onBranchConfigurationPreLoaded=function(t){e.prototype.onBranchConfigurationPreLoaded.call(this,t);var o=this.ios||this.android;o&&o.onBranchConfigurationPreLoaded(t);var n=t.config;if(n&&n.toolsets&&n.toolsets.xamarin){var r=n.toolsets.xamarin;if(this._isSimulatorBuild=r.isSimBuild,r.sdkBundle)this.selectedSymlink=r.symlink,this.selectedSDKBundle=r.sdkBundle,this.selectedMonoVersion=r.monoVersion;else if(t.sdkBundlesStore&&t.sdkBundlesStore.data&&t.sdkBundlesStore.data.length>0)(a=t.sdkBundlesStore.data.find((function(e){return e.current})))&&(this.selectedSymlink=a.symlink,this.selectedSDKBundle=a.sdkBundle,this.selectedMonoVersion=a.monoVersion);if(this.buildBundleSaved=r.buildBundle,this.buildBundle=!!r.buildBundle,!t.projectsStore||!t.projectsStore.isLoaded){var i={path:r.slnPath,configurations:[r.configuration]};this.selectedSolution=i,this.selectedConfiguration=r.configuration,this.isAndroid&&this.setupAndroidBundle()}else this.selectSolutionByPath(r.slnPath),this.selectConfigurationByName(r.configuration)}else{var a;(a=t.sdkBundlesStore&&t.sdkBundlesStore.data&&t.sdkBundlesStore.data.find((function(e){return e.current})))&&(this.selectedSymlink=a.symlink,this.selectedSDKBundle=a.sdkBundle,this.selectedMonoVersion=a.monoVersion),this._isSimulatorBuild=this.isIos}},t.prototype.onAllBranchDataAvailable=function(e){e.projectsStore&&e.projectsStore.isLoaded&&(this.analysisResult=e.projectsStore.data),e.wasPreloaded||this.onBranchConfigurationPreLoaded(e);var t=!e.config;if(!t){this.isIos&&this.ios&&this.ios.setAppExtensionProvisioningProfileFiles(e);var o=this.selectedConfiguration;this.selectedSolution&&this.selectSolutionByPath(this.selectedSolution.path),o&&this.selectConfigurationByName(o)}if(t||!this.selectedSolution){var n=this.sortedSolutions;if(n.length>0&&(this.selectSolutionByPath(n[0].path),this.ios&&this.setSimulatorBuild(!this.defaultConfigurationIsDevice)),this.noSolutionsFound=0===n.length,this.ios&&e.xcodeVersionsStore&&e.xcodeVersionsStore.isLoaded&&!this.ios.selectedXcodeVersion&&(this.ios.selectedXcodeVersion=e.xcodeVersionsStore.currentVersion&&e.xcodeVersionsStore.currentVersion.name),e.sdkBundlesStore&&e.sdkBundlesStore.isLoaded&&e.sdkBundlesStore.data&&e.sdkBundlesStore.data.length>0){if(!this.selectedSDKBundle){var r=e.sdkBundlesStore.data.find((function(e){return e.current}));r&&(this.selectedSymlink=r.symlink,this.selectedSDKBundle=r.sdkBundle,this.selectedMonoVersion=r.monoVersion)}if(this.isIos&&this.ios){var i=this.getLatestStableCompatibleXcode(e);i&&this.ios.selectXcodeVersion(i)}}}},t.prototype.getLatestStableCompatibleXcode=function(e){if(e.sdkBundlesStore&&e.sdkBundlesStore.isLoaded&&e.sdkBundlesStore.data&&e.xcodeVersionsStore&&e.xcodeVersionsStore.isLoaded&&e.xcodeVersionsStore.data){var t=e.sdkBundlesStore.data.find((function(e){return e.current}));return t&&this.findCompatibleXcodeVersion(e.xcodeVersionsStore.data,t)}},Object.defineProperty(t.prototype,"isValid",{get:function(){if(!!!(this.selectedSolution&&this.selectedConfiguration&&this.selectedSDKBundle&&this.selectedMonoVersion))return!1;var e=this.ios||this.android;return!(this.android&&this.android.signingEnabled&&!(this.android.keystoreUploadStore.isValid&&this.android.keystorePassword&&this.android.keyAlias&&this.android.keyPassword))&&!(!e||!e.isSigningValid())},enumerable:!1,configurable:!0}),t.prototype.save=function(t,o){e.prototype.save.call(this,t,o),this.selectedSolution&&(t.toolsets.xamarin={args:void 0,configuration:this.selectedConfiguration||"",slnPath:this.selectedSolution.path,isSimBuild:this.isSimulatorBuild,buildBundle:!this.buildBundleNotSupported&&this.buildBundle,symlink:this.selectedSymlink,sdkBundle:this.selectedSDKBundle,monoVersion:this.selectedMonoVersion}),this.isIos&&this.ios?(t.toolsets.xcode={projectOrWorkspacePath:void 0,scheme:void 0,xcodeVersion:this.ios.selectedXcodeVersion||""},this.ios.setSigningProperties(t)):this.android&&this.android.signingEnabled&&(t.toolsets.android={},this.android.setSigningProperties(t)),o&&(o["xamarin-is-signed"]=this.signingEnabled,o["xamarin-sdk-bundle"]=this.selectedSDKBundle,o["mono-version"]=this.selectedMonoVersion)},t.prototype.signMessage=function(){if(!this.signToggleVisible())return{type:"info",message:"Device builds must be signed."}},t.prototype.signToggleVisible=function(){return!this.isIos||this.isSimulatorBuild},t.prototype.signToggleDisabled=function(){return!!this.isIos&&!this.isSimulatorBuild},t.prototype.testToggleDisabled=function(){return this.isIos?this.isSimulatorBuild:this.android?!!this.usesAndroidSharedRuntime||this.android.testToggleDisabled():e.prototype.testToggleDisabled.call(this)},t.prototype.testMessage=function(){return this.isIos&&this.isSimulatorBuild?{type:"error",message:"Simulator builds cannot be tested."}:this.android&&this.usesAndroidSharedRuntime?{type:"error",message:"Not compatible with solutions using Android Shared Runtime."}:e.prototype.testMessage.call(this)},t.prototype.distributeToggleDisabled=function(){return this.isIos?this.isSimulatorBuild:e.prototype.distributeToggleDisabled.call(this)},t.prototype.distributeMessage=function(){return this.isIos&&this.isSimulatorBuild?{type:"error",message:"Simulator builds cannot be distributed."}:e.prototype.distributeMessage.call(this)},a([s.observable],t.prototype,"selectedSolution",void 0),a([s.observable],t.prototype,"selectedConfiguration",void 0),a([s.observable],t.prototype,"noSolutionsFound",void 0),a([s.observable],t.prototype,"analysisResult",void 0),a([s.observable],t.prototype,"selectedMonoVersion",void 0),a([s.observable],t.prototype,"selectedSDKBundle",void 0),a([s.observable],t.prototype,"selectedSymlink",void 0),a([s.observable],t.prototype,"buildBundleSaved",void 0),a([s.observable],t.prototype,"buildBundle",void 0),a([s.computed],t.prototype,"selectedAppExtensions",null),a([s.computed],t.prototype,"buildBundleEnabled",null),a([s.computed],t.prototype,"buildBundleNotSupported",null),a([s.action],t.prototype,"setBuildBundle",void 0),a([s.computed],t.prototype,"signingEnabled",null),a([s.computed],t.prototype,"noConfigurationsFound",null),a([s.action],t.prototype,"setSigningEnabled",null),a([s.action],t.prototype,"setSimulatorBuild",null),a([s.computed],t.prototype,"sortedSolutions",null),a([s.computed],t.prototype,"solutionConfigurations",null),a([s.computed],t.prototype,"selectedConfigurationSupportsDevice",null),a([s.computed],t.prototype,"selectedConfigurationSupportsEmulator",null),a([s.computed],t.prototype,"defaultConfigurationIsDevice",null),a([s.computed],t.prototype,"defaultPlatform",null),a([s.computed],t.prototype,"usesAndroidSharedRuntime",null),a([s.observable],t.prototype,"_isSimulatorBuild",void 0),a([s.action],t.prototype,"selectSolutionByPath",null),a([s.action],t.prototype,"selectConfigurationByName",null),a([s.action],t.prototype,"setupAndroidBundle",null),a([s.action],t.prototype,"selectMonoVersion",null),a([s.action],t.prototype,"selectSDKBundle",null),a([s.action],t.prototype,"onBranchConfigurationPreLoaded",null),a([s.action],t.prototype,"onAllBranchDataAvailable",null),a([s.computed],t.prototype,"isValid",null),t}(p.ConfigurePlatformCommon);t.ConfigurePlatformXamarin=g},3288:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformTest=void 0;var a=o(5),s=o(2742),u=o(3289),c=function(e){function t(t,o){var n=e.call(this,t)||this;return n.primaryHandler=o,n.tcPaneStore=new u.TestCloudPaneUIStore,n}return r(t,e),Object.defineProperty(t.prototype,"testingEnabled",{get:function(){return this.tcPaneStore.enableTests},enumerable:!1,configurable:!0}),t.prototype.setTestingEnabled=function(e){this.tcPaneStore.enableTests=e},t.prototype.onBranchConfigurationPreLoaded=function(e){var t=e.config;t&&t.toolsets&&t.toolsets.testcloud},t.prototype.onAllBranchDataAvailable=function(e){e.wasPreloaded||this.onBranchConfigurationPreLoaded(e)},Object.defineProperty(t.prototype,"isValid",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.save=function(e,t){this.tcPaneStore.selectedTestCloudConfig&&!this.testToggleDisabled()&&(e.toolsets.testcloud=this.tcPaneStore.selectedTestCloudConfig),t&&(t["test-cloud-tests"]=this.tcPaneStore.selectedTestCloudConfig?this.tcPaneStore.selectedTestCloudConfig.frameworkType:"None",this.tcPaneStore.incompatibilityReason!==u.IncompatibilityReason.None&&(t["test-cloud-incompatibility"]=u.IncompatibilityReason[this.tcPaneStore.incompatibilityReason]))},t.prototype.testToggleDisabled=function(){return!this.tcPaneStore.isTestPaneEnabled||!!this.primaryHandler&&this.primaryHandler.testToggleDisabled()},t.prototype.testMessage=function(){return this.primaryHandler&&this.primaryHandler.testMessage()},i([a.action],t.prototype,"onBranchConfigurationPreLoaded",null),i([a.action],t.prototype,"onAllBranchDataAvailable",null),i([a.computed],t.prototype,"isValid",null),t}(s.ConfigurePlatformHandler);t.ConfigurePlatformTest=c},3289:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TestCloudPaneUIStore=t.IncompatibilityReason=t.EnableTestsState=void 0;var r,i,a=o(5),s=o(10),u=o(2725),c=o(4),l=o(18),p=o(3290);function d(e){var t;if("Generated"===e.frameworkType)t="Use tests generated by App Center";else{var o=e.path.match(/^(.*)[/]([^/]+)/);t=o?"".concat(o[2]," (").concat(o[1]," - ").concat(e.frameworkType,")"):"".concat(e.path," (").concat(e.frameworkType,")")}return{description:t,project:e}}!function(e){e[e.NotChangedByUser=0]="NotChangedByUser",e[e.Enabled=1]="Enabled",e[e.Disabled=2]="Disabled"}(r=t.EnableTestsState||(t.EnableTestsState={})),function(e){e[e.None=0]="None",e[e.BuiltForSimulator=1]="BuiltForSimulator",e[e.UsesAndroidSharedRuntime=2]="UsesAndroidSharedRuntime"}(i=t.IncompatibilityReason||(t.IncompatibilityReason={}));var f=function(){function e(){this.generatedTestProject=d({path:"",frameworkType:"Generated",frameworkProperties:void 0}),this._selectedUITestConfiguration=null,this._isSimulatorBuild=!1,this._isIosSignedBuild=!1,this._errorUIStore=new p.ErrorDialogUIStore,this._hasTestCloudFeature=!1,this._enableTestsState=r.NotChangedByUser}return Object.defineProperty(e.prototype,"storedTestCloudConfig",{get:function(){var e=u.ciStore.currentRepoStore.currentBranchConfigurationStore,t=e?e.data:null;return t&&t.toolsets?t.toolsets.testcloud:void 0},enumerable:!1,configurable:!0}),e.prototype.convertTestCloudConfigToProject=function(e){if("Generated"===e.frameworkType)return this.generatedTestProject;if("UITest"===e.frameworkType){var t=e.frameworkProperties,o=this.projects.find((function(e){return e.project.path===t.path}));return o||d({path:t.path,frameworkType:e.frameworkType,frameworkProperties:{configurations:[t.configuration]}})}throw new Error("Not supported framework type: ".concat(e.frameworkType))},e.prototype.projectSortFn=function(e,t){var o=e.path.split("/").length,n=t.path.split("/").length;return o!==n?o-n:e.path.localeCompare(t.path)},Object.defineProperty(e.prototype,"isLoading",{get:function(){return!(u.ciStore&&u.ciStore.currentRepoStore&&u.ciStore.currentRepoStore.isLoaded)||!(u.ciStore.currentRepoStore.currentProjectsStore&&u.ciStore.currentRepoStore.currentProjectsStore.isLoaded)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isProjectSelectionVisible",{get:function(){return this._hasTestCloudFeature},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTestPaneEnabled",{get:function(){return!this.isLoading&&this.incompatibilityReason===i.None},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIos",{get:function(){return s.appStore.app.os===l.OS.IOS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIosSignedBuild",{get:function(){return this._isIosSignedBuild},set:function(e){var t=this;(0,a.runInAction)((function(){t._isIosSignedBuild=e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSimulatorBuild",{get:function(){return this._isSimulatorBuild},set:function(e){var t=this;(0,a.runInAction)((function(){t._isSimulatorBuild=e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedXamarinSolution",{get:function(){return this._selectedXamarinSolution},set:function(e){var t=this;(0,a.runInAction)((function(){t._selectedXamarinSolution=e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedXamarinConfiguration",{get:function(){return this._selectedXamarinConfiguration},set:function(e){var t=this;(0,a.runInAction)((function(){t._selectedXamarinConfiguration=e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableTests",{get:function(){return this.incompatibilityReason===i.None&&(this._enableTestsState===r.NotChangedByUser?!!this.storedTestCloudConfig:this._enableTestsState===r.Enabled)},set:function(e){var t=this;(0,a.runInAction)((function(){t._enableTestsState=e?r.Enabled:r.Disabled}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"usesAndroidSharedRuntime",{get:function(){var e=this;if(!this._selectedXamarinSolution||!this._selectedXamarinConfiguration)return!1;if(!this._selectedXamarinSolution.defaultPlatform||!this._selectedXamarinSolution.properties)return!1;var t=this._selectedXamarinSolution.properties.find((function(t){return t.configuration===e._selectedXamarinConfiguration&&e._selectedXamarinSolution&&t.platform===e._selectedXamarinSolution.defaultPlatform}));return!!t&&!!t.androidUseSharedRuntime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedProject",{get:function(){if(this._selectedProject)return this._selectedProject;var e=this.storedTestCloudConfig;return e?this.convertTestCloudConfigToProject(e):this.generatedTestProject},set:function(e){var t=this;(0,a.runInAction)((function(){t._selectedProject=e}))},enumerable:!1,configurable:!0}),e.prototype.selectProjectByDescription=function(e){this.selectedProject=this.projects.find((function(t){return t.description===e}))},Object.defineProperty(e.prototype,"selectedUITestConfiguration",{get:function(){if(!this.isTestPaneEnabled||!this.enableTests)return null;if(this._selectedUITestConfiguration)return this._selectedUITestConfiguration;var e=this.storedTestCloudConfig;return e&&"UITest"===e.frameworkType?e.frameworkProperties.configuration:null},set:function(e){var t=this;(0,a.runInAction)((function(){t._selectedUITestConfiguration=e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"projects",{get:function(){var e,t,o=[this.generatedTestProject],n=u.ciStore.currentRepoStore?u.ciStore.currentRepoStore.currentProjectsStore:void 0;if(!n||!n.hasData)return o;var r=null===(t=null===(e=n.data)||void 0===e?void 0:e.testcloud)||void 0===t?void 0:t.projects;return r?(0,c.concat)(o,r.sort(this.projectSortFn).map((function(e){return d(e)}))):o},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedTestCloudConfig",{get:function(){return this.enableTests?this.selectedProject&&"Generated"===this.selectedProject.project.frameworkType||!this.isProjectSelectionVisible?{deviceSelection:"top_3_devices",frameworkType:"Generated",frameworkProperties:{}}:this.selectedProject&&"UITest"===this.selectedProject.project.frameworkType?{deviceSelection:"any_top_1_device",frameworkType:"UITest",frameworkProperties:{path:this.selectedProject.project.path||void 0,configuration:this.selectedUITestConfiguration||void 0}}:null:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"incompatibilityReason",{get:function(){return this._isSimulatorBuild?i.BuiltForSimulator:this.usesAndroidSharedRuntime?i.UsesAndroidSharedRuntime:i.None},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errorViewModel",{get:function(){return this._errorUIStore},enumerable:!1,configurable:!0}),n([a.observable],e.prototype,"_enableTestsState",void 0),n([a.observable],e.prototype,"_selectedProject",void 0),n([a.observable],e.prototype,"_selectedUITestConfiguration",void 0),n([a.observable],e.prototype,"_isSimulatorBuild",void 0),n([a.observable],e.prototype,"_selectedXamarinSolution",void 0),n([a.observable],e.prototype,"_selectedXamarinConfiguration",void 0),n([a.observable],e.prototype,"_isIosSignedBuild",void 0),n([a.computed],e.prototype,"storedTestCloudConfig",null),n([a.computed],e.prototype,"isLoading",null),n([a.computed],e.prototype,"isTestPaneEnabled",null),n([a.computed],e.prototype,"enableTests",null),n([a.computed],e.prototype,"usesAndroidSharedRuntime",null),n([a.computed],e.prototype,"selectedProject",null),n([a.action],e.prototype,"selectProjectByDescription",null),n([a.computed],e.prototype,"selectedUITestConfiguration",null),n([a.computed],e.prototype,"projects",null),n([a.computed],e.prototype,"selectedTestCloudConfig",null),n([a.computed],e.prototype,"incompatibilityReason",null),e}();t.TestCloudPaneUIStore=f},3290:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorDialogUIStore=void 0;var r=o(5),i=function(){function e(){}return Object.defineProperty(e.prototype,"isVisible",{get:function(){return!!this._errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this._header},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errorMessage",{get:function(){return this._errorMessage},enumerable:!1,configurable:!0}),e.prototype.show=function(e,t){this._header=e,this._errorMessage=t},e.prototype.dismiss=function(){this._header=void 0,this._errorMessage=void 0},n([r.observable],e.prototype,"_errorMessage",void 0),n([r.observable],e.prototype,"_header",void 0),n([r.computed],e.prototype,"isVisible",null),n([r.action],e.prototype,"show",null),n([r.action],e.prototype,"dismiss",null),e}();t.ErrorDialogUIStore=i},3291:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformDistribute=void 0;var a=o(5),s=o(10),u=o(2724),c=o(2742),l=o(2977),p=o(2979),d=function(e){function t(t,o){var n=e.call(this,t)||this;return n.destinationUIStore=new p.DestinationPillsTagStore,n.destinationAutocompleteStore=new l.DestinationAutocompleteStore,n.distributeEnabled=!1,n.selectedDestinationId="",n.selectedGroupsDestinations=a.observable.array(),n.selectedStoresDestinations=a.observable.array(),n.isSilent=!1,n.releaseNotes="",n.selectDestinationId=function(e){n.selectedDestinationId=e,n.selectedDestinationType===u.AutoDistributionDestinationType.Store&&n.selectDestinations([e])},n.selectDestinations=function(e){switch(n.selectedDestinationType){case u.AutoDistributionDestinationType.Groups:n.selectedGroupsDestinations=a.observable.array(e);break;case u.AutoDistributionDestinationType.Store:n.selectedStoresDestinations=a.observable.array(e)}},n.setReleaseNotes=function(e){return n.releaseNotes=e.target.value},n.setIsSilent=function(e){n.isSilent=e},n.checkDistributionType=function(){!n.currentDestinationType&&n.selectedDestinationId&&(n.currentDestinationType=n.selectedStore?u.AutoDistributionDestinationType.Store:u.AutoDistributionDestinationType.Groups,n.selectDestinations([n.selectedDestinationId]))},n.primaryHandler=o,n}return r(t,e),Object.defineProperty(t.prototype,"selectedDestinations",{get:function(){switch(this.selectedDestinationType){case u.AutoDistributionDestinationType.Groups:return this.selectedGroupsDestinations.slice();case u.AutoDistributionDestinationType.Store:return this.selectedStoresDestinations.slice();default:return[]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showStores",{get:function(){return s.appStore.app&&(s.appStore.app.isAndroidApp||s.appStore.app.isIosApp)},enumerable:!1,configurable:!0}),t.prototype.setDistributeEnabled=function(e){this.distributeEnabled=e},Object.defineProperty(t.prototype,"isLoading",{get:function(){var e=this.repoStore,t=e.distributionStoresStore,o=e.distributionGroupsStore;return t.isPending||o.isPending},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stores",{get:function(){return this.repoStore.distributionStoresStore.grouppedStores},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedGroup",{get:function(){var e=this;return this.allGroups.find((function(t){return t.id===e.selectedDestinationId}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedStore",{get:function(){var e=this;return this.stores.find((function(t){return t.id===e.selectedDestinationId}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedDestination",{get:function(){return this.selectedDestinationType===u.AutoDistributionDestinationType.Store?this.selectedStore:this.selectedGroup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedDestinationType",{get:function(){return this.currentDestinationType?this.currentDestinationType:this.selectedStore?u.AutoDistributionDestinationType.Store:u.AutoDistributionDestinationType.Groups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedDestinationSubtype",{get:function(){return this.selectedDestinationType===u.AutoDistributionDestinationType.Store&&this.selectedStore?this.selectedStore.type:void 0},enumerable:!1,configurable:!0}),t.prototype.setDestinationType=function(e){this.currentDestinationType=e},Object.defineProperty(t.prototype,"allGroups",{get:function(){var e=this.repoStore.distributionGroupsStore;return e.isLoaded&&e.data?e.data:[]},enumerable:!1,configurable:!0}),t.prototype.onBranchConfigurationPreLoaded=function(e){var t=e.config;if(t&&t.toolsets&&t.toolsets.distribution){var o=t.toolsets.distribution;this.selectedDestinationId=t.toolsets.distribution.distributionGroupId||"",this.releaseNotes=t.toolsets.distribution.releaseNotes||"",this.distributeEnabled=!!this.selectedDestinationId,o.destinationType&&o.destinations?(this.distributeEnabled=!0,this.currentDestinationType=o.destinationType,this.selectDestinations(o.destinations),this.currentDestinationType===u.AutoDistributionDestinationType.Groups&&(this.isSilent=!!o.isSilent),this.currentDestinationType===u.AutoDistributionDestinationType.Store&&o.destinations&&1===o.destinations.length&&(this.selectedDestinationId=o.destinations[0])):(this.selectedStore&&(this.currentDestinationType=u.AutoDistributionDestinationType.Store),this.selectedGroup&&(this.currentDestinationType=u.AutoDistributionDestinationType.Groups),this.selectDestinations([this.selectedDestinationId]))}},t.prototype.onAllBranchDataAvailable=function(e){e.wasPreloaded||this.onBranchConfigurationPreLoaded(e)},Object.defineProperty(t.prototype,"isValid",{get:function(){return this.distributeEnabled&&!this.selectedDestinationId?this.selectedDestinationType===u.AutoDistributionDestinationType.Groups?this.selectedDestinations&&this.selectedDestinations.length>0:this.selectedDestinationType===u.AutoDistributionDestinationType.Store&&(this.selectedDestinations&&1===this.selectedDestinations.length):!this.isLoading},enumerable:!1,configurable:!0}),t.prototype.save=function(e,t){this.distributeEnabled&&!this.distributeToggleDisabled()&&(e.toolsets.distribution={destinationType:this.selectedDestinationType,destinationSubtype:this.selectedDestinationSubtype,destinations:this.selectedDestinations},this.selectedDestinationType===u.AutoDistributionDestinationType.Groups&&(e.toolsets.distribution.isSilent=this.isSilent),this.selectedDestinationType===u.AutoDistributionDestinationType.Store&&(e.toolsets.distribution.releaseNotes=this.releaseNotes))},t.prototype.distributeToggleDisabled=function(){return!!this.primaryHandler&&this.primaryHandler.distributeToggleDisabled()},t.prototype.distributeMessage=function(){return this.primaryHandler&&this.primaryHandler.distributeMessage()},i([a.observable],t.prototype,"distributeEnabled",void 0),i([a.observable],t.prototype,"selectedDestinationId",void 0),i([a.observable],t.prototype,"selectedGroupsDestinations",void 0),i([a.observable],t.prototype,"selectedStoresDestinations",void 0),i([a.observable],t.prototype,"currentDestinationType",void 0),i([a.observable],t.prototype,"isSilent",void 0),i([a.observable],t.prototype,"releaseNotes",void 0),i([a.action],t.prototype,"selectDestinationId",void 0),i([a.computed],t.prototype,"selectedDestinations",null),i([a.action],t.prototype,"selectDestinations",void 0),i([a.action],t.prototype,"setReleaseNotes",void 0),i([a.computed],t.prototype,"showStores",null),i([a.action],t.prototype,"setDistributeEnabled",null),i([a.computed],t.prototype,"isLoading",null),i([a.computed],t.prototype,"stores",null),i([a.computed],t.prototype,"selectedGroup",null),i([a.computed],t.prototype,"selectedStore",null),i([a.computed],t.prototype,"selectedDestination",null),i([a.computed],t.prototype,"selectedDestinationType",null),i([a.computed],t.prototype,"selectedDestinationSubtype",null),i([a.action],t.prototype,"setDestinationType",null),i([a.action],t.prototype,"setIsSilent",void 0),i([a.computed],t.prototype,"allGroups",null),i([a.action],t.prototype,"onBranchConfigurationPreLoaded",null),i([a.action],t.prototype,"checkDistributionType",void 0),i([a.action],t.prototype,"onAllBranchDataAvailable",null),i([a.computed],t.prototype,"isValid",null),t}(c.ConfigurePlatformHandler);t.ConfigurePlatformDistribute=d},3292:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformAdvanced=void 0;var a=o(5),s=o(99),u=o(396),c=function(e){function t(t){var o=e.call(this,t)||this;return o.badgeIsEnabled=!1,o}return r(t,e),t.prototype.onBranchConfigurationPreLoaded=function(e){var t=e.config;t&&(this.badgeIsEnabled=!!t.badgeIsEnabled)},t.prototype.onBranchAnalysisFinished=function(e){e.data&&e.data.buildscripts?this.detectedBuildScripts=e.data.buildscripts:this.detectedBuildScripts={}},t.prototype.onAllBranchDataAvailable=function(e){e.wasPreloaded||this.onBranchConfigurationPreLoaded(e)},t.prototype.setBadgeIsEnabled=function(e){this.badgeIsEnabled=e},t.getBadgeUrl=function(e,t){var o=encodeURIComponent(t),n="";if(s.config.getEnv()===u.PROD)n="build.appcenter.ms";else n="api-service-build-int-pme.dev-pme.avalanch.es";return"https://".concat(n,"/v0.1/apps/").concat(e,"/branches/").concat(o,"/badge")},Object.defineProperty(t.prototype,"isValid",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.save=function(e,t){e.toolsets.buildscripts=this.detectedBuildScripts,e.badgeIsEnabled=this.badgeIsEnabled,t&&(t["build-badge-enabled"]=this.badgeIsEnabled)},t.prototype.advancedDisabled=function(){return!1},i([a.observable],t.prototype,"badgeIsEnabled",void 0),i([a.observable],t.prototype,"detectedBuildScripts",void 0),i([a.action],t.prototype,"onBranchConfigurationPreLoaded",null),i([a.action],t.prototype,"onBranchAnalysisFinished",null),i([a.action],t.prototype,"onAllBranchDataAvailable",null),i([a.action],t.prototype,"setBadgeIsEnabled",null),t}(o(2742).ConfigurePlatformHandler);t.ConfigurePlatformAdvanced=c},3293:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePlatformCustomVariables=void 0;var s=o(5),u=o(4),c=o(22),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!1,t.savedIndices=new Set,t.committedVariables=[],t.vars=[],t}return r(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){var e=this;return this.vars.map((function(t,o){return{index:o,variable:t,saved:e.savedIndices.has(o)}})).sort((function(e,t){return!e.variable.isSecret||!e.saved||t.variable.isSecret&&t.saved?!t.variable.isSecret||!t.saved||e.variable.isSecret&&e.saved?e.index-t.index:1:-1}))},enumerable:!1,configurable:!0}),t.prototype.onBranchConfigurationPreLoaded=function(e){if(e.config){var t=e.config.environmentVariables||[];this.vars=a([],t,!0),this.savedIndices=new Set(t.map((function(e,t){return t}))),this.enabled=t&&t.length>0,this.copyVariables()}},t.prototype.onAllBranchDataAvailable=function(e){e.wasPreloaded||this.onBranchConfigurationPreLoaded(e)},Object.defineProperty(t.prototype,"errors",{get:function(){var e=this;return this.vars.reduce((function(t,o,n){return!t[n]&&n<e.committedVariables.length&&(""===o.name?t[n]=(0,c.t)("build:configure.customEnvVariables.validationError.empty"):-1!==o.name.indexOf(" ")?t[n]=(0,c.t)("build:configure.customEnvVariables.validationError.hasSpaces"):(0,u.forEach)(e.vars,(function(e,r){if(o.name===e.name&&n!==r&&!t[r]){var i=(0,c.t)("build:configure.customEnvVariables.validationError.duplicate",{variableName:o.name});t[n]=i,t[r]=i}}))),t}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return(0,u.isEmpty)(this.errors)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addedLines",{get:function(){return this.committedVariables.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customVariablesEnabled",{get:function(){return this.enabled},enumerable:!1,configurable:!0}),t.prototype.save=function(e,t){e.environmentVariables=this.vars},t.prototype.copyVariables=function(){this.committedVariables=a([],this.vars,!0)},t.prototype.setCustomVariablesEnabled=function(e){this.enabled=e,this.vars=e?a([],this.committedVariables,!0):[]},t.prototype.addVariable=function(e){this.vars.push(e)},t.prototype.deleteVariable=function(e){this.vars.splice(e,1),this.copyVariables()},t.prototype.setVariable=function(e,t){this.vars[e]=t,this.savedIndices.delete(e),this.copyVariables()},i([s.observable],t.prototype,"enabled",void 0),i([s.observable],t.prototype,"savedIndices",void 0),i([s.observable],t.prototype,"committedVariables",void 0),i([s.observable],t.prototype,"vars",void 0),i([s.computed],t.prototype,"variables",null),i([s.action],t.prototype,"onBranchConfigurationPreLoaded",null),i([s.action],t.prototype,"onAllBranchDataAvailable",null),i([s.computed],t.prototype,"errors",null),i([s.computed],t.prototype,"isValid",null),i([s.computed],t.prototype,"addedLines",null),i([s.computed],t.prototype,"customVariablesEnabled",null),i([s.action],t.prototype,"copyVariables",null),i([s.action],t.prototype,"setCustomVariablesEnabled",null),i([s.action],t.prototype,"addVariable",null),i([s.action],t.prototype,"deleteVariable",null),i([s.action],t.prototype,"setVariable",null),t}(o(2742).ConfigurePlatformHandler);t.ConfigurePlatformCustomVariables=l},3296:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.dataSettingsStore=t.DataSettingsStore=void 0;var i=o(16),a=o(3297),s=o(43),u=o(13),c=o(10),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ModelClass=a.DataRetentionPolicy,t}return r(t,e),t.prototype.generateIdFromResponse=function(e,t){return c.appStore.app.id},t.prototype.getModelId=function(e){var t;return(null===(t=c.appStore.app)||void 0===t?void 0:t.id)||""},t.prototype.getResource=function(e,t){return u.apiGateway.get(s.API.DATA_RETENTION,{params:{owner_name:c.appStore.ownerName,app_name:c.appStore.app.name}})},t.prototype.patchResource=function(e,t){return u.apiGateway.put(s.API.DATA_RETENTION,{params:{owner_name:c.appStore.ownerName,app_name:c.appStore.app.name},body:{retention_in_days:e.retentionInDays}})},t.prototype.deserialize=function(e,t,o,n){return{retentionInDays:e.retention_in_days}},t}(i.Store);t.DataSettingsStore=l,t.dataSettingsStore=new l},3297:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.DataRetentionPolicy=t.DeserializedDataRetentionPolicy=t.SerializedDataRetentionPolicy=t.DiagnosticsRetentionPolicy=void 0;var a=o(5),s=o(16),u=function(e){Object.assign(this,e)};t.DiagnosticsRetentionPolicy=u;var c=function(){};t.SerializedDataRetentionPolicy=c;var l=function(){};t.DeserializedDataRetentionPolicy=l;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),i([a.observable],t.prototype,"retentionInDays",void 0),t}(s.Model);t.DataRetentionPolicy=p},3391:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.recentReleasesFetchStore=void 0;var i=o(109),a=o(436),s=o(51),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.fetchData=function(){var e=s.appStore.app,t={ownerName:e.owner.name,appName:e.name||""};return a.ReleasesApi.listLatestReleases(t)},t.prototype.deserialize=function(e){return e},t.prototype.getGlobalCacheKey=function(){return s.appStore.app&&s.appStore.app.id},t}(i.FetchStore);t.recentReleasesFetchStore=new u},3441:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectGitLabAccount=void 0;var i=o(0),a=o(7),s=o(3442),u=function(e){function t(t,o){var n=e.call(this,t)||this;return n.uiStore=new s.ConnectGitLabAccountUIStore,n.setBaseUrl=function(e){return n.uiStore.setBaseUrl(e.target.value)},n.setAccessToken=function(e){return n.uiStore.setAccessToken(e.target.value)},n.close=function(){n.uiStore.resetState(),n.onClose()},n.connectAccount=function(){var e=n.uiStore.connectAccount();e&&e.onSuccess(n.close)},n.updateAccount=function(){var e=n.uiStore.updateAccount();e&&e.onSuccess(n.close)},n.onClose=o,n.props.params.id&&n.uiStore.loadCredential(n.props.params.id),n}return r(t,e),t.prototype.componentDidUpdate=function(e){this.props.params.id&&e.params.id!==this.props.params.id&&(this.uiStore.resetState(),this.uiStore.loadCredential(this.props.params.id))},t.prototype.render=function(){var e=this.props.t,t=this.uiStore,o=t.isValid,n=t.otherCredentialExists,r=t.baseUrl,s=t.accessToken,u=t.isLoading,c=t.isNewRecord,l=t.isDifferentOwner,p=c||l&&!n;return i.createElement(a.Page,{header:i.createElement(a.PageHeader,{loading:u,icon:a.IconName.GitLab,title:"GitLab"}),footer:i.createElement(a.FooterArea,{alignRight:!0},i.createElement(a.ButtonContainer,null,i.createElement(a.SecondaryButton,{onClick:this.close},e("common:button.cancel")),i.createElement(a.PrimaryButton,{disabled:!o||u,onClick:p?this.connectAccount:this.updateAccount},e("common:button.".concat(p?"connect":"update")))))},i.createElement(a.Grid,null,this.renderGenericErrorMessage(),i.createElement(a.GridRowCol,null,i.createElement(a.Paragraph,{size:a.Size.Large,bold:!0,spaceAbove:a.Space.Small,spaceBelow:a.Space.XSmall},e("build:connect.gitlab.".concat(p?"add":"update","Instance"))),i.createElement(a.Paragraph,{size:a.Size.Medium,color:a.TextColor.Secondary,spaceBelow:a.Space.XSmall},e("build:connect.gitlab.".concat(p?"add":"update","InstanceDescription"))),i.createElement(a.Paragraph,{size:a.Size.Medium,spaceAbove:a.Space.Small,spaceBelow:a.Space.XSmall},e("build:connect.gitlab.instanceUrl")),i.createElement(a.Input,{disabled:u||!c||l,invalid:!this.uiStore.instanceUrlValid,value:r,onChange:this.setBaseUrl,placeholder:e("build:connect.gitlab.instanceUrlPlaceholder")}),i.createElement(a.Paragraph,{size:a.Size.Small,spaceAbove:a.Space.XXSmall,color:a.TextColor.Error,"aria-live":"polite"},this.uiStore.instanceUrlErrorMessage)),i.createElement(a.GridRowCol,null,i.createElement(a.Paragraph,{size:a.Size.Medium,spaceBelow:a.Space.XSmall},e("build:connect.gitlab.accessToken")),i.createElement(a.Input,{type:"password",disabled:u,invalid:!this.uiStore.accessTokenValid,value:s,onChange:this.setAccessToken,placeholder:e("build:connect.gitlab.accessTokenPlaceholder")}),i.createElement(a.Paragraph,{size:a.Size.Small,spaceAbove:a.Space.XXSmall,color:a.TextColor.Error,"aria-live":"polite"},this.uiStore.accessTokenErrorMessage))))},t.prototype.renderGenericErrorMessage=function(){if(this.uiStore.genericErrorMessage)return i.createElement(a.GridRowCol,null,i.createElement(a.Paragraph,{size:a.Size.Medium,spaceAbove:a.Space.Medium},i.createElement(a.MessageBar,{type:a.NotificationType.Error,container:"Well"},this.uiStore.genericErrorMessage)))},t}(i.Component);t.ConnectGitLabAccount=u},3442:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectGitLabAccountUIStore=void 0;var r=o(5),i=o(1299),a=o(2720),s=o(22),u=function(){function e(){var e=this;this.genericErrorMessage="",this.instanceUrlErrorMessage="",this.accessTokenErrorMessage="",this.loadCredential=function(t){a.externalCredentialStore.fetchOne(t).onSuccess((function(o){o&&e.fetchGitLabCredentialDetails().onSuccess((function(n){var r=null==n?void 0:n.find((function(e){return e.id===t}));if(r)return o.owner=i.ExternalCredentialOwner.CurrentUser,void e.setCredential(o,!0);r=null==n?void 0:n.find((function(e){return e.profile.baseUrl===o.profile.baseUrl})),o.owner=i.ExternalCredentialOwner.OtherUser,e.setCredential(o,!!r),r&&e.setOtherCredential(r)}))}))},this.setBaseUrl=function(t){e.profile.baseUrl=t},this.setAccessToken=function(t){e.profile.accessToken=t},this.connectAccount=function(){var t;e.resetErrors(),/^https?:\/\//i.test(e.baseUrl)||e.setBaseUrl("https://".concat(e.baseUrl));try{t=new URL(e.baseUrl)}catch(o){return void(e.instanceUrlErrorMessage=(0,s.t)("build:connect.errors.gitlab.malformedUrl"))}if("https:"===t.protocol)return a.externalCredentialStore.create(e.credential,!1).onFailure((function(t){var o=t;switch(o.status){case 400:if(o.message.includes("host is not reachable")){e.instanceUrlErrorMessage=(0,s.t)("build:connect.errors.gitlab.unreachableError");break}e.genericErrorMessage=(0,s.t)("build:connect.errors.genericError");break;case 401:e.accessTokenErrorMessage=(0,s.t)("build:connect.errors.gitlab.invalidCredential");break;case 409:e.instanceUrlErrorMessage=(0,s.t)("build:connect.errors.gitlab.accountConflict");break;default:e.genericErrorMessage=(0,s.t)("build:connect.errors.genericError")}}));e.instanceUrlErrorMessage=(0,s.t)("build:connect.errors.gitlab.invalidProtocol")},this.updateAccount=function(){e.resetErrors();var t=a.externalCredentialStore.get(e.isDifferentOwner?e.otherCredential.id:e.credential.id);if(t)return a.externalCredentialStore.update(t,{profile:e.profile}).onSuccess((function(){e.loadCredential(e.credential.id)})).onFailure((function(t){var o=t;401!==o.status?400===o.status&&o.message.includes("host is not reachable")?e.instanceUrlErrorMessage=(0,s.t)("build:connect.errors.gitlab.unreachableError"):e.genericErrorMessage=(0,s.t)("build:connect.errors.genericError"):e.accessTokenErrorMessage=(0,s.t)("management:accounts.errors.gitlab.invalidCredentialUpdate")}));e.genericErrorMessage=(0,s.t)("management:accounts.errors.gitlab.removedCredentialUpdate")},this.resetState=function(){e.credential=e.createInitialCredential(),e.otherCredential=e.createInitialCredential(),e.resetErrors()},this.resetErrors=function(){e.genericErrorMessage="",e.instanceUrlErrorMessage="",e.accessTokenErrorMessage=""},this.credential=this.createInitialCredential(),this.otherCredential=this.createInitialCredential(),this.resetState()}return Object.defineProperty(e.prototype,"isValid",{get:function(){return!!this.accessToken.trim()&&!!this.baseUrl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this.isConnecting||this.isFetching},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNewRecord",{get:function(){return!this.credential||!this.credential.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDifferentOwner",{get:function(){return this.credential&&!!this.credential.id&&this.credential.owner!==i.ExternalCredentialOwner.CurrentUser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"otherCredentialExists",{get:function(){return this.otherCredential&&!!this.otherCredential.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this.profile.baseUrl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"accessToken",{get:function(){return this.profile.accessToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceUrlValid",{get:function(){return!this.instanceUrlErrorMessage||0===this.instanceUrlErrorMessage.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"accessTokenValid",{get:function(){return!this.accessTokenErrorMessage||0===this.accessTokenErrorMessage.length},enumerable:!1,configurable:!0}),e.prototype.fetchGitLabCredentialDetails=function(){return a.externalCredentialStore.fetchCollection({serviceType:i.externalServiceType.GitLab,credentialType:i.externalCredentialType.Credentials},{segmentFilter:this.filterCredentials})},e.prototype.filterCredentials=function(e){return e.serviceType===i.externalServiceType.GitLab&&e.credentialType===i.externalCredentialType.Credentials},e.prototype.setCredential=function(e,t){this.credential.id=e.id,this.credential.isValid=e.isValid,this.credential.owner=e.owner,this.setBaseUrl(e.profile.baseUrl),this.setAccessToken(t?"                    ":""),this.genericErrorMessage=this.credential.isValid||this.isDifferentOwner?"":(0,s.t)("build:connect.errors.gitlab.expiredAccessToken")},e.prototype.setOtherCredential=function(e){this.otherCredential.id=e.id,this.otherCredential.isValid=e.isValid},Object.defineProperty(e.prototype,"profile",{get:function(){return this.credential.profile},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnecting",{get:function(){return a.externalCredentialStore.isCreating(this.credential)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFetching",{get:function(){return a.externalCredentialStore.isFetching(this.credential.id)},enumerable:!1,configurable:!0}),e.prototype.createInitialCredential=function(){var e=new i.ExternalCredential;return e.serviceType="gitlab",e.credentialType="credentials",e.profile={baseUrl:"",accessToken:""},e.isValid=!1,e},n([r.observable],e.prototype,"credential",void 0),n([r.observable],e.prototype,"otherCredential",void 0),n([r.observable],e.prototype,"genericErrorMessage",void 0),n([r.observable],e.prototype,"instanceUrlErrorMessage",void 0),n([r.observable],e.prototype,"accessTokenErrorMessage",void 0),n([r.computed],e.prototype,"isValid",null),n([r.computed],e.prototype,"isLoading",null),n([r.computed],e.prototype,"isNewRecord",null),n([r.computed],e.prototype,"isDifferentOwner",null),n([r.computed],e.prototype,"otherCredentialExists",null),n([r.computed],e.prototype,"baseUrl",null),n([r.computed],e.prototype,"accessToken",null),n([r.computed],e.prototype,"instanceUrlValid",null),n([r.computed],e.prototype,"accessTokenValid",null),n([r.action],e.prototype,"loadCredential",void 0),n([r.action],e.prototype,"setBaseUrl",void 0),n([r.action],e.prototype,"setAccessToken",void 0),n([r.action],e.prototype,"connectAccount",void 0),n([r.action],e.prototype,"updateAccount",void 0),n([r.action],e.prototype,"resetState",void 0),n([r.action],e.prototype,"resetErrors",void 0),n([r.computed],e.prototype,"profile",null),n([r.computed],e.prototype,"isConnecting",null),n([r.computed],e.prototype,"isFetching",null),e}();t.ConnectGitLabAccountUIStore=u}}]);
//# sourceMappingURL=6ba83d8b180f4817b73c.js.map