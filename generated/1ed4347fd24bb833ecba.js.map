{"version":3,"sources":["webpack:///./client/data/lib/resource-request.ts","webpack:///./client/data/lib/fetch-store.ts","webpack:///./client/data/shell/models/app.ts","webpack:///./client/data/management/stores/azure-subscription-store.ts","webpack:///./client/data/management/stores/team-app-store.ts","webpack:///./client/data/lib/index.ts","webpack:///./client/data/lib/association-store.ts","webpack:///./client/data/management/models/azure-subscription.ts","webpack:///./client/data/shell/models/organization.ts","webpack:///./client/data/management/models/team-member.ts","webpack:///./client/data/management/stores/team-member-store.ts","webpack:///./client/data/shell/models/user.ts","webpack:///./client/data/management/models/azure-tenant.ts","webpack:///./client/global-config.ts","webpack:///./client/data/management/models/org-azure-subscription.ts","webpack:///./client/data/management/stores/org-azure-subscription-association-store.ts","webpack:///./client/data/management/stores/azure-tenant-store.ts","webpack:///./client/data/management/models/team.ts","webpack:///./client/data/management/models/device.ts","webpack:///./client/data/management/constants.ts","webpack:///./client/data/lib/store.ts","webpack:///./client/data/management/models/notification-settings.ts","webpack:///./client/data/management/models/org-compliance-setting.ts","webpack:///./client/shared/icon/icon sync ./node_modules/svg-react-loader/lib/loader.js ^\\.\\/.*\\.svg$","webpack:///./client/data/management/models/index.ts","webpack:///./client/shared/icon/icon sync ./node_modules/svg-react-loader/lib/loader.js ^\\.\\/.*\\-invert\\.svg$","webpack:///./client/data/lib/form-data-resource-request.ts","webpack:///./client/data/shell/models/user-settings.ts","webpack:///./client/data/shell/utils/app-support.ts","webpack:///./client/data/management/models/api-token.ts","webpack:///./client/data/management/models/billing-resources.ts","webpack:///./client/data/management/models/bugtracker.ts","webpack:///./client/data/management/models/bugtracker-account.ts","webpack:///./client/data/management/models/bugtracker-repo.ts","webpack:///./client/data/management/models/export.ts","webpack:///./client/data/management/models/org-azure-tenant.ts","webpack:///./client/data/management/models/webhook.ts","webpack:///./client/data/lib/model.ts"],"names":["RequestState","promise","getData","setData","state","Pending","handlers","success","failure","this","then","action","data","Loaded","forEach","callback","error","Failed","onSuccess","isPending","push","isLoaded","runInAction","onFailure","isFailed","all","requests","ResourceRequest","Promise","map","r","noop","observable","computed","fetchRequest","box","clearCache","reaction","getGlobalCacheKey","get","fetchError","undefined","fetch","params","optimistic","resourceRequest","fetchData","response","deserialize","set","fetchJsonAction","fetchJson","json","FetchStore","app","owner","rest","setOwner","App","internalAppId","name","type","APP_OWNER_TYPES","ORG","organizationStore","find","userStore","currentUser","id","setMemberPermissions","permissions","member_permissions","ownerName","appName","toLowerCase","platform","Object","values","PLATFORMS","item","value","displayName","USER","origin","Origin","CodePush","MobileCenter","AppCenter","TestCloud","microsoft_internal","os","SUPPORTED_OS_AND_PLATFORMS_FOR_SxS","includes","OS","TIZEN","WINDOWS","LINUX","PLATFORM","UWP","WPF","WINFORMS","REACT_NATIVE","CORDOVA","UNITY","isUnityIosApp","isUnityAndroidApp","ELECTRON","ANDROID","IOS","MACOS","TVOS","JAVA","XAMARIN","CUSTOM","UNKNOWN","isTizenApp","isCreatedInAppCenter","isCreatedInCodePush","isCreatedInTestCloud","display_name","readablePlatform","application_category","CategoryName","FirstParty","ThirdParty","category_name","isSupportedForBeacon","beaconName","appSupport","isSupported","getTeamAssociation","organizationName","teamName","teamAppStore","join","internalId","getTeamRole","teamAssociation","getHumanReadableTeamRole","capitalize","Model","ModelClass","AzureSubscription","getResource","query","Error","getCollection","ownerType","apiGateway","API","ORG_AZURE_SUBSCRIPTIONS","org_name","USER_AZURE_SUBSCRIPTIONS","deleteResource","resource","options","delete","USER_AZURE_SUBSCRIPTION","subscription_id","responseType","RESPONSE_TYPES","TEXT","serialized","tenantId","tenant_id","subscription_name","createdAt","Date","created_at","isBilling","is_billing","isBillable","is_billable","getModelId","model","generateIdFromResponse","Store","AzureSubscriptionStore","azureSubscriptionStore","setMetaInfo","team_permissions","Association","TeamAppAssociation","LeftClass","Team","AssociationClass","associateResources","teamId","appId","post","TEAM_APPS","team_name","body","disassociateResources","TEAM_APP","app_name","patchAssociation","association","changes","patch","contains","AssociationStore","TeamAppStore","leftKey","rightKey","associationResponse","associations","deep","update","ObservableMap","associate","disassociate","uniqueId","associateManyResources","rightKeys","disassociateManyResources","boolean","associationKey","isDisassociating","request","disassociationFailed","disassociationSucceeded","disassociationError","isAssociating","associationFailed","associationSucceeded","associationError","isUpdating","updateFailed","updateSucceeded","updateError","add","remove","has","associateMany","index","singleRequest","disassociateMany","updateAssociation","associationCopy","assign","applyChanges","unsubscribe","revertChanges","getAllAssociationsForLeftKey","Array","from","entries","reduce","entry","startsWith","SubscriptionType","organization","relatedTo","orgAzureSubscriptionAssociationStore","azureTenantStore","resources","filter","tenant","organization_category","setUserRole","role","collaborator_role","fetchAzureTenant","fetchForRelationship","Organization","relations","getRole","belongsTo","relationId","humanReadableRole","isMaintainer","removeRelation","teamRelations","others","relation","TeamMember","queryOrOptions","email","TEAMS_USERS","postResource","user_email","TEAMS_USER","user_name","userName","fetchCollection","fetchMode","FetchMode","PreserveReplace","segmentFilter","TeamMemberStore","teamMemberStore","user","settings","UserSettings","subscription","userId","user_category","hasFeatureFlag","featureFlag","feature_flags","User","AzureTenant","window","environments","smoothscroll","polyfill","ENV","config","getEnv","__runInAction__","onPossiblyUnhandledRejection","reason","logger","FetchError","toJs","cancellation","PROD","configure","enforceActions","telemetry","init","templateSettings","interpolate","startSentry","OrgAzureSubscription","subscriptionId","ORG_AZURE_SUBSCRIPTION","OrgAzureSubscriptionAssociationStore","foreignKey","foreignKeyValue","ORG_AZURE_TENANT","aad_tenant_id","AzureTenantStore","memberSorty","member","appSorty","teamMemberRole","membersPostfix","memberCount","pluralize","appCount","expectedMemberCount","expectedAppCount","incrementMemberCount","decrementMemberCount","incrementAppCount","decrementAppCount","members","maintainers","sortBy","sortedMembers","unshift","apps","appStore","manufacturer","deviceName","Device","VERSION","DATE_FOR_USERS_CREATED_AFTER_GA","USER_PROFILE","USER_APPS","USER_APP","DELETE_APP","UPDATE_PASSWORD","APP_INVITED_USER","APP_USERS","REMOVE_APP_TESTER_FROM_DESTINATIONS","APP_TEAMS","GET_APP_INVITATIONS","APP_USER","TRANSFER_APP_TO_ORG","APP_BRANCHES","BUILD_BRANCHES_CONFIG","USER_SETTING","USER_INVITATIONS","USER_INVITATION_ACCEPT","USER_INVITATION_REJECT","USER_ORGANIZATIONS","USER_ORGANIZATION","ORG_APPS","ORG_USERS","ORG_USER","ORG_INVITATIONS","ORG_INVITATIONS_ROLE_UPDATE","RESEND_ORG_INVITATION","REVOKE_ORG_INVITATION","TEAMS","TEAM","WEBHOOKS","WEBHOOK","PING_WEBHOOK","EXPORT_CONFIGURATIONS","EXPORT_CONFIGURATION","EXPORT_CONFIGURATION_ENABLE","EXPORT_CONFIGURATION_DISABLE","DATA_RETENTION","APP_AZURE_SUBSCRIPTIONS","APP_AZURE_SUBSCRIPTION","BUGTRACKER","BUGTRACKER_UPDATE_STATE","BUGTRACKER_TOKENS","BUGTRACKER_REPOS","BUGTRACKER_SERVICE_CONNECTION","GET_DEVICES_FOR_USER","DEVICE_FOR_USER","ORG_COMPLIANCE_SETTINGS","ORG_COMPLIANCE_SETTINGS_WITH_ID","GET_DEVICE_MANAGEMENT_PROFILE","OWNER_TYPE","ORGANIZATION","ERROR_CODES","LAST_ADMIN","FORBIDDEN","MUST_BE_APP_OWNER_TO_TRANSFER","MUST_BE_ORG_ADMIN_TO_TRANSFER","AppFilterQueryParams","Role","ReleaseType","ValidAppOSFilters","isValidAppOSFilter","isValidAppRoleFilter","ALL_APP_FILTER_ROLES","isValidReleaseType","toUpperCase","SuggestedReleaseTypes","AppListType","TestTrialId","TestFreeUntilGAId","TestFreeTierId","TestPlanPaidId","TestPlanEnterpriseId","BuildFreeTierId","BuildFreeUntilGAId","BuildPlanPaidId","TestBillingPeriodPath","TestBillingPlanPath","BuildBillingPlanPath","TestUsagePath","BuildUsagePath","MsTeamsWebhookDocURL","SlackWebhookDocURL","defaultColumnWidth","nameColumn","nameColumnHideOwner","platformColumn","roleColumnWidth","releaseTypeColumnWidth","clientIdsById","fetchOne","fetchRelationship","create","clear","getResourceForRelationship","foreignModel","postResources","patchResource","patchResources","patchModifiedResources","deleteResources","clientId","compoundKey","keyPieces","associationStore","additionalFilter","getModelIdSafe","pieces","splitKey","split","size","isFetchingRelationship","requestIs","relationshipsFetchError","errorFor","relationshipsFetchFailed","resourceOrId","requestMap","property","isFetching","getResourceOrIdFromRestParams","resourceOrIdOrKeyPieces","isCreating","getClientId","isDeleting","fetchFailed","creationFailed","deletionFailed","fetchSucceeded","creationSucceeded","deletionSucceeded","creationError","deletionError","deserializedResource","oldResource","ensureCollectionIsFetched","Replace","Append","PreserveAppend","serializedResource","getId","existingModel","idsToKeep","toString","fetchOneForRelationship","fetchForManyToMany","isLeft","newResource","createMany","serializedResources","resourceCopy","updateMany","resourceCopies","deleteMany","resourcesOrIds","deleteRelationship","resourceOrModel","verifyStringId","modelOrId","EventType","BuildCompleteSetting","NewCrashGroupCreatedSetting","NewAppReleaseSetting","TestRunCompletedSetting","SettingType","OrgComplianceSetting","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","code","keys","resolve","module","exports","url","formData","HttpTokenUtils","getToken","forceRefreshToken","token","reject","XMLHttpRequest","open","Utils","isInstallSubdomain","getApiGatewayUrlInstall","getApiGatewayUrl","setRequestHeader","jwtToken","addEventListener","status","responseText","contentType","getResponseHeader","isJSON","JSON","parse","err","event","upload","lengthComputable","progress","loaded","total","send","clearProgress","setTimeout","FormDataResourceRequest","matrix","hockeyapp","OBJECTIVE_C_SWIFT","codepush","testcloud","appcenter","supportMatrix","evaluateAppSupport","appProps","isArray","nextKey","shift","AppSupport","APIToken","scopes","scope","viewer","PaymentSource","billingPlans","buildService","currentBillingPeriod","startTime","endTime","nextBillingPeriod","testService","currentServicePlanIsFree","service","serviceType","byAccount","plan","parentId","nextServicePlanIsFree","nextServicePlanIsDifferent","currentServiceCount","count","currentPlanIsFree","currentCount","currentCountOfService","newCount","nextCountOfService","BillingResource","bugTrackerType","Github","VSTS","Jira","initialValues","defaultSettings","callbackUrl","vstsProjectId","vstsProjectUri","vstsProjectName","vstsAccountName","vstsAreaPath","vstsDefaultPayload","githubRepoId","githubRepoName","githubRepoUri","githubLabel","jiraProjectId","jiraProjectName","eventTypes","NewCrashGroupCreated","NewAppRelease","length","BugTracker","areaValidations","minLength","maxLength","payloadValidations","isValidPayload","_","exc","BugTrackerAccount","login","BugTrackerRepo","ExportType","BlobStorage","AppInsights","Type","BlobStorageConnectionString","ApplicationInsightsInstrumentationKey","BlobStorageLinkedSubscription","ApplicationInsightsLinkedSubscription","ExportState","Enabled","Disabled","Deleted","Invalid","instrumentationKey","connectionString","ExportConfiguration","ExportConfigurationsResult","OrgAzureTenant","Webhook","constructor","key","appliedChanges","extraKeys","difference"],"mappings":"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","file":"1ed4347fd24bb833ecba.js","sourcesContent":["import { computed, observable, action, runInAction } from \"mobx\";\nimport { noop } from \"lodash\";\n\nenum RequestState {\n  Pending,\n  Loaded,\n  Failed,\n}\n\ninterface ResourceRequestHandlers<DataT> {\n  success: ((data: DataT | undefined) => void)[];\n  failure: ((data: Error | undefined) => void)[];\n}\n\nexport class ResourceRequest<DataT, PromiseT = DataT> {\n  @observable private state = RequestState.Pending;\n  private handlers: ResourceRequestHandlers<DataT> = { success: [], failure: [] };\n\n  /**\n   * If you're using this, you're probably doing something wrong! Use `data` and `error` and `onSuccess` and `onFailure` instead!\n   */\n  public promise: Promise<PromiseT>;\n\n  /** The error from the request, if it failed. */\n  @observable public error?: Error;\n\n  /**\n   * Creates a ResourceRequest.\n   * @param promise The Promise representing the requests state.\n   * @param getData A getter for the observable data encapsulated by the request, to be called by the `request.data` computed property.\n   * @param setData A Node-style callback invoked when the Promise has settled, called with (error, data) from the Promises rejection or resolution. Usually, this function is used to set the observable returned by `getData`.\n   */\n  constructor(\n    promise: Promise<PromiseT>,\n    private getData: (() => DataT) | undefined,\n    setData: (error: Error | null, data: PromiseT | null) => void\n  ) {\n    this.promise = promise;\n    promise.then(\n      action((data: PromiseT) => {\n        setData(null, data);\n        this.state = RequestState.Loaded;\n        this.handlers.success?.forEach((callback) => callback(this.data));\n      }),\n      action((error: Error) => {\n        setData(error, null);\n        this.error = error;\n        this.state = RequestState.Failed;\n        this.handlers.failure.forEach((callback) => callback(this.error));\n      })\n    );\n  }\n\n  // Chainable success/failure callbacks. We cant use Promises\n  // because chained Promise callbacks execute asynchronously,\n  // therefore inside separate MobX transactions. This ensures\n  // that all reactions can occur synchronously in a single\n  // transaction.\n\n  /**\n   * For a pending request, pushes a callback onto a queue to be executed\n   * when the request successfully completes. For a request that already\n   * succeeded, the callback is executed immediately. Callbacks are\n   * passed the data from the request.\n   */\n  public onSuccess(callback: (data: DataT | undefined) => void) {\n    if (this.isPending) {\n      this.handlers.success.push(callback);\n    } else if (this.isLoaded) {\n      runInAction(() => callback(this.data));\n    }\n\n    return this;\n  }\n\n  /**\n   * For a pending request, pushes a callback onto a queue to be executed\n   * when the request fails. For a request that has already failed, the\n   * callback is executed immediately. Callbacks are passed the error\n   * from the request.\n   */\n  public onFailure(callback: (error: Error | undefined) => void) {\n    if (this.isPending) {\n      this.handlers.failure.push(callback);\n    } else if (this.isFailed) {\n      runInAction(() => callback(this.error));\n    }\n\n    return this;\n  }\n\n  /** Whether the request is in flight; i.e., if the Promise is pending. */\n  @computed public get isPending() {\n    return this.state === RequestState.Pending;\n  }\n  /** Whether the request has failed; i.e., if the Promise was rejected. */\n  @computed public get isFailed() {\n    return this.state === RequestState.Failed;\n  }\n  /** Whether the request has succeeded; i.e., if the Promise was fulfilled. */\n  @computed public get isLoaded() {\n    return this.state === RequestState.Loaded;\n  }\n  /** The data encapsulated by the request. */\n  @computed public get data() {\n    return this.getData && this.getData();\n  }\n\n  public static all<T, U = T>(requests: ResourceRequest<T, U>[]) {\n    return new ResourceRequest<T[], U[]>(Promise.all(requests.map((r) => r.promise)), () => requests.map((r) => r.getData!()), noop);\n  }\n}\n","import { IObservableValue, computed, observable, action, reaction } from \"mobx\";\nimport { ResourceRequest } from \"./resource-request\";\n\n/**\n * A simple store that uses ResourceRequest to\n * fetch some data asynchronously.\n */\nexport abstract class FetchStore<U, T = U, P = any> {\n  @observable private fetchRequest = observable.box(null) as IObservableValue<ResourceRequest<U, T> | null>;\n  @observable public data!: U;\n  @observable public json!: any;\n\n  constructor() {\n    reaction(() => this.getGlobalCacheKey(), this.clearCache);\n  }\n\n  /**\n   * Specifies an observable which, when changed, will clear all cached data and requests.\n   */\n  public getGlobalCacheKey(): any {\n    return undefined;\n  }\n\n  @computed\n  public get isPending() {\n    return this.fetchRequest.get() ? this.fetchRequest.get()!.isPending : false;\n  }\n\n  @computed\n  public get isLoaded() {\n    return this.fetchRequest.get() ? this.fetchRequest.get()!.isLoaded : false;\n  }\n\n  @computed\n  public get isFailed() {\n    return this.fetchError != null;\n  }\n\n  @computed\n  public get fetchError() {\n    return this.fetchRequest.get() ? this.fetchRequest.get()!.error : undefined;\n  }\n\n  @action\n  public fetch(params?: P, optimistic?: boolean) {\n    if (!optimistic) {\n      this.data = null as any;\n    }\n    const resourceRequest = new ResourceRequest(\n      this.fetchData(params!),\n      () => this.data,\n      (error, response: T | null) => {\n        if (error) {\n          return;\n        }\n\n        this.data = this.deserialize(response!);\n      }\n    );\n\n    this.fetchRequest.set(resourceRequest);\n    return resourceRequest;\n  }\n\n  @action\n  public fetchJsonAction() {\n    //@ts-ignore\n    this.fetchJson().then(\n      action((response) => {\n        this.json = response;\n      })\n    );\n  }\n\n  @action\n  protected clearCache = () => {\n    this.data = null as any;\n    this.fetchRequest = observable.box(null);\n  };\n\n  protected abstract fetchData(params: P): Promise<any>;\n  protected abstract deserialize(data: T): U;\n}\n","import { computed, observable, set, action } from \"mobx\";\nimport {\n  Origin,\n  BeaconName,\n  IApp,\n  IAppOwner,\n  AppRole,\n  SUPPORTED_OS_AND_PLATFORMS_FOR_SxS,\n  OS,\n  PLATFORM,\n  readablePlatform,\n  APP_OWNER_TYPES,\n  PLATFORMS,\n  CollaboratorRole,\n  ICategory,\n  CategoryName,\n} from \"@lib/common-interfaces\";\nimport { Model } from \"../../lib\";\nimport { SerializedAzureSubscription } from \"@root/data/management/models/azure-subscription\";\nimport { userStore } from \"@root/stores/user-store\";\nimport { appSupport } from \"../utils/app-support\";\nimport { organizationStore } from \"@root/stores/organization-store\";\nimport { Organization } from \"./organization\";\nimport { User } from \"@root/data/shell/models/user\";\nimport { teamAppStore, TeamAppAssociation } from \"@root/data/management/stores/team-app-store\";\nimport { capitalize } from \"lodash\";\n\nexport class App extends Model<IApp> implements IApp {\n  /* Set up in controller */\n  @observable public id!: string;\n  @observable public app_secret?: string;\n  @observable public azure_subscription?: SerializedAzureSubscription;\n  @observable public description?: string;\n  @observable public release_type?: string;\n  @observable public display_name?: string;\n  @observable public feature_flags?: string[];\n  @observable public repositories?: { repo_url: string; repo_provider: string }[];\n  @observable public name?: string;\n  @observable public icon_url?: string;\n  @observable public icon_source?: string;\n  @observable public os!: OS;\n  @observable public readonly owner!: IAppOwner | Readonly<User> | Readonly<Organization>;\n  @observable public platform!: PLATFORM;\n  @observable public member_permissions?: AppRole[];\n  @observable public origin?: Origin;\n  @observable public created_at?: string;\n  @observable public updated_at?: string;\n  @observable public microsoft_internal?: boolean;\n  @observable public cutover_from_hockeyapp_at?: string;\n  @observable public application_category?: ICategory;\n\n  constructor(app?: IApp) {\n    const { owner = null, ...rest } = app || {};\n    super(rest || {});\n    if (owner) {\n      this.setOwner(owner);\n    }\n  }\n\n  @computed\n  public get internalId() {\n    return App.internalAppId(this.owner.name, this.name);\n  }\n\n  @action\n  public setOwner(owner: IAppOwner) {\n    // Casts to any so as to preserve `owner` being readonly externally,\n    // only setting through this method.\n    if (owner.type === APP_OWNER_TYPES.ORG) {\n      (this as any).owner = organizationStore.find(owner.name) || owner;\n    } else if (!!userStore.currentUser.id && owner.id === userStore.currentUser.id) {\n      (this as any).owner = userStore.currentUser;\n    } else {\n      (this as any).owner = owner;\n    }\n  }\n\n  @action\n  public setMemberPermissions(permissions: AppRole[]): void {\n    set(this, { member_permissions: permissions });\n  }\n\n  public static internalAppId(ownerName: string, appName?: string) {\n    return `${ownerName}|${appName}`.toLowerCase();\n  }\n\n  @computed\n  get humanReadablePlatform(): string {\n    const platform = Object.values(PLATFORMS).find((item) => item.value === this.platform);\n    return platform && platform.displayName ? platform.displayName : this.platform;\n  }\n\n  @computed\n  get isOrgApp(): boolean {\n    return this.owner && this.owner.type === APP_OWNER_TYPES.ORG;\n  }\n\n  @computed\n  get isUserApp(): boolean {\n    return this.owner && this.owner.type === APP_OWNER_TYPES.USER;\n  }\n\n  @computed\n  get isOwnedByCurrentUser(): boolean {\n    return this.owner.name === userStore.currentUser.name;\n  }\n\n  @computed\n  get isCreatedInCodePush(): boolean {\n    return this.origin === Origin.CodePush;\n  }\n\n  @computed\n  get isCreatedInAppCenter(): boolean {\n    return this.origin === Origin.MobileCenter || this.origin === Origin.AppCenter;\n  }\n\n  @computed\n  get isCreatedInTestCloud(): boolean {\n    return this.origin === Origin.TestCloud;\n  }\n\n  @computed\n  get isMicrosoftInternal(): boolean {\n    return !!this.microsoft_internal;\n  }\n\n  @computed\n  get isSupportedUnderSxS(): boolean {\n    const os = SUPPORTED_OS_AND_PLATFORMS_FOR_SxS[this.os];\n\n    if (!os) {\n      return false;\n    }\n    return os.includes(this.platform);\n  }\n\n  @computed\n  get isTizenApp(): boolean {\n    return this.os === OS.TIZEN;\n  }\n\n  @computed\n  get isWindowsApp(): boolean {\n    return this.os === OS.WINDOWS;\n  }\n\n  @computed\n  get isLinuxApp(): boolean {\n    return this.os === OS.LINUX;\n  }\n\n  @computed\n  get isUwpApp(): boolean {\n    return this.platform === PLATFORM.UWP;\n  }\n\n  @computed\n  get isWPFApp(): boolean {\n    return this.platform === PLATFORM.WPF;\n  }\n\n  @computed\n  get isWinFormsApp(): boolean {\n    return this.platform === PLATFORM.WINFORMS;\n  }\n\n  @computed\n  get isReactNativeApp(): boolean {\n    return this.platform === PLATFORM.REACT_NATIVE;\n  }\n\n  @computed\n  get isCordovaApp(): boolean {\n    return this.platform === PLATFORM.CORDOVA;\n  }\n\n  @computed\n  get isUnityApp(): boolean {\n    return this.platform === PLATFORM.UNITY;\n  }\n\n  @computed\n  get isIosOrAndroidUnityApp(): boolean {\n    return this.isUnityIosApp || this.isUnityAndroidApp;\n  }\n\n  @computed\n  get isElectronApp(): boolean {\n    return this.platform === PLATFORM.ELECTRON;\n  }\n\n  @computed\n  get isUnityAndroidApp(): boolean {\n    return this.os === OS.ANDROID && this.platform === PLATFORM.UNITY;\n  }\n\n  @computed\n  get isUnityIosApp(): boolean {\n    return this.os === OS.IOS && this.platform === PLATFORM.UNITY;\n  }\n\n  @computed\n  get isAppleApp(): boolean {\n    return this.os === OS.IOS || this.os === OS.MACOS || this.os === OS.TVOS;\n  }\n\n  @computed\n  get isIosApp(): boolean {\n    return this.os === OS.IOS;\n  }\n\n  @computed\n  get isIosReactNativeApp(): boolean {\n    return this.os === OS.IOS && this.platform === PLATFORM.REACT_NATIVE;\n  }\n\n  @computed\n  get isAndroidApp(): boolean {\n    return this.os === OS.ANDROID;\n  }\n\n  @computed\n  get isAndroidJavaApp(): boolean {\n    return this.os === OS.ANDROID && this.platform === PLATFORM.JAVA;\n  }\n\n  @computed\n  get isAndroidReactNativeApp(): boolean {\n    return this.os === OS.ANDROID && this.platform === PLATFORM.REACT_NATIVE;\n  }\n\n  @computed\n  get isMacOSApp(): boolean {\n    return this.os === OS.MACOS;\n  }\n\n  @computed\n  get isTvOSApp(): boolean {\n    return this.os === OS.TVOS;\n  }\n\n  @computed\n  get isXamarinApp(): boolean {\n    return this.platform === PLATFORMS.XAMARIN.value;\n  }\n\n  @computed\n  get isCustomApp(): boolean {\n    return this.os === OS.CUSTOM;\n  }\n\n  @computed\n  get isProguardCapable(): boolean {\n    return (\n      this.os === OS.ANDROID &&\n      (this.platform === PLATFORM.JAVA ||\n        this.platform === PLATFORM.REACT_NATIVE ||\n        this.platform === PLATFORM.CORDOVA ||\n        this.platform === PLATFORM.UNITY)\n    );\n  }\n\n  /**\n   * Returns true if the app is supported because CodePush supports it, but otherwise App Center doesn't have\n   * explict support for the platform/os combo. This is currently true for React Native Windows apps\n   * (which have neither a App Center SDK nor App Center build support currently).\n   */\n  @computed\n  get isCodePushCapableButLimitedOtherSupport(): boolean {\n    return this.platform === PLATFORM.REACT_NATIVE && this.os === OS.WINDOWS;\n  }\n\n  @computed\n  get isAnUnconfiguredApp(): boolean {\n    return this.platform === PLATFORM.UNKNOWN;\n  }\n\n  @computed\n  get isAnIosAppWithUnknownPlatform(): boolean {\n    return this.os === OS.IOS && this.platform === PLATFORM.UNKNOWN;\n  }\n\n  @computed\n  get isAnAndroidAppWithUnknownPlatform(): boolean {\n    return this.os === OS.ANDROID && this.platform === PLATFORM.UNKNOWN;\n  }\n\n  @computed\n  get isSupported(): boolean {\n    if (this.isTizenApp) {\n      return true;\n    } else {\n      // TODO: for now enable all apps created under MC, CodePush or XTC\n      // Later, we might need to created a finer support matrix for the CodePush origin once the dust settles on the specs.\n      return this.isCreatedInAppCenter || this.isCreatedInCodePush || this.isCreatedInTestCloud;\n    }\n  }\n\n  @computed\n  get ownerFriendlyName(): string {\n    return this.owner.display_name || this.owner.name;\n  }\n\n  @computed\n  get friendlyName() {\n    return this.display_name || this.name;\n  }\n\n  @computed\n  get friendlyPlatform() {\n    return readablePlatform[this.platform];\n  }\n\n  @computed\n  get isAppWhitelisted(): boolean {\n    return (\n      !!this.application_category &&\n      [CategoryName.FirstParty, CategoryName.ThirdParty].includes(this.application_category.category_name)\n    );\n  }\n\n  @computed\n  get isAppFirstParty(): boolean {\n    return !!this.application_category && this.application_category.category_name === CategoryName.FirstParty;\n  }\n\n  @computed\n  get appCategory(): ICategory | undefined {\n    return this.application_category;\n  }\n\n  public isSupportedForBeacon(beaconName: BeaconName | null | undefined): boolean {\n    return appSupport.isSupported(this, beaconName);\n  }\n\n  public getTeamAssociation(organizationName: string, teamName: string): TeamAppAssociation | undefined {\n    return teamAppStore.get([organizationName, teamName].join(\"/\"), this.internalId);\n  }\n\n  public getTeamRole(organizationName: string, teamName: string): CollaboratorRole | undefined {\n    const teamAssociation = this.getTeamAssociation(organizationName, teamName);\n    if (teamAssociation) {\n      return teamAssociation.permissions;\n    }\n  }\n\n  public getHumanReadableTeamRole(organizationName: string, teamName: string): string {\n    return capitalize(this.getTeamRole(organizationName, teamName) || \"\");\n  }\n}\n","import { apiGateway } from \"@root/lib/http\";\nimport { Store } from \"../../lib\";\nimport { AzureSubscription, SerializedAzureSubscription, DeserializedAzureSubscription } from \"../models/azure-subscription\";\nimport { API } from \"../constants\";\nimport { RESPONSE_TYPES } from \"@lib/common-interfaces\";\n\nexport type AzureSubscriptionsQuery = { ownerType: \"user\" | \"org\"; ownerName: string };\nexport type AzureSubscriptionQuery = AzureSubscriptionsQuery & { subscriptionId: string };\n\nexport class AzureSubscriptionStore extends Store<DeserializedAzureSubscription, SerializedAzureSubscription, AzureSubscription> {\n  protected getResource(id: string, query?: any): Promise<SerializedAzureSubscription> {\n    throw new Error(\"Method not implemented.\");\n  }\n\n  protected getCollection(query?: AzureSubscriptionsQuery): Promise<SerializedAzureSubscription[]> {\n    if (query?.ownerType === \"org\") {\n      return apiGateway.get<SerializedAzureSubscription[]>(API.ORG_AZURE_SUBSCRIPTIONS, {\n        params: {\n          org_name: query.ownerName,\n        },\n      });\n    } else if (query?.ownerType === \"user\") {\n      return apiGateway.get<SerializedAzureSubscription[]>(API.USER_AZURE_SUBSCRIPTIONS);\n    }\n    throw new Error(`Method not implemented for ${query?.ownerType}`);\n  }\n\n  protected deleteResource(resource: AzureSubscription, options?: AzureSubscriptionQuery): Promise<any> {\n    if (options?.ownerType === \"user\") {\n      return apiGateway.delete<void>(API.USER_AZURE_SUBSCRIPTION, {\n        params: {\n          subscription_id: resource.id,\n        },\n        responseType: RESPONSE_TYPES.TEXT,\n      });\n    }\n\n    throw new Error(`Method not implemented for ${options?.ownerType}`);\n  }\n\n  protected deserialize(serialized: SerializedAzureSubscription): DeserializedAzureSubscription {\n    return {\n      id: serialized.subscription_id,\n      tenantId: serialized.tenant_id,\n      name: serialized.subscription_name,\n      createdAt: new Date(serialized.created_at),\n      isBilling: serialized.is_billing || false,\n      isBillable: serialized.is_billable || false,\n    };\n  }\n\n  protected getModelId(model: AzureSubscription): string | undefined {\n    return model.id;\n  }\n  protected ModelClass = AzureSubscription;\n\n  protected generateIdFromResponse(resource: SerializedAzureSubscription, query?: any) {\n    return resource.subscription_id;\n  }\n}\n\nexport const azureSubscriptionStore = new AzureSubscriptionStore();\n","import { apiGateway } from \"@root/lib/http\";\nimport { AssociationStore, Association } from \"../../lib\";\nimport { API } from \"../constants\";\nimport { RESPONSE_TYPES, CollaboratorRole } from \"@lib/common-interfaces\";\nimport { observable } from \"mobx\";\nimport { Team } from \"@root/data/management/models\";\n\nexport interface TeamAppAssociationInfo {\n  permissions?: CollaboratorRole[];\n  team_permissions?: CollaboratorRole[];\n}\n\nexport type TeamAppsQueryOrOptions = { organizationName?: string; teamName?: string; email?: string; appName?: string };\n\nexport class TeamAppAssociation extends Association<TeamAppAssociationInfo> {\n  @observable permissions?: CollaboratorRole;\n  setMetaInfo(response: TeamAppAssociationInfo) {\n    if (response.team_permissions) {\n      this.permissions = response.team_permissions[0];\n    } else if (response.permissions) {\n      this.permissions = response.permissions[0];\n    }\n  }\n}\n\nexport class TeamAppStore extends AssociationStore<TeamAppAssociation, TeamAppAssociationInfo> {\n  public LeftClass = Team;\n  protected AssociationClass = TeamAppAssociation;\n\n  protected associateResources(teamId: string, appId: string, query: TeamAppsQueryOrOptions): Promise<TeamAppAssociationInfo> {\n    return apiGateway.post<TeamAppAssociationInfo>(API.TEAM_APPS, {\n      params: {\n        org_name: query.organizationName || \"\",\n        team_name: query.teamName || \"\",\n      },\n      body: {\n        name: query.appName || \"\",\n      },\n    });\n  }\n\n  protected disassociateResources(teamId: string, appId: string, query: TeamAppsQueryOrOptions) {\n    return apiGateway.delete<void>(API.TEAM_APP, {\n      params: {\n        org_name: query.organizationName || \"\",\n        team_name: query.teamName || \"\",\n        app_name: query.appName || \"\",\n      },\n      responseType: RESPONSE_TYPES.TEXT,\n    });\n  }\n\n  public patchAssociation(\n    association: TeamAppAssociation,\n    changes: Pick<TeamAppAssociation, \"permissions\">,\n    options: TeamAppsQueryOrOptions\n  ) {\n    return apiGateway.patch<TeamAppAssociationInfo>(API.TEAM_APP, {\n      params: {\n        org_name: options.organizationName || \"\",\n        team_name: options.teamName || \"\",\n        app_name: options.appName || \"\",\n      },\n      body: {\n        permissions: [changes.permissions],\n      },\n    });\n  }\n\n  public contains(teamId: string, appId: string) {\n    return super.contains(teamId, appId);\n  }\n}\n\nexport const teamAppStore = new TeamAppStore();\n","export * from \"./resource-request\";\nexport * from \"./form-data-resource-request\";\nexport * from \"./model\";\nexport * from \"./store\";\nexport * from \"./fetch-store\";\nexport * from \"./paginated-params\";\nexport * from \"./association-store\";\n","import { observable, ObservableMap, action, intercept } from \"mobx\";\nimport { uniqueId, noop, get } from \"lodash\";\nimport { ResourceRequest } from \"./resource-request\";\nimport { Model } from \"@root/data/lib/model\";\n\nexport class Association<AssociationResponseT = any, QueryT = any> extends Model<any> {\n  constructor(public leftKey: string, public rightKey: string) {\n    super({});\n  }\n  public setMetaInfo(associationResponse?: AssociationResponseT, options?: QueryT) {\n    return;\n  }\n}\n\nexport interface AssociationConstructor<T extends Association = Association, AssociationResponseT = any, QueryT = any> {\n  new (leftKey: string, rightKey: string, associationResponse?: AssociationResponseT, options?: QueryT): T;\n}\n\nexport abstract class AssociationStore<T extends Association = Association, AssociationResponseT = any, QueryT = any> {\n  private readonly associations = observable.map<string, T>({}, { deep: false });\n  private readonly requests = {\n    update: new ObservableMap<string, ResourceRequest<T, AssociationResponseT>>(),\n    associate: new ObservableMap<string, ResourceRequest<T, AssociationResponseT>>(),\n    disassociate: new ObservableMap<string, ResourceRequest<void>>(),\n  };\n\n  public abstract LeftClass: { new (...args: any[]): Model<any> };\n  protected abstract AssociationClass: AssociationConstructor<T, AssociationResponseT>;\n  protected associateResources(leftKey: string, rightKey: string, options?: QueryT): Promise<AssociationResponseT> {\n    throw new Error(\"Method not implemented\");\n  }\n  protected associateManyResources(leftKey: string, rightKeys: string[], options?: QueryT): Promise<AssociationResponseT[]> {\n    throw new Error(\"Method not implemented\");\n  }\n  protected disassociateResources(leftKey: string, rightKey: string, options?: QueryT): Promise<void> {\n    throw new Error(\"Method not implemented\");\n  }\n  protected disassociateManyResources(leftKey: string, rightKeys: string[], options?: QueryT): Promise<void> {\n    throw new Error(\"Method not implemented\");\n  }\n  protected patchAssociation(association: T, changes: Partial<T>, boolean, options?: QueryT): Promise<AssociationResponseT> {\n    throw new Error(\"Method not implemented\");\n  }\n\n  public id = uniqueId(`AssociationStore-`);\n\n  private associationKey(leftKey: string, rightKey: string) {\n    return `${leftKey}-${rightKey}`;\n  }\n\n  public get(leftKey: string, rightKey: string) {\n    return this.associations.get(this.associationKey(leftKey, rightKey));\n  }\n\n  public isDisassociating(leftKey: string, rightKey: string) {\n    const request = this.requests.disassociate.get(this.associationKey(leftKey, rightKey))!;\n    const isPendingKey: keyof typeof request = \"isPending\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, isPendingKey, false);\n  }\n\n  public disassociationFailed(leftKey: string, rightKey: string) {\n    const request = this.requests.disassociate.get(this.associationKey(leftKey, rightKey))!;\n    const isFailedKey: keyof typeof request = \"isFailed\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, isFailedKey, false);\n  }\n\n  public disassociationSucceeded(leftKey: string, rightKey: string) {\n    const request = this.requests.disassociate.get(this.associationKey(leftKey, rightKey))!;\n    const isLoadedKey: keyof typeof request = \"isLoaded\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, isLoadedKey, false);\n  }\n\n  public disassociationError<ErrorT = Error>(leftKey: string, rightKey: string): ErrorT {\n    const request = this.requests.disassociate.get(this.associationKey(leftKey, rightKey))!;\n    const errorKey: keyof typeof request = \"error\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, errorKey, null) as any;\n  }\n\n  public isAssociating(leftKey: string, rightKey: string) {\n    const request = this.requests.associate.get(this.associationKey(leftKey, rightKey))!;\n    const isPendingKey: keyof typeof request = \"isPending\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, isPendingKey, false);\n  }\n\n  public associationFailed(leftKey: string, rightKey: string) {\n    const request = this.requests.associate.get(this.associationKey(leftKey, rightKey))!;\n    const isFailedKey: keyof typeof request = \"isFailed\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, isFailedKey, false);\n  }\n\n  public associationSucceeded(leftKey: string, rightKey: string) {\n    const request = this.requests.associate.get(this.associationKey(leftKey, rightKey))!;\n    const isLoadedKey: keyof typeof request = \"isLoaded\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, isLoadedKey, false);\n  }\n\n  public associationError<ErrorT = Error>(leftKey: string, rightKey: string): ErrorT {\n    const request = this.requests.associate.get(this.associationKey(leftKey, rightKey))!;\n    const errorKey: keyof typeof request = \"error\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, errorKey, null) as any;\n  }\n\n  public isUpdating(leftKey: string, rightKey: string) {\n    const request = this.requests.update.get(this.associationKey(leftKey, rightKey))!;\n    const isPendingKey: keyof typeof request = \"isPending\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, isPendingKey, false);\n  }\n\n  public updateFailed(leftKey: string, rightKey: string) {\n    const request = this.requests.update.get(this.associationKey(leftKey, rightKey))!;\n    const isFailedKey: keyof typeof request = \"isFailed\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, isFailedKey, false);\n  }\n\n  public updateSucceeded(leftKey: string, rightKey: string) {\n    const request = this.requests.update.get(this.associationKey(leftKey, rightKey))!;\n    const isLoadedKey: keyof typeof request = \"isLoaded\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, isLoadedKey, false);\n  }\n\n  public updateError<ErrorT = Error>(leftKey: string, rightKey: string): ErrorT {\n    const request = this.requests.update.get(this.associationKey(leftKey, rightKey))!;\n    const errorKey: keyof typeof request = \"error\"; // Reasonably good type checking for magic string usage with `get`\n    return get(request, errorKey, null) as any;\n  }\n\n  @action\n  public add(leftKey: string, rightKey: string, associationResponse?: AssociationResponseT, options?: QueryT) {\n    const association = this.get(leftKey, rightKey) || new this.AssociationClass(leftKey, rightKey);\n    if (associationResponse) {\n      association.setMetaInfo(associationResponse, options);\n    }\n    this.associations.set(this.associationKey(leftKey, rightKey), association);\n  }\n\n  @action\n  public remove(leftKey: string, rightKey: string) {\n    this.associations.delete(this.associationKey(leftKey, rightKey));\n  }\n\n  public contains(leftKey: string, rightKey: string): boolean {\n    return this.associations.has(this.associationKey(leftKey, rightKey));\n  }\n\n  @action\n  public associate(leftKey: string, rightKey: string, optimistic = true, options?: QueryT) {\n    if (optimistic) {\n      this.add(leftKey, rightKey);\n    }\n\n    const request = new ResourceRequest(\n      this.associateResources(leftKey, rightKey, options),\n      () => this.get(leftKey, rightKey),\n      (error, data) => {\n        if (optimistic && error) {\n          this.remove(leftKey, rightKey);\n        } else if (optimistic && !error) {\n          const association = this.get(leftKey, rightKey);\n          if (association) {\n            association.setMetaInfo(data, options);\n          }\n        } else if (!optimistic && !error) {\n          this.add(leftKey, rightKey, data!, options);\n        }\n      }\n    );\n\n    this.requests.associate.set(this.associationKey(leftKey, rightKey), request as any);\n    return request;\n  }\n\n  @action\n  public associateMany(leftKey: string, rightKeys: string[], optimistic = true, options?: QueryT) {\n    if (optimistic) {\n      rightKeys.forEach((rightKey) => this.add(leftKey, rightKey));\n    }\n\n    const request = new ResourceRequest(this.associateManyResources(leftKey, rightKeys, options), noop, (error, response) => {\n      if (optimistic && error) {\n        rightKeys.forEach((rightKey) => this.remove(leftKey, rightKey));\n      } else if (!optimistic && !error) {\n        rightKeys.forEach((rightKey, index) => this.add(leftKey, rightKey, response![index], options));\n      }\n    });\n\n    rightKeys.forEach((rightKey) => {\n      // 'this.requests.associate.set' expects a ResourceRequest whose getter returns an object of type 'T'. The above ResourceRequests getter returns an object of type 'void', but otherwise has the correct properties (e.g. 'isPending') for all resources.\n      const singleRequest = new ResourceRequest(request.promise, () => this.get(leftKey, rightKey), noop);\n      this.requests.associate.set(this.associationKey(leftKey, rightKey), singleRequest as any);\n    });\n    return request;\n  }\n\n  @action\n  public disassociate(leftKey: string, rightKey: string, optimistic = true, options?: QueryT) {\n    if (optimistic) {\n      this.remove(leftKey, rightKey);\n    }\n\n    const request = new ResourceRequest(this.disassociateResources(leftKey, rightKey, options), noop, (error) => {\n      if (optimistic && error) {\n        this.add(leftKey, rightKey);\n      } else if (!optimistic && !error) {\n        this.remove(leftKey, rightKey);\n      }\n    });\n\n    this.requests.disassociate.set(this.associationKey(leftKey, rightKey), request);\n    return request;\n  }\n\n  @action\n  public disassociateMany(leftKey: string, rightKeys: string[], optimistic = true, options?: QueryT) {\n    if (optimistic) {\n      rightKeys.forEach((rightKey) => this.remove(leftKey, rightKey));\n    }\n\n    const request = new ResourceRequest(this.disassociateManyResources(leftKey, rightKeys, options), noop, (error) => {\n      if (optimistic && error) {\n        rightKeys.forEach((rightKey) => this.add(leftKey, rightKey));\n      } else if (!optimistic && !error) {\n        rightKeys.forEach((rightKey) => this.remove(leftKey, rightKey));\n      }\n    });\n\n    rightKeys.forEach((rightKey) => this.requests.disassociate.set(this.associationKey(leftKey, rightKey), request));\n    return request;\n  }\n\n  @action\n  public updateAssociation(leftKey: string, rightKey: string, changes: Partial<T>, optimistic?: boolean, options?: QueryT) {\n    const association = this.get(leftKey, rightKey);\n    const associationCopy = optimistic ? Object.assign({}, association) : null;\n    if (optimistic) {\n      association!.applyChanges(changes);\n    }\n\n    const unsubscribe =\n      process.env.NODE_ENV === \"production\"\n        ? noop\n        : intercept(association!, () => {\n            throw new Error(\n              \"Invariant violation: Tried to mutate a resource in `patchResource()`. \" +\n                \"`update()` will call `applyChanges()` on your model for you; dont \" +\n                \"mutate the resource or call `applyChanges()` manually.\"\n            );\n          });\n\n    const request = new ResourceRequest(\n      this.patchAssociation(association!, changes, options),\n      () => this.get(leftKey, rightKey),\n      (error) => {\n        if (optimistic && error) {\n          association!.revertChanges(associationCopy, changes);\n        } else if (!optimistic && !error) {\n          association!.applyChanges(changes);\n        }\n      }\n    );\n\n    unsubscribe();\n    this.requests.update.set(this.associationKey(leftKey, rightKey), request as any);\n    return request;\n  }\n\n  public getAllAssociationsForLeftKey(leftKey: string | undefined) {\n    return Array.from(this.associations.entries()).reduce((values, entry) => {\n      if (entry[0].startsWith(`${leftKey}-`)) {\n        return [...values, entry[1]];\n      }\n      return values;\n    }, [] as T[]);\n  }\n}\n","import { Model } from \"../../lib\";\nimport { observable } from \"mobx\";\n\nexport interface SerializedAzureSubscription {\n  subscription_id: string;\n  tenant_id: string;\n  subscription_name: string;\n  created_at: string;\n  is_billable: boolean;\n  is_billing: boolean;\n}\n\nexport interface DeserializedAzureSubscription {\n  id?: string;\n  tenantId?: string;\n  name?: string;\n  isBillable?: boolean;\n  isBilling?: boolean;\n  createdAt?: Date;\n  // foriegn key\n  userId?: string;\n}\n\nexport enum SubscriptionType {\n  Organization,\n  User,\n}\n\nexport class AzureSubscription extends Model<DeserializedAzureSubscription> implements DeserializedAzureSubscription {\n  @observable public id?: string;\n  @observable public tenantId?: string;\n  @observable public name?: string;\n  @observable public createdAt?: Date;\n  @observable public userId?: string;\n  @observable public isBilling?: boolean;\n  @observable public isBillable?: boolean;\n}\n","import { computed, observable, action } from \"mobx\";\nimport { IOrganization, Origin, OrganizationUserRole, ICategory, CategoryName } from \"@lib/common-interfaces\";\nimport { Model, ResourceRequest } from \"../../lib\";\nimport { orgAzureSubscriptionAssociationStore } from \"../../management/stores/org-azure-subscription-association-store\";\nimport { azureSubscriptionStore } from \"../../management/stores/azure-subscription-store\";\nimport { azureTenantStore } from \"../../management/stores/azure-tenant-store\";\nimport { AzureSubscription } from \"../../management/models/azure-subscription\";\nimport { AzureTenant, SerializedAzureTenant } from \"../../management/models/azure-tenant\";\n\nexport class Organization extends Model<IOrganization> implements IOrganization {\n  // Hack for making IOrganization assignable to IAppOwner\n  // which lets App#owner be assignable to IApp['owner']\n  public type = \"org\";\n\n  @observable public id?: string;\n  @observable public name!: string; // Hack for making IOrganization assignable to IAppOwner\n  @observable public display_name!: string; // Hack for making IOrganization assignable to IAppOwner\n  @observable public avatar_url?: string;\n  @observable public description?: string;\n  @observable public email!: string; // Hack for making IOrganization assignable to IAppOwner\n  @observable public collaborators_count?: number;\n  @observable public collaborator_role?: OrganizationUserRole;\n  @observable public origin?: Origin;\n  @observable public created_at?: string;\n  @observable public organization_category?: ICategory;\n\n  constructor(organization?: IOrganization) {\n    super(organization || {});\n  }\n\n  @computed\n  get azureSubscriptions(): AzureSubscription[] {\n    return azureSubscriptionStore.relatedTo(this.name, orgAzureSubscriptionAssociationStore);\n  }\n\n  @computed\n  get azureTenant(): AzureTenant {\n    return azureTenantStore.resources.filter((tenant) => tenant.organizationName === this.name)[0];\n  }\n\n  @computed\n  get isOrgWhitelisted(): boolean {\n    return (\n      !!this.organization_category &&\n      [CategoryName.FirstParty, CategoryName.ThirdParty].includes(this.organization_category.category_name)\n    );\n  }\n\n  @computed\n  get isOrgFirstParty(): boolean {\n    return !!this.organization_category && this.organization_category.category_name === CategoryName.FirstParty;\n  }\n\n  @action\n  public setUserRole(role: OrganizationUserRole) {\n    this.collaborator_role = role;\n  }\n\n  public fetchAzureTenant(): ResourceRequest<AzureTenant[], SerializedAzureTenant[]> {\n    return azureTenantStore.fetchForRelationship(\"organizationName\", this.name);\n  }\n}\n","import { observable, action, ObservableMap, computed } from \"mobx\";\nimport { capitalize } from \"lodash\";\nimport { Model } from \"../../lib\";\nimport { ITeam, IUser } from \"@lib/common-interfaces\";\nimport { userStore } from \"../../../stores/user-store\";\n\nexport type TeamMemberRelation = {\n  organizationName?: string;\n  teamName?: string;\n  role?: ITeam[\"team_member_role\"];\n};\n\nexport interface SerializedTeamMember extends IUser {\n  role: ITeam[\"team_member_role\"];\n}\n\nexport interface DeserializedTeamMember {\n  id?: string;\n  name?: string;\n  displayName?: string;\n  email?: string;\n  teamRelations: TeamMemberRelation[]; // A member can belong to multiple teams potentially with different roles for each team.\n}\n\nexport class TeamMember extends Model<DeserializedTeamMember> implements DeserializedTeamMember {\n  @observable private relations?: ObservableMap<string, TeamMemberRelation>;\n  @observable public id!: string;\n  @observable public displayName?: string;\n  @observable public email?: string;\n  @observable public name?: string;\n\n  @computed\n  public get teamRelations(): TeamMemberRelation[] {\n    return Array.from(this.relations?.values() || []);\n  }\n\n  @computed\n  get isCurrentUser(): boolean {\n    return userStore.currentUser.name === this.name;\n  }\n\n  public getRole(organizationName: string, teamName: string): ITeam[\"team_member_role\"] | undefined {\n    if (!this.belongsTo(organizationName, teamName)) {\n      return;\n    }\n    return this.relations?.get(this.relationId(organizationName, teamName))?.role;\n  }\n\n  public humanReadableRole(organizationName: string, teamName: string): string {\n    return capitalize(this.getRole(organizationName, teamName));\n  }\n\n  public belongsTo(organizationName: string, teamName: string): boolean {\n    return !!this.relations?.has(this.relationId(organizationName, teamName));\n  }\n\n  public isMaintainer(organizationName: string, teamName: string): boolean {\n    return this.getRole(organizationName, teamName) === \"maintainer\";\n  }\n\n  @action\n  public removeRelation(organizationName: string, teamName: string): void {\n    if (!this.belongsTo(organizationName, teamName)) {\n      return;\n    }\n    if (this.relations) {\n      this.relations.delete(this.relationId(organizationName, teamName));\n    }\n  }\n\n  @action\n  public applyChanges(changes: Partial<DeserializedTeamMember>) {\n    const { teamRelations = [], ...others } = changes;\n    if (!this.relations) {\n      this.relations = new ObservableMap<string, TeamMemberRelation>();\n    }\n    teamRelations.forEach((relation) => {\n      const { organizationName, teamName, role } = relation;\n      if (this.relations) {\n        this.relations.set(this.relationId(organizationName, teamName), { organizationName, teamName, role });\n      }\n    });\n    super.applyChanges(others);\n  }\n\n  private relationId(organizationName: string | undefined, teamName: string | undefined): string {\n    return `${organizationName}-${teamName}`;\n  }\n}\n","import { apiGateway } from \"@root/lib/http\";\nimport { Store, FetchMode, LoadOptions, ResourceRequest } from \"../../lib\";\nimport { DeserializedTeamMember, SerializedTeamMember, TeamMember } from \"../models/team-member\";\nimport { API } from \"../constants\";\nimport { userStore } from \"@root/stores/user-store\";\nimport { RESPONSE_TYPES } from \"@lib/common-interfaces\";\n\nexport type TeamMembersQueryOrOptions = { organizationName?: string; teamName?: string; email?: string; userName?: string };\n\nexport class TeamMemberStore extends Store<DeserializedTeamMember, SerializedTeamMember, TeamMember> {\n  protected ModelClass = TeamMember;\n\n  protected generateIdFromResponse(resource: SerializedTeamMember, query?: any) {\n    return resource.name;\n  }\n\n  protected getModelId(model: TeamMember): string {\n    return model.name!;\n  }\n\n  protected deserialize(serialized: SerializedTeamMember, queryOrOptions?: TeamMembersQueryOrOptions): DeserializedTeamMember {\n    return {\n      id: serialized.id,\n      displayName: serialized.display_name,\n      name: serialized.name,\n      email: serialized.email,\n      teamRelations: [\n        {\n          organizationName: queryOrOptions?.organizationName || \"\",\n          teamName: queryOrOptions?.teamName || \"\",\n          role: serialized.role,\n        },\n      ],\n    };\n  }\n\n  protected getCollection(query?: TeamMembersQueryOrOptions): Promise<SerializedTeamMember[]> {\n    return apiGateway.get<SerializedTeamMember[]>(API.TEAMS_USERS, {\n      params: {\n        org_name: query?.organizationName || \"\",\n        team_name: query?.teamName || \"\",\n      },\n    });\n  }\n\n  protected postResource(resource: TeamMember, options?: TeamMembersQueryOrOptions): Promise<void | SerializedTeamMember> {\n    return apiGateway.post<SerializedTeamMember>(API.TEAMS_USERS, {\n      params: {\n        org_name: options?.organizationName || \"\",\n        team_name: options?.teamName || \"\",\n      },\n      body: {\n        user_email: resource.email,\n      },\n    });\n  }\n\n  protected deleteResource(resource: TeamMember, options?: TeamMembersQueryOrOptions): Promise<any> {\n    return apiGateway.delete(API.TEAMS_USER, {\n      params: {\n        org_name: options?.organizationName || \"\",\n        team_name: options?.teamName || \"\",\n        user_name: options?.userName || \"\",\n      },\n      responseType: RESPONSE_TYPES.TEXT,\n    });\n  }\n\n  public fetchCollection(\n    query?: TeamMembersQueryOrOptions,\n    { fetchMode = FetchMode.PreserveReplace, segmentFilter }: LoadOptions<DeserializedTeamMember, TeamMember> = {}\n  ): ResourceRequest<TeamMember[], SerializedTeamMember[]> {\n    return super.fetchCollection(query, { fetchMode, segmentFilter });\n  }\n\n  public get currentUserMember(): TeamMember | undefined {\n    return this.get(userStore.currentUser.name);\n  }\n}\n\nexport const teamMemberStore = new TeamMemberStore();\n","import { computed, observable } from \"mobx\";\nimport { CategoryName, ICategory, IUser, Origin } from \"@lib/common-interfaces\";\nimport { UserSettings } from \"./user-settings\";\nimport { Model } from \"../../lib\";\nimport { azureSubscriptionStore } from \"../../management/stores/azure-subscription-store\";\nimport { AzureSubscription } from \"../../management/models/azure-subscription\";\n\nexport class User extends Model<IUser> implements IUser {\n  // Hack for making IUser assignable to IAppOwner\n  // which lets App#owner be assignable to IApp['owner']\n  public type = \"user\";\n\n  /* Set up in controller */\n  @observable public id?: string;\n  @observable public display_name!: string; // Hack for making IUser assignable to IAppOwner\n  @observable public email!: string; // Hack for making IUser assignable to IAppOwner\n  @observable public name!: string; // Hack for making IUser assignable to IAppOwner\n  @observable public avatar_url?: string;\n  @observable public can_change_password?: boolean;\n  @observable public admin_role?: string;\n  @observable public feature_flags?: string[];\n  @observable public next_nps_survey_date?: string;\n  @observable public origin?: Origin;\n  @observable public settings?: UserSettings;\n  @observable public created_at?: string;\n  @observable public is_microsoft_internal?: String;\n  @observable public user_category?: ICategory;\n\n  constructor(user: IUser) {\n    // Initialize user settings\n    super({ ...user, settings: new UserSettings(user.settings || {}) });\n  }\n\n  @computed\n  get isCreatedInTestCloud(): boolean {\n    return this.origin === Origin.TestCloud;\n  }\n\n  @computed\n  get isCreatedInAppCenter(): boolean {\n    return this.origin === Origin.MobileCenter || this.origin === Origin.AppCenter;\n  }\n\n  @computed\n  get azureSubscriptions(): AzureSubscription[] {\n    return azureSubscriptionStore.resources.filter((subscription) => subscription.userId === this.id);\n  }\n\n  @computed\n  get isFirstPartyUser(): boolean {\n    return this.user_category?.category_name === CategoryName.FirstParty;\n  }\n\n  @computed\n  get isUserWhitelisted(): boolean {\n    return !!this.user_category && [CategoryName.FirstParty, CategoryName.ThirdParty].includes(this.user_category.category_name);\n  }\n\n  public hasFeatureFlag(featureFlag: string) {\n    return this.feature_flags?.includes(featureFlag);\n  }\n}\n","import { Model } from \"../../lib\";\nimport { observable } from \"mobx\";\nimport { AADTenant } from \"@lib/common-interfaces\";\n\nexport interface SerializedAzureTenant {\n  aad_tenant_id: string;\n  display_name: string;\n}\n\nexport class AzureTenant extends Model<AADTenant> implements AADTenant {\n  @observable public tenantId?: string;\n  @observable public displayName?: string;\n  @observable public organizationName?: string;\n}\n","declare const window: any;\ndeclare const require: any;\n\nimport \"babel-polyfill\";\n// use Bluebird, not any other promise library\nwindow.Promise = require(\"bluebird\");\n\nconst environments = require(\"../environments\");\n\nimport { configure, runInAction } from \"mobx\";\nimport { telemetry, logger } from \"./lib/telemetry\";\nimport { config } from \"./lib/utils/config\";\nimport { FetchError } from \"./lib/http/fetch-error\";\nimport * as smoothscroll from \"smoothscroll-polyfill\";\nimport { templateSettings } from \"lodash\";\nimport { startSentry } from \"./lib/sentry\";\n\nimport \"inert-polyfill\";\nimport \"url-polyfill\";\nimport \"raf\";\n\nsmoothscroll.polyfill();\nconst ENV = config.getEnv();\n\n// Expose this to TestCafe if it needs to screw around with observables (currently does for forcing feature flags)\nwindow.__runInAction__ = runInAction;\n\n// Track unhandled promise rejections in Application Insights\nPromise.onPossiblyUnhandledRejection((reason) => {\n  logger.error(\"onPossiblyUnhandledRejection\", reason instanceof FetchError ? reason.toJs : reason);\n});\n\n/**\n * Promise configuration. Enable cancellation. This will allow us to call `cancel()`\n * on any promise.\n */\nPromise.config({\n  cancellation: true,\n});\n\n/**\n * Switching on `strict` mode for MobX. This will force us to use the\n * `@action` decorator to explicitly mark functions which change application state.\n */\nif (ENV !== environments.PROD) {\n  configure({ enforceActions: \"observed\" });\n}\n\n// App Insights cookies are categorized as essential. We can use them without consent.\ntelemetry.init();\n\n// Change lodash's template delimiters to {{ and }}\ntemplateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n\nstartSentry();\n","import { Association } from \"../../lib/association-store\";\n\nexport class OrgAzureSubscription extends Association {}\n","import { apiGateway } from \"@root/lib/http\";\nimport { RESPONSE_TYPES } from \"@lib/common-interfaces\";\nimport { AssociationStore, ResourceRequest } from \"../../lib\";\nimport { OrgAzureSubscription } from \"../models/org-azure-subscription\";\nimport { Organization } from \"../../shell/models/organization\";\nimport { SerializedAzureSubscription } from \"../models/azure-subscription\";\nimport { API } from \"../constants\";\n\nexport class OrgAzureSubscriptionAssociationStore extends AssociationStore<OrgAzureSubscription> {\n  public LeftClass = Organization;\n  protected AssociationClass = OrgAzureSubscription;\n\n  protected disassociateResources(organizationName: string, subscriptionId: string): Promise<void> {\n    return apiGateway\n      .delete<SerializedAzureSubscription[]>(API.ORG_AZURE_SUBSCRIPTION, {\n        params: {\n          org_name: organizationName,\n          subscription_id: subscriptionId,\n        },\n        responseType: RESPONSE_TYPES.TEXT,\n      })\n      .then(() => void 0);\n  }\n\n  public disassociate(organizationName: string, subscriptionId: string): ResourceRequest<void, void> {\n    return super.disassociate(organizationName, subscriptionId);\n  }\n}\n\nexport const orgAzureSubscriptionAssociationStore = new OrgAzureSubscriptionAssociationStore();\n","import { apiGateway } from \"@root/lib/http\";\nimport { Store } from \"../../lib\";\nimport { API } from \"../constants\";\nimport { RESPONSE_TYPES } from \"@lib/common-interfaces\";\nimport { AzureTenant, SerializedAzureTenant } from \"../models/azure-tenant\";\nimport { AADTenant } from \"@lib/common-interfaces\";\n\nexport class AzureTenantStore extends Store<AADTenant, SerializedAzureTenant, AzureTenant> {\n  protected getCollection(query?: any, foreignKey?: keyof AADTenant, foreignKeyValue?: string): Promise<SerializedAzureTenant[]> {\n    return apiGateway\n      .get<SerializedAzureTenant>(API.ORG_AZURE_TENANT, {\n        params: {\n          org_name: foreignKeyValue,\n        },\n      })\n      .then((tenant) => {\n        return [tenant];\n      });\n  }\n\n  protected deleteResource(resource: AzureTenant, options?: any): Promise<any> {\n    return apiGateway.delete<void>(API.ORG_AZURE_TENANT, {\n      params: {\n        org_name: options.organizationName,\n      },\n      responseType: RESPONSE_TYPES.TEXT,\n    });\n  }\n\n  protected deserialize(\n    serialized: SerializedAzureTenant,\n    queryOrOptions: any,\n    foreignKey: keyof AADTenant | undefined,\n    foreignKeyValue: string\n  ): AADTenant {\n    return {\n      tenantId: serialized.aad_tenant_id,\n      displayName: serialized.display_name,\n      organizationName: foreignKeyValue,\n    };\n  }\n\n  protected getModelId(model: AzureTenant): string | undefined {\n    return model.tenantId;\n  }\n  protected ModelClass = AzureTenant;\n\n  protected generateIdFromResponse(resource: SerializedAzureTenant, query?: any) {\n    return resource.aad_tenant_id;\n  }\n}\n\nexport const azureTenantStore = new AzureTenantStore();\n","import { observable, computed, action } from \"mobx\";\nimport { capitalize, remove, sortBy } from \"lodash\";\nimport { Model } from \"../../lib\";\nimport { ITeam } from \"@lib/common-interfaces\";\nimport { TeamMember } from \"./team-member\";\nimport { teamAppStore } from \"../stores/team-app-store\";\nimport { teamMemberStore } from \"../stores/team-member-store\";\nimport * as pluralize from \"pluralize\";\nimport { appStore } from \"@root/stores/app-store\";\nimport { App } from \"@root/data/shell/models/app\";\n\nexport type SerializedTeam = ITeam;\n\nexport interface DeserializedTeam {\n  id: string;\n  name?: string;\n  displayName?: string;\n  description?: string;\n  teamMemberRole?: \"maintainer\" | \"collaborator\";\n  expectedMemberCount?: number;\n  expectedAppCount?: number;\n  organizationName?: string;\n  sourceType?: string;\n}\n\nexport class Team extends Model<DeserializedTeam> implements DeserializedTeam {\n  // Marty, in the future, maybe have a way to specify this externally.\n  private memberSorty = (member: TeamMember) => (member?.displayName || member?.name)?.toLowerCase();\n  private appSorty = (app: App) => app.display_name?.toLowerCase();\n\n  // The Observables.\n  @observable public id!: string;\n  @observable public displayName?: string;\n  @observable public name?: string;\n  @observable public description?: string;\n  @observable public teamMemberRole?: ITeam[\"team_member_role\"];\n  @observable public expectedAppCount?: number;\n  @observable public organizationName?: string;\n  @observable public expectedMemberCount;\n  @observable public sourceType?: string;\n\n  @computed\n  public get humanReadableRole(): string {\n    return capitalize(this.teamMemberRole);\n  }\n\n  @computed\n  public get prettyMemberCount(): string {\n    const membersPostfix = \"member\";\n    return `${this.memberCount} ${this.memberCount > 1 ? pluralize(membersPostfix) : membersPostfix}`;\n  }\n\n  @computed\n  public get prettyAppCount(): string {\n    const appsPostFix = \"app\";\n    if (this.appCount === 0) {\n      return \"\";\n    } else {\n      return `${this.appCount} ${this.appCount && this.appCount > 1 ? pluralize(appsPostFix) : appsPostFix}`;\n    }\n  }\n\n  @computed\n  public get memberCount(): number {\n    // This is very much horrible & terrible. But I have to do this because \"relations\" are managed per resource instance right now.\n    // (Ref for \"relations\": `team-member.ts`)\n    // This leads to cases where a `delete` of a resource results in deletion of that resource for all relations --\n    // which in turn modifies the overall \"members\" length.\n    // Ideally, we would have a join \"table/resource/store\" and we'd delete just the relationship from that store instead of\n    // deleting the entire resource. Until we have that in the data layer, this should satisfy the UX requirements.\n    // Marty, Change this to react off `members.length` once relationships work.\n    return this.expectedMemberCount;\n  }\n\n  @computed\n  public get appCount(): number | undefined {\n    return this.expectedAppCount;\n  }\n\n  @action\n  public incrementMemberCount(): void {\n    this.expectedMemberCount++;\n  }\n\n  @action\n  public decrementMemberCount(): void {\n    this.expectedMemberCount--;\n  }\n\n  @action\n  public incrementAppCount(): void {\n    if (this.expectedAppCount) {\n      this.expectedAppCount++;\n    }\n  }\n\n  @action\n  public decrementAppCount(): void {\n    if (this.expectedAppCount) {\n      this.expectedAppCount--;\n    }\n  }\n\n  @computed\n  public get members(): TeamMember[] {\n    const members = teamMemberStore.resources.filter(\n      (member) => this.organizationName && this.name && member.belongsTo(this.organizationName, this.name)\n    );\n    // Get the maintainers of this team\n    const maintainers = sortBy(\n      remove(members, (member) => this.organizationName && this.name && member.isMaintainer(this.organizationName, this.name)),\n      this.memberSorty\n    );\n    // Sort the other members\n    const sortedMembers = sortBy(members, this.memberSorty);\n    // Add the maintainers back to the front of the array\n    sortedMembers.unshift(...maintainers);\n    return sortedMembers;\n  }\n\n  @computed\n  public get apps(): App[] {\n    const teamId = [this.organizationName, this.name].join(\"/\");\n    const apps = appStore.apps.filter((app) => {\n      const appId = App.internalAppId(app.owner.name, app.name);\n      return teamAppStore.contains(teamId, appId);\n    });\n\n    return sortBy(apps, this.appSorty);\n  }\n}\n","import { Model } from \"@root/data/lib/model\";\nimport { observable, computed } from \"mobx\";\n\nexport interface SerializedDevice {\n  udid: string;\n  device_name: string;\n  os_version: string;\n  model: string;\n  os_build: string;\n  status: string;\n  registered_at: string;\n}\n\nexport interface DeserializedDevice {\n  udid?: string;\n  deviceName?: string;\n  osVersion?: string;\n  model?: string;\n  manufacturer?: string;\n  registeredOn?: Date;\n}\n\nexport class Device extends Model<DeserializedDevice> implements DeserializedDevice {\n  @observable public udid?: string;\n  @observable public deviceName?: string;\n  @observable public osVersion?: string;\n  @observable public model?: string;\n  @observable public manufacturer?: string;\n  @observable public registeredOn?: Date;\n\n  @computed\n  public get displayName(): string {\n    return `${this.manufacturer} ${this.deviceName}`;\n  }\n}\n","import { OS, ALL_APP_FILTER_ROLES } from \"@lib/common-interfaces\";\nimport { values } from \"lodash\";\n\nexport const VERSION = \"/v0.1\";\n\nexport const DATE_FOR_USERS_CREATED_AFTER_GA = \"2017-11-15T19:30:00Z\";\n\nexport const API = {\n  USER_PROFILE: `${VERSION}/user_features`,\n  USER_APPS: `${VERSION}/apps_features`,\n  USER_APP: `${VERSION}/apps_features/:owner_name/:app_name`,\n  DELETE_APP: `${VERSION}/apps/:owner_name/:app_name`,\n  UPDATE_PASSWORD: `/user/:userId/update`, // Don't add version here since it's an internal endpoint.\n  APP_INVITED_USER: `${VERSION}/apps/:owner_name/:app_name/invitations/:user_email`,\n  APP_USERS: `${VERSION}/apps/:owner_name/:app_name/users`,\n  REMOVE_APP_TESTER_FROM_DESTINATIONS: `${VERSION}/apps/:owner_name/:app_name/testers/:userId`,\n  APP_TEAMS: `${VERSION}/apps/:owner_name/:app_name/teams`,\n  GET_APP_INVITATIONS: `${VERSION}/apps/:owner_name/:app_name/invitations`,\n  APP_USER: `${VERSION}/apps/:owner_name/:app_name/users/:user_email`,\n  TRANSFER_APP_TO_ORG: `${VERSION}/apps/:owner_name/:app_name/transfer/:destination_owner_name`,\n  APP_BRANCHES: `${VERSION}/apps/:owner_name/:app_name/branches`,\n  BUILD_BRANCHES_CONFIG: `${VERSION}/apps/:owner_name/:app_name/branches/:branch/config`,\n  // User settings\n  USER_SETTING: `${VERSION}/user/settings/:setting_name`,\n\n  // Invitations\n  USER_INVITATIONS: `${VERSION}/invitations`,\n  USER_INVITATION_ACCEPT: `${VERSION}/invitations/:invitation_id/accept`,\n  USER_INVITATION_REJECT: `${VERSION}/invitations/:invitation_id/reject`,\n\n  // Organizations\n  USER_ORGANIZATIONS: `${VERSION}/orgs`,\n  USER_ORGANIZATION: `${VERSION}/orgs/:org_name`,\n  ORG_APPS: `${VERSION}/orgs/:org_name/apps`,\n  ORG_USERS: `${VERSION}/orgs/:org_name/users`,\n  ORG_USER: `${VERSION}/orgs/:org_name/users/:user_name`,\n  ORG_INVITATIONS: `${VERSION}/orgs/:org_name/invitations`,\n  ORG_INVITATIONS_ROLE_UPDATE: `${VERSION}/orgs/:org_name/invitations/:email`,\n  RESEND_ORG_INVITATION: `${VERSION}/orgs/:org_name/invitations/:email/resend`,\n  REVOKE_ORG_INVITATION: `${VERSION}/orgs/:org_name/invitations/:email/revoke`,\n\n  // Teams\n  TEAMS: `${VERSION}/orgs/:org_name/teams`,\n  TEAM: `${VERSION}/orgs/:org_name/teams/:team_name`,\n  TEAMS_USERS: `${VERSION}/orgs/:org_name/teams/:team_name/users`,\n  TEAMS_USER: `${VERSION}/orgs/:org_name/teams/:team_name/users/:user_name`,\n  TEAM_APPS: `${VERSION}/orgs/:org_name/teams/:team_name/apps`,\n  TEAM_APP: `${VERSION}/orgs/:org_name/teams/:team_name/apps/:app_name`,\n\n  // Webhooks\n  WEBHOOKS: `${VERSION}/apps/:owner_name/:app_name/alerts_webhooks`,\n  WEBHOOK: `${VERSION}/apps/:owner_name/:app_name/alerts_webhooks/:webhook_id`,\n  PING_WEBHOOK: `${VERSION}/apps/:owner_name/:app_name/alerts_webhooks/:webhook_id/ping`,\n\n  // Exports\n  EXPORT_CONFIGURATIONS: `${VERSION}/apps/:owner_name/:app_name/export_configurations`,\n  EXPORT_CONFIGURATION: `${VERSION}/apps/:owner_name/:app_name/export_configurations/:export_configuration_id`,\n  EXPORT_CONFIGURATION_ENABLE: `${VERSION}/apps/:owner_name/:app_name/export_configurations/:export_configuration_id/enable`,\n  EXPORT_CONFIGURATION_DISABLE: `${VERSION}/apps/:owner_name/:app_name/export_configurations/:export_configuration_id/disable`,\n\n  // Data Retention\n  DATA_RETENTION: `${VERSION}/apps/:owner_name/:app_name/errors/retention_settings`,\n\n  // Azure Subscriptions\n  USER_AZURE_SUBSCRIPTIONS: `${VERSION}/azure_subscriptions`,\n  USER_AZURE_SUBSCRIPTION: `${VERSION}/azure_subscriptions/:subscription_id`,\n  ORG_AZURE_SUBSCRIPTIONS: `${VERSION}/orgs/:org_name/azure_subscriptions`,\n  ORG_AZURE_SUBSCRIPTION: `${VERSION}/orgs/:org_name/azure_subscriptions/:subscription_id`,\n  APP_AZURE_SUBSCRIPTIONS: `${VERSION}/apps/:owner_name/:app_name/azure_subscriptions`,\n  APP_AZURE_SUBSCRIPTION: `${VERSION}/apps/:owner_name/:app_name/azure_subscriptions/:subscription_id`,\n\n  // Azure Tenants\n  ORG_AZURE_TENANT: `${VERSION}/orgs/:org_name/aad_tenant`,\n\n  // BugTracker\n  BUGTRACKER: `${VERSION}/apps/:owner_name/:app_name/alerts_bugtracker`,\n  BUGTRACKER_UPDATE_STATE: `${VERSION}/apps/:owner_name/:app_name/alerts_bugtracker/state`,\n  BUGTRACKER_TOKENS: `${VERSION}/alerts_bugtracker/access_tokens`,\n  BUGTRACKER_REPOS: `${VERSION}/apps/:owner_name/:app_name/alerts_bugtracker/repos`,\n  BUGTRACKER_SERVICE_CONNECTION: `${VERSION}/user/serviceConnections`,\n\n  // Devices\n  GET_DEVICES_FOR_USER: `${VERSION}/user/devices`,\n  DEVICE_FOR_USER: `${VERSION}/user/devices/:device_udid`,\n\n  // org compliance settings\n  ORG_COMPLIANCE_SETTINGS: `${VERSION}/orgs/:org_name/compliance_settings`,\n  ORG_COMPLIANCE_SETTINGS_WITH_ID: `${VERSION}/orgs/:org_name/compliance_settings/:compliance_setting_id`,\n\n  // Device management\n  GET_DEVICE_MANAGEMENT_PROFILE: `${VERSION}/devices/register`,\n};\n\nexport const OWNER_TYPE = {\n  ORGANIZATION: \"org\",\n  USER: \"user\",\n};\n\nexport const ERROR_CODES = {\n  LAST_ADMIN: \"LastOrganizationAdmin\",\n  FORBIDDEN: \"Forbidden\",\n  MUST_BE_APP_OWNER_TO_TRANSFER: \"RequiresAppOwnerToTransfer\",\n  MUST_BE_ORG_ADMIN_TO_TRANSFER: \"RequiresOrgAdminToTransfer\",\n};\n\n// App filters\nexport type AppFilterQueryParams = \"os\" | \"role\" | \"origin\" | \"release_type\";\nexport const AppFilterQueryParams = {\n  OS: \"os\" as AppFilterQueryParams,\n  Role: \"role\" as AppFilterQueryParams,\n  Origin: \"origin\" as AppFilterQueryParams,\n  ReleaseType: \"release_type\" as AppFilterQueryParams,\n};\nexport const ValidAppOSFilters = values<string>(OS);\nexport const isValidAppOSFilter = (value) => ValidAppOSFilters.find((os) => value === os);\n\nexport const isValidAppRoleFilter = (value) => ALL_APP_FILTER_ROLES.find((role) => value === role);\n\nexport const isValidReleaseType = (value?: string): value is string =>\n  !!value && value !== \"All\" && value[0].toUpperCase() === value[0] && !value.includes(\" \");\n\n// App environment default values\nexport const SuggestedReleaseTypes = [\"Alpha\", \"Beta\", \"Enterprise\", \"Production\", \"Store\"];\n\n// App list view types\nexport enum AppListType {\n  List,\n  Grid,\n}\n\n// Billing\n// Free test tiers\nexport const TestTrialId = \"billingPlanTestTrial\";\nexport const TestFreeUntilGAId = \"billingPlanTestFreeUntilGA\";\nexport const TestFreeTierId = \"billingPlanTestFree\";\n\n// Paid test tiers\nexport const TestPlanPaidId = \"billingPlanTestPaid\";\nexport const TestPlanEnterpriseId = \"billingPlanTestEnterprise\";\n\n// Free build tiers\nexport const BuildFreeTierId = \"billingPlanBuildFree\";\nexport const BuildFreeUntilGAId = \"billingPlanBuildFreeUntilGA\";\n// Paid build tiers\nexport const BuildPlanPaidId = \"billingPlanBuildPaid\";\n\n// Billing path\nexport const TestBillingPeriodPath = \"billingPlans.testService\";\n\n// Build, Test, & Push build plan paths\nexport const TestBillingPlanPath = \"billingPlans.testService.currentBillingPeriod.byAccount\";\nexport const BuildBillingPlanPath = \"billingPlans.buildService.currentBillingPeriod.byAccount\";\n\n// Usage paths\nexport const TestUsagePath = \"usage.testService.currentUsagePeriod.byAccount\";\nexport const BuildUsagePath = \"usage.buildService.currentUsagePeriod.byAccount\";\n\n// Webhook configuration docs urls\nexport const MsTeamsWebhookDocURL =\n  \"https://docs.microsoft.com/en-us/microsoftteams/platform/concepts/connectors#setting-up-a-custom-incoming-webhook\";\nexport const SlackWebhookDocURL = \"https://slack.com/apps/A0F7XDUAZ-incoming-webhooks\";\n\nexport const defaultColumnWidth = {\n  nameColumn: 6,\n  nameColumnHideOwner: 9,\n  platformColumn: 3,\n};\n\nexport const roleColumnWidth = {\n  nameColumn: 5,\n  nameColumnHideOwner: 8,\n  platformColumn: 2,\n};\n\nexport const releaseTypeColumnWidth = {\n  nameColumn: 4,\n  nameColumnHideOwner: 7,\n  platformColumn: 1,\n};\n","import { IObservableValue, ObservableMap, observable, computed, action, reaction, intercept } from \"mobx\";\nimport { get, noop } from \"lodash\";\nimport { Model } from \"./model\";\nimport { AssociationStore, Association } from \"./association-store\";\nimport { ResourceRequest } from \"./resource-request\";\n\ntype KeysWhereValueExtends<T extends {}, ValueT> = {\n  [K in keyof T]: T[K] extends ValueT ? K : never;\n}[keyof T];\n\nconst PRODUCTION = process.env.NODE_ENV === \"production\";\n\n/**\n * How to handle conflicts with existing resources in the cache. See each enumeration member for details.\n */\nexport enum FetchMode {\n  /**\n   * Clears all the existing data (or all the data in the specified segment) and\n   * inserts the new resources from the server. This is the fastest to process, but\n   * may result in unnecessary rerenders, since MobX will treat all the data as new\n   * resources even if they havent changed.\n   */\n  Replace,\n  /**\n   * Like `Replace`, except that existing client resources are not removed. Resources\n   * from the server will replace client resources with the same ids, or be inserted\n   * if they do not yet exist on the client. This option is most useful for\n   * fetching and appending an additional page of data where you know the incoming\n   * resources are not yet present on the client.\n   */\n  Append,\n  /**\n   * Existing client resources will be updated with changes from the server, then\n   * any new server resources will be inserted, and finally any client resources\n   * within the specified segment that were not present in the server response will\n   * be deleted. This mode takes the most iterations and operations to process, but\n   * ensures that nothing rerenders unnecessarily by preserving referential\n   * equality of existing resources by id. For example, if the dataset fetched from\n   * the server is deep-equal to the data already on the client, no mutations will\n   * occur, so MobX will not trigger any rerenders.\n   */\n  PreserveReplace,\n  /**\n   * Like `PreserveReplace`, except that the final step of deleting client resources\n   * is skipped. This option will probably be rarely used; its useful only if\n   * you want to append resources from the server to your existing client resources,\n   * but you expect the incoming server resources to have some overlap with the\n   * client resources. If you expect all the incoming resources to be new additions\n   * to the client resources, use `Append` instead to save some array iterations.\n   */\n  PreserveAppend,\n}\n\nexport type ProxiedModel<DeserializedT extends {}> = DeserializedT extends unknown ? Model<DeserializedT> & DeserializedT : never;\n\nexport interface LoadOptions<DeserializedT extends {}, ModelT extends ProxiedModel<DeserializedT> = ProxiedModel<DeserializedT>> {\n  /** The mode of reconciliation between the incoming server resources any existing client resources. */\n  fetchMode?: FetchMode;\n  /**\n   * A filter function that specifies the segment of resources represented by the current query.\n   * Used by `FetchMode.Replace` and `FetchMode.PreserveReplace` to know which resources should be deleted.\n   */\n  segmentFilter?: (model: ModelT) => boolean;\n}\n\nexport interface ModelConstructor<DeserializedT extends {}, ModelT extends ProxiedModel<DeserializedT> = ProxiedModel<DeserializedT>> {\n  new (initialValues?: Partial<DeserializedT>): ModelT;\n}\n\n/**\n * A store that manages CRUD operations and maintains a local collection for a single model type.\n */\nexport abstract class Store<\n  DeserializedT extends {},\n  SerializedT extends {} = DeserializedT,\n  ModelT extends ProxiedModel<DeserializedT> = ProxiedModel<DeserializedT>,\n  QueryT = any\n> {\n  private clientIdsById = new ObservableMap<string, string>();\n  private data = new ObservableMap<string, ModelT>();\n\n  private requests = {\n    fetchCollection: observable.box(undefined) as IObservableValue<ResourceRequest<ModelT[], SerializedT[]> | undefined>,\n    fetchOne: new ObservableMap<string, ResourceRequest<ModelT, SerializedT>>(),\n    fetchRelationship: new ObservableMap<string, ResourceRequest<ModelT[], SerializedT[]>>(),\n    create: new ObservableMap<string, ResourceRequest<ModelT, void | SerializedT>>(),\n    update: new ObservableMap<string, ResourceRequest<ModelT, any>>(),\n    delete: new ObservableMap<string, ResourceRequest<ModelT, any>>(),\n  };\n\n  /** The subclass of Model<T> to be used for the resource type. */\n  protected abstract ModelClass: ModelConstructor<DeserializedT, ModelT>;\n  /** Specifies what to use as a unique identifier for a serialized resource. The query from the API call is passed as the second argument. */\n  protected abstract generateIdFromResponse(resource: SerializedT, query?: QueryT);\n  /** Specifies how to get the unique identifier for a model. */\n  protected abstract getModelId(model: ModelT): string | undefined;\n  /** Specifies how to make an API call that will fetch a single resource by id. Called by `fetchOne()`, which passes its `id` and `query` arguments unchanged. */\n  protected getResource(id: string, query?: QueryT): Promise<SerializedT> {\n    throw new Error(\"Method not implemented\");\n  }\n  /** Specifies how to make an API call that will fetch a single resource related to another model. Called by `fetchOneForRelationship()`, which passes its `foreignModel`, `foreignKey`, `foreignKeyValue`, and `query` arguments. */\n  protected getResourceForRelationship<T extends {}>(\n    foreignModel?: T,\n    foreignKey?: keyof T,\n    query?: QueryT\n  ): Promise<SerializedT | null> {\n    throw new Error(\"Method not implemented\");\n  }\n  /** Specifies how to make an API call that will fetch multiple resources at once. Called by `fetchCollection()`, which passes its `query` argument unchanged. */\n  protected getCollection<K extends keyof DeserializedT>(\n    query?: QueryT,\n    foreignKey?: K,\n    foreignKeyValue?: DeserializedT[K]\n  ): Promise<SerializedT[]> {\n    throw new Error(\"Method not implemented\");\n  }\n  /** Specifies how to make an API call that will create a resource. Called by `create()`, which passes its `resource` and `options` arguments unchanged. */\n  protected postResource(resource: ModelT, options?: QueryT): Promise<SerializedT | void> {\n    throw new Error(\"Method not implemented\");\n  }\n  /** Specifies how to make an API call that will create multiple resources at once. Called by `createMany()`, which passes its `resources` and `options` arguments unchanged. */\n  protected postResources(resources: ModelT[], options?: QueryT): Promise<SerializedT[] | void> {\n    throw new Error(\"Method not implemented.\");\n  }\n  /** Specifies how to make an API call that will update a resource. Called by `update()`, which passes its `resource` and `options` arguments unchanged. */\n  protected patchResource(resource: ModelT, changes: Partial<DeserializedT>, options?: QueryT): Promise<any> {\n    throw new Error(\"Method not implemented\");\n  }\n  /** Specifies how to make an API call that will update multiple resources at once, after applying `changes` to each resource. Called by `updateMany()`, which passes its `resources`, `changes` and `options` arguments unchanged. */\n  protected patchResources(resources: ModelT[], changes: Partial<DeserializedT>, options?: QueryT): Promise<any> {\n    throw new Error(\"Method not implemented.\");\n  }\n  /** Specifies how to make an API call that will update multiple resources at once, when `resources` includes changes. Called by `updateMany()`, which passes its `resources` and `options` arguments unchanged. */\n  protected patchModifiedResources(resources: ModelT[], options?: QueryT): Promise<any> {\n    throw new Error(\"Method not implemented.\");\n  }\n  /** Specifies how to make an API call that will delete a resource. Called by `delete()`, which passes its `resource` and `options` arguments unchanged. */\n  protected deleteResource(resource: ModelT, options?: QueryT): Promise<any> {\n    throw new Error(\"Method not implemented\");\n  }\n  /** Specifies how to make an API call that will delete multiple resources at once. Called by `deleteMany()`, which passes its `resources` and `options` arguments unchanged. */\n  protected deleteResources(resources: ModelT[], options?: QueryT): Promise<any> {\n    throw new Error(\"Method not implemented.\");\n  }\n  /** Specifies how to transform a serialized resource (straight from the API) to the interface your model conforms to. Also passes the `query` or `options` parameter from the method that initiated the request. */\n  protected abstract deserialize<K extends keyof DeserializedT>(\n    serialized: SerializedT,\n    queryOrOptions?: QueryT,\n    foreignKey?: K,\n    foreignKeyValue?: DeserializedT[K]\n  ): DeserializedT | undefined;\n\n  constructor() {\n    reaction(() => this.getGlobalCacheKey(), this.clearCache);\n  }\n\n  /** Specifies an observable which, when changed, will clear all cached data and requests. */\n  public getGlobalCacheKey(): any {\n    return undefined;\n  }\n\n  /** Gets a single cached resource by id. */\n  public get(id: string): ModelT | undefined;\n  /** Gets a single cached resource by pieces of a compound key. */\n  public get(...keyPieces: string[]): ModelT | undefined;\n  public get(...keyPieces: string[]): ModelT | undefined {\n    const clientId = this.clientIdsById.get(this.compoundKey(...keyPieces));\n    return clientId ? this.data.get(clientId) : undefined;\n  }\n\n  /** Whether a resource by the given id exists in the store. */\n  public has(id: string | undefined): boolean;\n  /** Whether a resource by the given compound key exists in the store. */\n  public has(...keyPieces: string[]): boolean;\n  public has(...keyPieces: string[]): boolean {\n    const clientId = this.clientIdsById.get(this.compoundKey(...keyPieces));\n    return (clientId && this.data.has(clientId)) || false;\n  }\n\n  /** Gets all cached resources in the store with an association (in the given AssociationStore) to another resource, identified by `foreignKeyValue`. */\n  public relatedTo<AssociationT extends Association>(\n    foreignKeyValue: string,\n    associationStore: AssociationStore<AssociationT>,\n    additionalFilter: (assn: AssociationT) => boolean = () => true\n  ) {\n    return this.resources.filter((r) => {\n      const association = associationStore.get(foreignKeyValue, this.getModelIdSafe(r));\n      return association && additionalFilter(association);\n    });\n  }\n\n  /** Concats individual string components of a compound key to form a single string key. */\n  public compoundKey(...pieces: (string | undefined)[]): string {\n    return pieces.join(\"/\");\n  }\n\n  /** Splits a compound key into its individual pieces. */\n  public splitKey(compoundKey: string): string[] {\n    return compoundKey.split(\"/\");\n  }\n\n  /** All cached resources as an array. Will never be null; no data results in an empty array. */\n  @computed\n  public get resources() {\n    return Array.from(this.data.values());\n  }\n\n  /** Whether the resource cache is empty. */\n  @computed\n  public get isEmpty() {\n    return this.data.size === 0;\n  }\n\n  /** Whether there is a pending request to fetch multiple resources by `fetchCollection()`. */\n  @computed\n  public get isFetchingCollection() {\n    return (this.requests.fetchCollection.get() && this.requests.fetchCollection.get()!.isPending) || false;\n  }\n\n  /** Whether there is a pending request to fetch multiple resources by `fetchCollection()`. */\n  @computed\n  public get isCollectionFetchSucceeded() {\n    return this.requests.fetchCollection.get()?.isLoaded || false;\n  }\n\n  /** The error object rejected by the last request made by `fetchCollection()`, if it exists. */\n  @computed\n  public get collectionFetchError() {\n    return (this.requests.fetchCollection.get() && this.requests.fetchCollection.get()!.error) || null;\n  }\n\n  /** Whether the last request made by `fetchCollection()` resulted in an error. */\n  @computed\n  public get collectionFetchFailed() {\n    return (this.requests.fetchCollection.get() && this.requests.fetchCollection.get()!.isFailed) || false;\n  }\n\n  // TODO: Make these helpers accept association store/foreignKey-value.\n  /** Whether there is a pending request to fetch multiple resources by `fetchForRelationship()`. */\n  public isFetchingRelationship(id: string): boolean;\n  /** Whether there is a pending request to fetch multiple resources by `fetchForRelationship()`. */\n  public isFetchingRelationship(...keyPieces: string[]): boolean;\n  public isFetchingRelationship(...keyPieces: string[]): boolean {\n    return this.requestIs(this.compoundKey(...keyPieces), \"fetchRelationship\", \"isPending\");\n  }\n\n  /** The error object rejected by the last request made by `fetchForRelationship()`, if it exists. */\n  public relationshipsFetchError<ErrorT = Error>(id: string): ErrorT;\n  /** The error object rejected by the last request made by `fetchForRelationship()`, if it exists. */\n  public relationshipsFetchError<ErrorT = Error>(...keyPieces: string[]): ErrorT;\n  public relationshipsFetchError<ErrorT = Error>(...keyPieces: string[]): ErrorT {\n    return this.errorFor(this.compoundKey(...keyPieces), \"fetchRelationship\");\n  }\n\n  /** Whether the last request made by `fetchForRelationship()` resulted in an error. */\n  public relationshipsFetchFailed(id: string): boolean;\n  /** Whether the last request made by `fetchForRelationship()` resulted in an error. */\n  public relationshipsFetchFailed(...keyPieces: string[]): boolean;\n  public relationshipsFetchFailed(...keyPieces: string[]): boolean {\n    return this.requestIs(this.compoundKey(...keyPieces), \"fetchRelationship\", \"isFailed\");\n  }\n\n  private requestIs(\n    resourceOrId: ModelT | string,\n    requestMap: \"fetchOne\" | \"create\" | \"update\" | \"delete\" | \"fetchRelationship\",\n    property: \"isPending\" | \"isFailed\" | \"isLoaded\"\n  ) {\n    if (!resourceOrId) {\n      return false;\n    }\n    const id = typeof resourceOrId === \"string\" ? resourceOrId : this.getModelIdSafe(resourceOrId);\n    return get(this.requests[requestMap].get(id)!, property, false);\n  }\n\n  /** Whether a fetch request for a single resource made by `fetchOne()` is currently pending. */\n  public isFetching(id: string): boolean;\n  /** Whether a fetch request for a single resource made by `fetchOne()` is currently pending. */\n  public isFetching(...keyPieces: string[]): boolean;\n  /** Whether a fetch request for a single resource made by `fetchOne()` is currently pending. */\n  public isFetching(resource: ModelT): boolean;\n  public isFetching(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(resourceOrId, \"fetchOne\", \"isPending\");\n  }\n\n  /** Whether a creation request made by `create()` for the given resource or id is currently pending. */\n  public isCreating(id: string): boolean;\n  /** Whether a creation request made by `create()` for the given resource or id is currently pending. */\n  public isCreating(...keyPieces: string[]): boolean;\n  /** Whether a creation request made by `create()` for the given resource or id is currently pending. */\n  public isCreating(resource: ModelT): boolean;\n  public isCreating(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    if (!resourceOrIdOrKeyPieces[0]) {\n      return false;\n    }\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(this.getClientId(resourceOrId)!, \"create\", \"isPending\");\n  }\n\n  /** Whether an update request made by `update()` for the given resource or id is currently pending. */\n  public isUpdating(id: string): boolean;\n  /** Whether an update request made by `update()` for the given resource or id is currently pending. */\n  public isUpdating(...keyPieces: string[]): boolean;\n  /** Whether an update request made by `update()` for the given resource or id is currently pending. */\n  public isUpdating(resource: ModelT): boolean;\n  public isUpdating(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(resourceOrId, \"update\", \"isPending\");\n  }\n\n  /** Whether a deletion request made by `delete()` for the given resource or id is currently pending. */\n  public isDeleting(id: string): boolean;\n  /** Whether a deletion request made by `delete()` for the given resource or id is currently pending. */\n  public isDeleting(...keyPieces: string[]): boolean;\n  /** Whether a deletion request made by `delete()` for the given resource or id is currently pending. */\n  public isDeleting(resource: ModelT): boolean;\n  public isDeleting(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(resourceOrId, \"delete\", \"isPending\");\n  }\n\n  /** Whether the last fetch request for a single resource made by `fetchOne()` resulted in an error. */\n  public fetchFailed(id: string): boolean;\n  /** Whether the last fetch request for a single resource made by `fetchOne()` resulted in an error. */\n  public fetchFailed(...keyPieces: string[]): boolean;\n  /** Whether the last fetch request for a single resource made by `fetchOne()` resulted in an error. */\n  public fetchFailed(resource: ModelT): boolean;\n  public fetchFailed(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(resourceOrId, \"fetchOne\", \"isFailed\");\n  }\n\n  /** Whether the last update request made by `update()` resulted in an error. */\n  public updateFailed(id: string): boolean;\n  /** Whether the last update request made by `update()` resulted in an error. */\n  public updateFailed(...keyPieces: string[]): boolean;\n  /** Whether the last update request made by `update()` resulted in an error. */\n  public updateFailed(resource: ModelT): boolean;\n  public updateFailed(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(resourceOrId, \"update\", \"isFailed\");\n  }\n\n  /** Whether the last creation request made by `create()` resulted in an error. */\n  public creationFailed(id: string): boolean;\n  /** Whether the last creation request made by `create()` resulted in an error. */\n  public creationFailed(...keyPieces: string[]): boolean;\n  /** Whether the last creation request made by `create()` resulted in an error. */\n  public creationFailed(resource: ModelT): boolean;\n  public creationFailed(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    if (!resourceOrIdOrKeyPieces[0]) {\n      return false;\n    }\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(this.getClientId(resourceOrId)!, \"create\", \"isFailed\");\n  }\n\n  /** Whether the last deletion request made by `delete()` resulted in an error. */\n  public deletionFailed(id: string): boolean;\n  /** Whether the last deletion request made by `delete()` resulted in an error. */\n  public deletionFailed(...keyPieces: string[]): boolean;\n  /** Whether the last deletion request made by `delete()` resulted in an error. */\n  public deletionFailed(resource: ModelT): boolean;\n  public deletionFailed(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(resourceOrId, \"delete\", \"isFailed\");\n  }\n\n  /** Whether the last fetch request for a single resource made by `fetchOne()` succeeded.  */\n  public fetchSucceeded(id: string): boolean;\n  /** Whether the last fetch request for a single resource made by `fetchOne()` succeeded.  */\n  public fetchSucceeded(...keyPieces: string[]): boolean;\n  /** Whether the last fetch request for a single resource made by `fetchOne()` succeeded.  */\n  public fetchSucceeded(resource: ModelT): boolean;\n  public fetchSucceeded(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(resourceOrId, \"fetchOne\", \"isLoaded\");\n  }\n\n  /** Whether the last update request made by `update()` succeeded. */\n  public updateSucceeded(id: string): boolean;\n  /** Whether the last update request made by `update()` succeeded. */\n  public updateSucceeded(...keyPieces: string[]): boolean;\n  /** Whether the last update request made by `update()` succeeded. */\n  public updateSucceeded(resource: ModelT): boolean;\n  public updateSucceeded(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(resourceOrId, \"update\", \"isLoaded\");\n  }\n\n  /** Whether the last creation request made by `create()` succeeded. */\n  public creationSucceeded(id: string): boolean;\n  /** Whether the last creation request made by `create()` succeeded. */\n  public creationSucceeded(...keyPieces: string[]): boolean;\n  /** Whether the last creation request made by `create()` succeeded. */\n  public creationSucceeded(resource: ModelT): boolean;\n  public creationSucceeded(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    if (!resourceOrIdOrKeyPieces[0]) {\n      return false;\n    }\n    const resourceOrId =\n      typeof resourceOrIdOrKeyPieces[0] === \"string\"\n        ? this.compoundKey(...(resourceOrIdOrKeyPieces as string[]))\n        : (resourceOrIdOrKeyPieces[0] as ModelT);\n    return this.requestIs(this.getClientId(resourceOrId)!, \"create\", \"isLoaded\");\n  }\n\n  /** Whether the last deletion request made by `delete()` succeeded. */\n  public deletionSucceeded(id: string): boolean;\n  /** Whether the last deletion request made by `delete()` succeeded. */\n  public deletionSucceeded(...keyPieces: string[]): boolean;\n  /** Whether the last deletion request made by `delete()` succeeded. */\n  public deletionSucceeded(resource: ModelT): boolean;\n  public deletionSucceeded(...resourceOrIdOrKeyPieces: (ModelT | string)[]) {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.requestIs(resourceOrId, \"delete\", \"isLoaded\");\n  }\n\n  private errorFor<ErrorT = Error>(\n    resourceOrId: ModelT | string,\n    requestMap: \"fetchOne\" | \"create\" | \"update\" | \"delete\" | \"fetchRelationship\"\n  ): ErrorT {\n    if (!resourceOrId) {\n      return null as any;\n    }\n    const id = typeof resourceOrId === \"string\" ? resourceOrId : this.getModelIdSafe(resourceOrId);\n    return get(this.requests[requestMap].get(id)!, \"error\", null) as any;\n  }\n\n  /** Gets the error object rejected by the last fetch request for a single resource made by `fetchOne()`, if it exists. */\n  public fetchError<ErrorT = Error>(id: string): ErrorT;\n  /** Gets the error object rejected by the last fetch request for a single resource made by `fetchOne()`, if it exists. */\n  public fetchError<ErrorT = Error>(...keyPieces: string[]): ErrorT;\n  /** Gets the error object rejected by the last fetch request for a single resource made by `fetchOne()`, if it exists. */\n  public fetchError<ErrorT = Error>(resource: ModelT): ErrorT;\n  public fetchError<ErrorT = Error>(...resourceOrIdOrKeyPieces: (ModelT | string)[]): ErrorT {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.errorFor(resourceOrId, \"fetchOne\");\n  }\n\n  /** Gets the error object rejected by the last creation request made by `create()`, if it exists. */\n  public creationError<ErrorT = Error>(id: string): ErrorT;\n  /** Gets the error object rejected by the last creation request made by `create()`, if it exists. */\n  public creationError<ErrorT = Error>(...keyPieces: string[]): ErrorT;\n  /** Gets the error object rejected by the last creation request made by `create()`, if it exists. */\n  public creationError<ErrorT = Error>(resource: ModelT): ErrorT;\n  public creationError<ErrorT = Error>(...resourceOrIdOrKeyPieces: (ModelT | string)[]): ErrorT {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    if (!resourceOrId) {\n      return null as any;\n    }\n    return this.errorFor(this.getClientId(resourceOrId) as any, \"create\");\n  }\n\n  /** Gets the error object rejected by the last update request made by `update()`, if it exists. */\n  public updateError<ErrorT = Error>(id: string): ErrorT;\n  /** Gets the error object rejected by the last update request made by `update()`, if it exists. */\n  public updateError<ErrorT = Error>(...keyPieces: string[]): ErrorT;\n  /** Gets the error object rejected by the last update request made by `update()`, if it exists. */\n  public updateError<ErrorT = Error>(resource: ModelT): ErrorT;\n  public updateError<ErrorT = Error>(...resourceOrIdOrKeyPieces: (ModelT | string)[]): ErrorT {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.errorFor(resourceOrId, \"update\");\n  }\n\n  /** Gets the error object rejected by the last deletion request made by `delete()`, if it exists. */\n  public deletionError<ErrorT = Error>(id: string): ErrorT;\n  /** Gets the error object rejected by the last deletion request made by `delete()`, if it exists. */\n  public deletionError<ErrorT = Error>(...keyPieces: string[]): ErrorT;\n  /** Gets the error object rejected by the last deletion request made by `delete()`, if it exists. */\n  public deletionError<ErrorT = Error>(resource: ModelT): ErrorT;\n  public deletionError<ErrorT = Error>(...resourceOrIdOrKeyPieces: (ModelT | string)[]): ErrorT {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    return this.errorFor(resourceOrId, \"delete\");\n  }\n\n  /** Adds an existing resource to the cache collection without making an API call to create it on the server. */\n  @action\n  public add(resource: ModelT) {\n    const clientId = resource.clientId;\n    const id = this.getModelId(resource);\n    // An existing resource by the same id should be removed first,\n    // as resources are stored by clientId, its possible to accidentally\n    // store two models by the same id.\n    this.remove(id as any);\n    if (id) {\n      this.clientIdsById.set(id, clientId);\n    }\n    this.data.set(clientId, resource);\n  }\n\n  /** Removes an existing resource from the cache collection without making an API call to delete it from the server. Returns whether the resource actually in the store. */\n  public remove(id: string): boolean;\n  /** Removes an existing resource from the cache collection without making an API call to delete it from the server. Returns whether the resource actually in the store. */\n  public remove(...keyPieces: string[]): boolean;\n  /** Removes an existing resource from the cache collection without making an API call to delete it from the server. Returns whether the resource actually in the store. */\n  public remove(resource: ModelT): boolean;\n  @action\n  public remove(...resourceOrIdOrKeyPieces: (ModelT | string)[]): boolean {\n    const resourceOrId = this.getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces);\n    const resource = typeof resourceOrId === \"string\" ? this.get(resourceOrId) : resourceOrId;\n    if (resource) {\n      this.clientIdsById.delete(resource.clientId);\n      return this.data.delete(resource.clientId);\n    }\n    return false;\n  }\n\n  /**\n   * Fetches a single resource using the provided definition for `getResource()`, then\n   * stores it in the resource cache, or if one already exists in the cache, updates\n   * the existing resource with any changes retrieved by the `getResource()` call.\n   */\n  @action\n  public fetchOne(id: string, query?: QueryT) {\n    const request = new ResourceRequest(\n      this.getResource(id, query),\n      () => this.get(id),\n      (error, resource) => {\n        if (error) {\n          return;\n        }\n\n        const deserializedResource = this.deserialize(resource as any, query);\n        if (!deserializedResource) {\n          return;\n        }\n\n        const oldResource = this.get(id);\n        if (oldResource) {\n          oldResource.applyChanges(deserializedResource);\n        } else {\n          this.add(new this.ModelClass(deserializedResource));\n        }\n      }\n    );\n\n    this.requests.fetchOne.set(id, request as any);\n    return request;\n  }\n\n  @action\n  /**\n   * Ensures that the collection of the resources is fetched\n   */\n  public ensureCollectionIsFetched() {\n    const request = this.requests.fetchCollection.get();\n    if (!request) return this.fetchCollection();\n    return request;\n  }\n\n  /**\n   * Fetches a collection of resources by calling `getCollection()`, then stores them\n   * in the resource cache. How to handle conflicts with existing resources in the cache\n   * can be customized with the `options` argument.\n   * @param query An optional arbitrary query to pass to `getCollection()`.\n   * @param options Allows for additional processing of each resource and specifying how to handle conflicts with existing resources. See each object member for additional JSDoc documentation.\n   */\n  @action\n  public fetchCollection(\n    query?: QueryT,\n    { fetchMode = FetchMode.PreserveReplace, segmentFilter }: LoadOptions<DeserializedT, ModelT> = {}\n  ) {\n    const request = new ResourceRequest(\n      this.getCollection(query),\n      () => this.resources,\n      (error, resources) => {\n        if (error) {\n          return;\n        }\n\n        if (fetchMode === FetchMode.Replace) {\n          if (!segmentFilter) {\n            this.data.clear();\n          } else {\n            const clientIdsToRemove: any[] = [];\n            this.data.forEach((model, clientId) => {\n              if (!segmentFilter(model)) {\n                clientIdsToRemove.push(clientId);\n              }\n            });\n            clientIdsToRemove.forEach((clientId) => this.data.delete(clientId));\n          }\n        }\n\n        if (fetchMode === FetchMode.Replace || fetchMode === FetchMode.Append) {\n          resources!.forEach((r) => {\n            const deserializedResource = this.deserialize(r, query);\n            if (!deserializedResource) {\n              return;\n            }\n            this.add(new this.ModelClass(deserializedResource));\n          });\n        }\n\n        if (fetchMode === FetchMode.PreserveReplace || fetchMode === FetchMode.PreserveAppend) {\n          const idsToKeep: any[] = [];\n          resources!.forEach((serializedResource) => {\n            const deserializedResource = this.deserialize(serializedResource, query);\n            if (!deserializedResource) {\n              return;\n            }\n            const id = this.getId(serializedResource, query!);\n            const existingModel = this.get(id!);\n            idsToKeep.push(id);\n            if (existingModel) {\n              existingModel.applyChanges(deserializedResource);\n            } else {\n              this.add(new this.ModelClass(deserializedResource));\n            }\n          });\n\n          if (fetchMode === FetchMode.PreserveReplace) {\n            const modelsToRemove: any[] = [];\n            this.data.forEach((model) => {\n              const filter = segmentFilter || (() => true);\n              if (!idsToKeep.includes(this.getModelId(model)) && filter(model)) {\n                modelsToRemove.push(model);\n              }\n            });\n            modelsToRemove.forEach((model) => this.remove(model));\n          }\n        }\n      }\n    );\n\n    this.requests.fetchCollection.set(request);\n    return request;\n  }\n\n  // TODO: After TS 2.8, restrict K to keys of DeserializedT which correspond to a string value.\n  @action\n  public fetchForRelationship<K extends keyof DeserializedT>(foreignKey: K, foreignKeyValue: DeserializedT[K], query?: QueryT) {\n    const request = new ResourceRequest(\n      this.getCollection(query, foreignKey, foreignKeyValue),\n      // @ts-ignore\n      () => this.resources.filter((r) => r[foreignKey] === foreignKeyValue),\n      (error, resources) => {\n        if (error) {\n          return;\n        }\n\n        // TODO: dedupe this logic with fetchCollection\n        const idsToKeep: any[] = [];\n        resources!.forEach((serializedResource) => {\n          const deserializedResource = this.deserialize(serializedResource, query, foreignKey, foreignKeyValue);\n          if (!deserializedResource) {\n            return;\n          }\n          const id = this.getId(serializedResource, query!);\n          const existingModel = this.get(id!);\n          idsToKeep.push(id!);\n          deserializedResource[foreignKey] = foreignKeyValue; // Make the association\n          if (existingModel) {\n            existingModel.applyChanges(deserializedResource);\n          } else {\n            this.add(new this.ModelClass(deserializedResource));\n          }\n        });\n\n        this.data.forEach((model) => {\n          if (!idsToKeep.includes(this.getModelId(model))) {\n            // Delete the association\n            model[foreignKey] = null as any;\n          }\n        });\n      }\n    );\n\n    this.requests.fetchRelationship.set(`${foreignKey.toString()}-${foreignKeyValue}`, request);\n    return request;\n  }\n\n  @action\n  public fetchOneForRelationship<T extends {}>(foreignModel: T, foreignKey: KeysWhereValueExtends<T, string | null>, query?: QueryT) {\n    const request = new ResourceRequest(\n      this.getResourceForRelationship(foreignModel, foreignKey, query),\n      () => this.get((foreignModel[foreignKey] as any) as string),\n      (error, data) => {\n        if (error) {\n          return;\n        }\n\n        if (data) {\n          const id = this.generateIdFromResponse(data);\n          const deserializedResource = this.deserialize(data, query);\n          if (!deserializedResource) {\n            foreignModel[foreignKey] = null as any;\n            return;\n          }\n          const existingModel = this.get(id);\n          if (existingModel) {\n            existingModel.applyChanges(deserializedResource);\n          } else {\n            this.add(new this.ModelClass(deserializedResource));\n          }\n          foreignModel[foreignKey] = id;\n        } else {\n          foreignModel[foreignKey] = null as any;\n        }\n      }\n    );\n\n    return request;\n  }\n\n  @action\n  public fetchForManyToMany<T extends Association>(associationStore: AssociationStore<T>, foreignKeyValue: string, query?: QueryT) {\n    const request = new ResourceRequest(\n      this.getCollection(query),\n      () => this.resources.filter((r) => associationStore.contains(foreignKeyValue, this.getModelIdSafe(r))),\n      (error, resources) => {\n        if (error) {\n          return;\n        }\n\n        const idsToKeep: any[] = [];\n        resources!.forEach((serializedResource) => {\n          const deserializedResource = this.deserialize(serializedResource, query);\n          if (!deserializedResource) {\n            return;\n          }\n          const id = this.getId(serializedResource, query!);\n          const existingModel = this.get(id!);\n          idsToKeep.push(id);\n          const isLeft = this.ModelClass === associationStore.LeftClass;\n          if (existingModel) {\n            existingModel.applyChanges(deserializedResource);\n            // Make the association\n            associationStore.add(\n              isLeft ? this.getModelIdSafe(existingModel) : foreignKeyValue,\n              isLeft ? foreignKeyValue : this.getModelIdSafe(existingModel),\n              serializedResource,\n              query\n            );\n          } else {\n            const newResource = new this.ModelClass(deserializedResource);\n            this.add(newResource);\n            // Make the association\n            associationStore.add(\n              isLeft ? this.getModelIdSafe(newResource) : foreignKeyValue,\n              isLeft ? foreignKeyValue : this.getModelIdSafe(newResource),\n              serializedResource,\n              query\n            );\n          }\n        });\n\n        this.data.forEach((model) => {\n          if (!idsToKeep.includes(this.getModelId(model))) {\n            // Delete the association\n            associationStore.remove(foreignKeyValue, this.getModelIdSafe(model));\n          }\n        });\n      }\n    );\n\n    this.requests.fetchRelationship.set(`${associationStore.id}-${foreignKeyValue}`, request);\n    return request;\n  }\n\n  /**\n   * Creates a new resource by calling `postResource()`, then stores it in the cache.\n   * @param resource The resource to make the creation request for and add to the cache.\n   * @param optimistic Whether to add the resource optimistically to the cache before the request succeeds (removing it upon failure), or to wait until getting a successful response to add the resource.\n   * @param options An optional arbitrary set of options to pass to `postResource()`.\n   */\n  @action\n  public create(resource: ModelT, optimistic = true, options?: QueryT) {\n    const clientId = this.getClientId(resource);\n    if (optimistic) {\n      this.add(resource);\n    } else {\n      const id = this.getModelId(resource);\n      if (id) {\n        this.clientIdsById.set(id, clientId!);\n      }\n    }\n\n    const request = new ResourceRequest(\n      this.postResource(resource, options),\n      () => this.data.get(clientId!),\n      (error, serialized) => {\n        if (serialized) {\n          const deserializedResource = this.deserialize(serialized, options);\n          if (!deserializedResource && optimistic) {\n            this.remove(resource);\n            return;\n          } else if (!deserializedResource && !optimistic) {\n            return;\n          }\n          resource.applyChanges(deserializedResource!);\n        }\n\n        if (optimistic && error) {\n          this.remove(resource);\n        } else if (!optimistic && !error) {\n          this.add(resource);\n        }\n      }\n    );\n\n    this.requests.create.set(clientId!, request as any);\n    return request;\n  }\n\n  /**\n   * Creates multiple resources by calling `postResources()`, then stores them in the cache.\n   * @param resources The resources to make the creation request for and add to the cache.\n   * @param optimistic Whether to add the resources optimistically to the cache before the request succeeds (removing them upon failure), or to wait until getting a successful response to add the resources.\n   * @param options An optional arbitrary set of options to pass to `postResources()`.\n   */\n  @action\n  public createMany(resources: ModelT[], optimistic = true, options?: QueryT) {\n    if (optimistic) {\n      resources.forEach((resource) => this.add(resource));\n    }\n\n    const request = new ResourceRequest(this.postResources(resources, options), noop, (error, serializedResources) => {\n      if (serializedResources) {\n        // We associate the resources we get from the server with resources in the store, but this association assumes the order of resources is the same in the server response and in the store. This assumption will not hold in all cases. Use at your own risk.\n        serializedResources.forEach((serializedResource, index) => {\n          const deserializedResource = this.deserialize(serializedResource, options);\n          if (!deserializedResource && optimistic) {\n            resources.forEach((resource) => this.remove(resource));\n            return;\n          } else if (!deserializedResource && !optimistic) {\n            return;\n          }\n          resources[index].applyChanges(deserializedResource!);\n          if (!optimistic && !error) {\n            this.add(resources[index]);\n          }\n        });\n      }\n\n      if (optimistic && error) {\n        resources.forEach((resource) => this.remove(resource));\n      }\n    });\n\n    resources.forEach((resource) => {\n      const clientId = this.getClientId(resource);\n      // 'this.requests.create.set' expects a ResourceRequest whose getter returns an object of type 'ModelT'. The above ResourceRequests getter returns an object of type 'void', but otherwise has the correct properties (e.g. 'isPending') for all resources.\n      const singleRequest = new ResourceRequest(request.promise, () => this.data.get(clientId!), noop);\n      this.requests.create.set(clientId!, singleRequest as any);\n    });\n    return request;\n  }\n\n  /**\n   * Updates a resource with a set of changes by calling `patchResource()`, then applies the changes to the cached resource.\n   * @param resource The resource to update.\n   * @param changes The set of changes to apply to the resource.\n   * @param optimistic Whether to apply the changes optimistically before the request succeeds (unapplying them upon failure), or to wait until getting a successful response to update the resource.\n   * @param options An optional arbitrary set of options to pass to `patchResource()`.\n   */\n  @action\n  public update(resource: ModelT, changes: Partial<DeserializedT>, optimistic = true, options?: QueryT) {\n    const id = this.getModelIdSafe(resource);\n    if (!PRODUCTION && !this.has(id)) {\n      throw new Error(\n        \"Invariant violation: Tried to update a resource that isnt yet tracked by the store. \" +\n          \"This is unsupported behavior; use `store.add()` to track a resource that wasnt fetched \" +\n          \"or created by the store.\"\n      );\n    }\n\n    const resourceCopy = optimistic ? Object.assign({}, resource) : null;\n    if (optimistic) {\n      resource.applyChanges(changes);\n    }\n\n    const unsubscribe = PRODUCTION\n      ? noop\n      : intercept(resource, () => {\n          throw new Error(\n            \"Invariant violation: Tried to mutate a resource in `patchResource()`. \" +\n              \"`update()` will call `applyChanges()` on your model for you; dont \" +\n              \"mutate the resource or call `applyChanges()` manually.\"\n          );\n        });\n\n    const request = new ResourceRequest(\n      this.patchResource(resource, changes, options),\n      () => this.get(id),\n      (error) => {\n        if (optimistic && error) {\n          resource.revertChanges(resourceCopy!, changes);\n        } else if (!optimistic && !error) {\n          resource.applyChanges(changes);\n        }\n      }\n    );\n\n    unsubscribe();\n    this.requests.update.set(id, request as any);\n    return request;\n  }\n\n  /**\n   * Updates multiple resources with a set of changes by calling `patchResources()`, then applies the changes to the cached resources.\n   * @param resources The resources to update.\n   * @param config A set of options to modify the behavior of `updateMany()`:\n   * - `changes` The set of changes to apply to each of the resources.\n   * - `optimistic` Whether to apply the changes optimistically before the request succeeds (unapplying them upon failure), or to wait until getting a successful response to update the resources.\n   * - `options` An optional arbitrary set of options to pass to `patchResources()`.\n   */\n  @action\n  public updateMany(\n    resources: ModelT[],\n    config?: { changes: Partial<DeserializedT>; optimistic?: boolean; options?: QueryT } | { options?: QueryT }\n  ): ResourceRequest<void> {\n    // @ts-ignore. [Should fix it in the future] Strict error.\n    const { changes, optimistic = true, options } = \"changes\" in config ? config : { changes: null, options: config.options };\n    const resourceCopies = optimistic ? resources.map((resource) => Object.assign({}, resource)) : null;\n    if (optimistic) {\n      resources.forEach((resource) => resource.applyChanges(changes!));\n    }\n\n    const promise = changes ? this.patchResources(resources, changes, options) : this.patchModifiedResources(resources, options);\n    const request = new ResourceRequest(promise, noop, (error) => {\n      if (optimistic && error) {\n        resources.forEach((resource, index) => resource.revertChanges(resourceCopies![index], changes!));\n      } else if (!optimistic && !error && changes) {\n        resources.forEach((resource) => resource.applyChanges(changes));\n      }\n    });\n\n    resources.forEach((resource) => {\n      const clientId = this.getModelIdSafe(resource);\n      const singleRequest = new ResourceRequest(request.promise, () => this.data.get(clientId), noop);\n      this.requests.update.set(clientId, singleRequest as any);\n    });\n    return request;\n  }\n\n  /**\n   * Deletes a resource by calling `deleteResource()`, then removes it from the cache.\n   * @param id The id of the resource to make the deletion request for and remove from the cache.\n   * @param resource The resource to make the deletion request for and remove from the cache.\n   * @param optimistic Whether to remove the resource optimistically from the cache before the request succeeds (adding it back upon failure), or to wait until getting a successful response to remove the resource.\n   * @param options An optional arbitrary set of options to pass to `deleteResource()`.\n   */\n  public delete(id: string, optimistic?: boolean, options?: QueryT): ResourceRequest<void>;\n  public delete(resource: ModelT, optimistic?: boolean, options?: QueryT): ResourceRequest<void>;\n  @action\n  public delete(resourceOrId: ModelT | string, optimistic = true, options?: QueryT): ResourceRequest<void> {\n    const [resource, id] =\n      typeof resourceOrId === \"string\" ? [this.get(resourceOrId), resourceOrId] : [resourceOrId, this.getModelIdSafe(resourceOrId)];\n\n    if (!PRODUCTION && !this.has(id)) {\n      throw new Error(\n        \"Invariant violation: Tried to delete a resource that isnt yet tracked by the store. \" +\n          \"This is unsupported behavior; use `store.add()` to track a resource that wasnt fetched \" +\n          \"or created by the store.\"\n      );\n    }\n\n    if (optimistic) {\n      this.remove(id);\n    }\n\n    const request = new ResourceRequest(\n      this.deleteResource(resource as any, options),\n      () => null,\n      (error) => {\n        if (optimistic && error) {\n          this.add(resource as any);\n        } else if (!optimistic && !error) {\n          this.remove(id);\n        }\n      }\n    );\n\n    this.requests.delete.set(id, request as any);\n    return request as any;\n  }\n\n  /**\n   * Deletes multiple resources by calling `deleteResources()`, then removes them from the cache.\n   * @param ids A collection of ids of resources to make the deletion request for and remove from the cache.\n   * @param resources The resources to make the deletion request for and remove from the cache.\n   * @param optimistic Whether to remove the resources optimistically from the cache before the request succeeds (adding it back upon failure), or to wait until getting a successful response to remove the resources.\n   * @param options An optional arbitrary set of options to pass to `deleteResources()`.\n   */\n  public deleteMany(ids: string[], optimistic?: boolean, options?: QueryT): ResourceRequest<void>;\n  public deleteMany(resources: ModelT[], optimistic?: boolean, options?: QueryT): ResourceRequest<void>;\n  @action\n  public deleteMany(resourcesOrIds: string[] | ModelT[], optimistic = true, options?: QueryT): ResourceRequest<void> {\n    const resources = (typeof resourcesOrIds[0] === \"string\"\n      ? (resourcesOrIds as string[]).map((id) => this.get(id))\n      : resourcesOrIds) as ModelT[];\n\n    if (optimistic) {\n      resources.forEach((resource) => this.remove(resource));\n    }\n\n    const request = new ResourceRequest(\n      this.deleteResources(resources, options),\n      () => null,\n      (error) => {\n        if (optimistic && error) {\n          resources.forEach((resource) => this.add(resource));\n        } else if (!optimistic && !error) {\n          resources.forEach((resource) => this.remove(resource));\n        }\n      }\n    );\n\n    resources.forEach((resource) => {\n      const clientId = this.getModelIdSafe(resource);\n      this.requests.delete.set(clientId, request as any);\n    });\n    return request as any;\n  }\n\n  @action\n  public deleteRelationship(resourceOrId: ModelT | string, foreignKey: keyof DeserializedT, optimistic?: boolean, options?: QueryT) {\n    const [resource, id] =\n      typeof resourceOrId === \"string\" ? [this.get(resourceOrId), resourceOrId] : [resourceOrId, this.getModelIdSafe(resourceOrId)];\n    const foreignKeyValue = resource![foreignKey];\n\n    if (!PRODUCTION && !this.has(id)) {\n      throw new Error(\n        \"Invariant violation: Tried to delete a resource that isnt yet tracked by the store. \" +\n          \"This is unsupported behavior; use `store.add()` to track a resource that wasnt fetched \" +\n          \"or created by the store.\"\n      );\n    }\n\n    if (optimistic) {\n      resource![foreignKey] = null as any;\n    }\n\n    const request = new ResourceRequest(\n      this.deleteResource(resource!, options),\n      () => null,\n      (error) => {\n        if (optimistic && error) {\n          resource![foreignKey] = foreignKeyValue;\n        } else if (!optimistic && !error) {\n          resource![foreignKey] = null as any;\n        }\n      }\n    );\n\n    this.requests.delete.set(id, request as any);\n    return request;\n  }\n\n  @action\n  private clearCache = () => {\n    this.data.clear();\n    this.clientIdsById.clear();\n    this.requests.fetchCollection.set(null as any);\n    this.requests.fetchOne.clear();\n    this.requests.create.clear();\n    this.requests.update.clear();\n    this.requests.delete.clear();\n  };\n\n  private getId(resourceOrModel: SerializedT | ModelT, query: QueryT): string | undefined {\n    if (resourceOrModel instanceof this.ModelClass) {\n      return this.getModelIdSafe(resourceOrModel as ModelT);\n    }\n\n    return this.verifyStringId(this.generateIdFromResponse(resourceOrModel as SerializedT, query));\n  }\n\n  private getClientId(modelOrId: string | ModelT): string | undefined {\n    const model = typeof modelOrId === \"string\" ? this.get(modelOrId) : modelOrId;\n    if (model) {\n      return model.clientId;\n    } else if (typeof modelOrId === \"string\") {\n      return this.clientIdsById.get(modelOrId);\n    }\n  }\n\n  private verifyStringId(id: string | undefined): string | undefined {\n    if (!PRODUCTION && id !== undefined && typeof id !== \"string\") {\n      throw new Error(\n        `Model of type \\`${this.ModelClass.name}\\` with id \\`${id}\\` had id of type ` +\n          `${typeof id} rather than string. Only string ids are supported. Check your ` +\n          `\\`deserialize()\\` and \\`getModelId()\\` methods, type definitions for serilized ` +\n          `and deserialized model interfaces, and API responses to ensure ids are saved as strings.`\n      );\n    }\n\n    return id;\n  }\n\n  private getModelIdSafe(model: ModelT): string {\n    return this.verifyStringId(this.getModelId(model)) as any;\n  }\n\n  private getResourceOrIdFromRestParams(resourceOrIdOrKeyPieces: (ModelT | string)[]): ModelT | string {\n    return typeof resourceOrIdOrKeyPieces[0] === \"string\"\n      ? this.compoundKey(...(resourceOrIdOrKeyPieces as string[]))\n      : (resourceOrIdOrKeyPieces[0] as ModelT);\n  }\n}\n","export enum EventType {\n  BuildCompleteSucceeded = \"BuildCompleteSucceeded\",\n  BuildCompleteFixed = \"BuildCompleteFixed\",\n  BuildCompleteFailed = \"BuildCompleteFailed\",\n  BuildCompleteBroken = \"BuildCompleteBroken\",\n  TestRunFinished = \"TestRunFinished\",\n  TestRunCancelled = \"TestRunCancelled\",\n  TestRunInvalid = \"TestRunInvalid\",\n  TestRunTimedOut = \"TestRunTimedOut\",\n  NewCrashGroupCreated = \"NewCrashGroupCreated\",\n  NewAppRelease = \"NewAppRelease\",\n  ResignGenericFailure = \"ResignGenericFailure\",\n  ResignCertificateMismatch = \"ResignCertificateMismatch\",\n  ResignInvalidCredentials = \"ResignInvalidCredentials\",\n}\n\nexport enum BuildCompleteSetting {\n  Never = \"Never\",\n  OnlyBroken = \"OnlyBroken\",\n  OnlyFixed = \"OnlyFixed\",\n  Always = \"Always\",\n}\n\nexport enum NewCrashGroupCreatedSetting {\n  Never = \"Never\",\n  Daily = \"Daily\",\n  Immediately = \"Immediately\",\n}\n\nexport enum NewAppReleaseSetting {\n  Never = \"Never\",\n  Daily = \"Daily\",\n  Immediately = \"Immediately\",\n}\n\nexport enum TestRunCompletedSetting {\n  Never = \"Never\",\n  Immediately = \"Immediately\",\n}\n\nexport enum SettingType {\n  Select = \"select\",\n  Checkbox = \"checkbox\",\n}\n\nexport interface SettingsSection<T> {\n  title: string;\n  settings: T[];\n}\n\nexport interface Setting<T, ValueT> {\n  type: T;\n  id: string;\n  label: string;\n  telemetryKey: string;\n  selectedIndex: number;\n  displayValues: ValueT[];\n}\n","import { observable } from \"mobx\";\nimport { Model } from \"@root/data/lib\";\n\nexport interface SerializedOrgComplianceSetting {\n  id: string;\n  org_id: string;\n  certificate_connection_id: string;\n  is_mam_enabled: boolean;\n}\n\nexport interface DeserializedOrgComplianceSetting {\n  id?: string;\n  orgId?: string;\n  certificateConnectionId?: string;\n  isMamEnabled?: boolean;\n}\n\nexport class OrgComplianceSetting extends Model<DeserializedOrgComplianceSetting> implements DeserializedOrgComplianceSetting {\n  @observable public id?: string;\n  @observable public orgId?: string;\n  @observable public certificateConnectionId?: string;\n  @observable public isMamEnabled?: boolean;\n}\n","var map = {\n\t\"./aad-group.svg\": 535,\n\t\"./aad.svg\": 536,\n\t\"./aar-file.svg\": 537,\n\t\"./account-settings.svg\": 538,\n\t\"./add-circle.svg\": 539,\n\t\"./add-user.svg\": 540,\n\t\"./add.svg\": 541,\n\t\"./admin.svg\": 542,\n\t\"./app-analytics.svg\": 543,\n\t\"./app-auth.svg\": 544,\n\t\"./app-back.svg\": 545,\n\t\"./app-beacon.svg\": 546,\n\t\"./app-build.svg\": 547,\n\t\"./app-crashes.svg\": 548,\n\t\"./app-data.svg\": 549,\n\t\"./app-distribute.svg\": 550,\n\t\"./app-docs.svg\": 551,\n\t\"./app-getting-started.svg\": 552,\n\t\"./app-home.svg\": 553,\n\t\"./app-index.svg\": 554,\n\t\"./app-logo-placeholder.svg\": 555,\n\t\"./app-overview.svg\": 556,\n\t\"./app-push.svg\": 557,\n\t\"./app-settings.svg\": 558,\n\t\"./app-support.svg\": 559,\n\t\"./app-test.svg\": 560,\n\t\"./appcenter-white.svg\": 561,\n\t\"./appcenter.svg\": 562,\n\t\"./apple-icon-invert.svg\": 274,\n\t\"./apple-icon.svg\": 563,\n\t\"./apple-store.svg\": 564,\n\t\"./apple-test-flight.svg\": 565,\n\t\"./application-insights.svg\": 566,\n\t\"./arrows-down.svg\": 567,\n\t\"./auth-beacon.svg\": 568,\n\t\"./auth0.svg\": 569,\n\t\"./azure-dev-ops.svg\": 570,\n\t\"./azure-subscription-disabled.svg\": 571,\n\t\"./azure-subscription.svg\": 572,\n\t\"./azure.svg\": 573,\n\t\"./billing.svg\": 574,\n\t\"./binary-attachment.svg\": 575,\n\t\"./bitbucket.svg\": 576,\n\t\"./bluetooth.svg\": 577,\n\t\"./breadcrumb.svg\": 578,\n\t\"./bullet.svg\": 579,\n\t\"./button-chevron-left.svg\": 580,\n\t\"./button-chevron-right.svg\": 581,\n\t\"./button-expand-less.svg\": 582,\n\t\"./button-expand-more.svg\": 583,\n\t\"./calendar-clock.svg\": 584,\n\t\"./calendar.svg\": 585,\n\t\"./certificate.svg\": 586,\n\t\"./check.svg\": 587,\n\t\"./chevron-left-12.svg\": 588,\n\t\"./chevron-left.svg\": 589,\n\t\"./chevron-right.svg\": 590,\n\t\"./clear.svg\": 591,\n\t\"./close-small.svg\": 592,\n\t\"./close.svg\": 593,\n\t\"./code.svg\": 594,\n\t\"./cog.svg\": 595,\n\t\"./copy.svg\": 596,\n\t\"./cosmos-db.svg\": 597,\n\t\"./crash-filled.svg\": 598,\n\t\"./crash.svg\": 599,\n\t\"./csr-file.svg\": 600,\n\t\"./csv-file.svg\": 601,\n\t\"./default.svg\": 602,\n\t\"./delete.svg\": 603,\n\t\"./desktop.svg\": 604,\n\t\"./device-orientation.svg\": 605,\n\t\"./distribution-group.svg\": 606,\n\t\"./docs-edit.svg\": 607,\n\t\"./docs.svg\": 608,\n\t\"./done.svg\": 609,\n\t\"./double-chevron-left.svg\": 610,\n\t\"./double-chevron-right.svg\": 611,\n\t\"./download.svg\": 612,\n\t\"./edit.svg\": 613,\n\t\"./email-add.svg\": 614,\n\t\"./email-reply.svg\": 615,\n\t\"./email.svg\": 616,\n\t\"./expand-less.svg\": 617,\n\t\"./expand-more.svg\": 618,\n\t\"./facebook-box.svg\": 619,\n\t\"./facebook-invert.svg\": 275,\n\t\"./file.svg\": 620,\n\t\"./filter-add.svg\": 621,\n\t\"./filter-filled.svg\": 622,\n\t\"./filter-list.svg\": 623,\n\t\"./filter.svg\": 624,\n\t\"./firebase.svg\": 625,\n\t\"./fork.svg\": 626,\n\t\"./generic-file.svg\": 627,\n\t\"./getting-started.svg\": 628,\n\t\"./git.svg\": 629,\n\t\"./github.svg\": 630,\n\t\"./gitlab.svg\": 631,\n\t\"./google-play.svg\": 632,\n\t\"./google.svg\": 633,\n\t\"./group-circle.svg\": 634,\n\t\"./group.svg\": 635,\n\t\"./help-filled.svg\": 636,\n\t\"./help.svg\": 637,\n\t\"./info-filled.svg\": 638,\n\t\"./info.svg\": 639,\n\t\"./install-on-device.svg\": 640,\n\t\"./intercom-close.svg\": 641,\n\t\"./intercom-default.svg\": 642,\n\t\"./intune-company-portal.svg\": 643,\n\t\"./issue.svg\": 644,\n\t\"./issues-crash.svg\": 645,\n\t\"./issues-error.svg\": 646,\n\t\"./jira.svg\": 647,\n\t\"./jks-file.svg\": 648,\n\t\"./json-file.svg\": 649,\n\t\"./loading.svg\": 650,\n\t\"./lock-alt.svg\": 651,\n\t\"./lock-open.svg\": 652,\n\t\"./lock.svg\": 653,\n\t\"./locked.svg\": 654,\n\t\"./log.svg\": 655,\n\t\"./logout.svg\": 656,\n\t\"./menu.svg\": 657,\n\t\"./microsoft.svg\": 658,\n\t\"./mobile-center-logo.svg\": 659,\n\t\"./mobile-center.svg\": 660,\n\t\"./mobileprovision-file.svg\": 661,\n\t\"./more-filled.svg\": 662,\n\t\"./more.svg\": 663,\n\t\"./navigate-back.svg\": 664,\n\t\"./navigate-next.svg\": 665,\n\t\"./none.svg\": 666,\n\t\"./note.svg\": 667,\n\t\"./one-signal.svg\": 668,\n\t\"./open-in-new.svg\": 669,\n\t\"./organization.svg\": 670,\n\t\"./package.svg\": 671,\n\t\"./people.svg\": 672,\n\t\"./pfx-file.svg\": 673,\n\t\"./phone.svg\": 674,\n\t\"./playfab.svg\": 675,\n\t\"./preview.svg\": 676,\n\t\"./question-mark-outlined-large.svg\": 677,\n\t\"./question-mark-outlined-small.svg\": 678,\n\t\"./question-mark.svg\": 679,\n\t\"./refresh.svg\": 680,\n\t\"./release-disabled-details.svg\": 681,\n\t\"./release-disabled.svg\": 682,\n\t\"./release-enable-details.svg\": 683,\n\t\"./release-external-details.svg\": 684,\n\t\"./release-external.svg\": 685,\n\t\"./release-mandatory.svg\": 686,\n\t\"./release.svg\": 687,\n\t\"./remove-circle.svg\": 688,\n\t\"./remove.svg\": 689,\n\t\"./repository.svg\": 690,\n\t\"./satellite.svg\": 691,\n\t\"./search.svg\": 692,\n\t\"./self-host.svg\": 693,\n\t\"./send.svg\": 694,\n\t\"./settings.svg\": 695,\n\t\"./share.svg\": 696,\n\t\"./shared-distribution-group.svg\": 697,\n\t\"./shield.svg\": 698,\n\t\"./sign-out.svg\": 699,\n\t\"./signal-flag.svg\": 700,\n\t\"./sort-down.svg\": 701,\n\t\"./sort-up.svg\": 702,\n\t\"./spinner.svg\": 703,\n\t\"./star.svg\": 704,\n\t\"./status-cancelled.svg\": 705,\n\t\"./status-commit-built.svg\": 706,\n\t\"./status-commit-crashed.svg\": 707,\n\t\"./status-commit-empty.svg\": 708,\n\t\"./status-commit-failed.svg\": 709,\n\t\"./status-commit-none.svg\": 710,\n\t\"./status-commit-queued.svg\": 711,\n\t\"./status-commit-running.svg\": 712,\n\t\"./status-commit.svg\": 713,\n\t\"./status-crashed-outline.svg\": 714,\n\t\"./status-crashed.svg\": 715,\n\t\"./status-empty-outline.svg\": 716,\n\t\"./status-empty.svg\": 717,\n\t\"./status-error.svg\": 718,\n\t\"./status-failed-outline.svg\": 719,\n\t\"./status-failed.svg\": 720,\n\t\"./status-none-outline.svg\": 721,\n\t\"./status-none.svg\": 722,\n\t\"./status-passed-outline.svg\": 723,\n\t\"./status-passed.svg\": 724,\n\t\"./status-queued-outline.svg\": 725,\n\t\"./status-queued.svg\": 726,\n\t\"./status-running-outline.svg\": 727,\n\t\"./status-running.svg\": 728,\n\t\"./suitcase.svg\": 729,\n\t\"./support.svg\": 730,\n\t\"./test-tube.svg\": 731,\n\t\"./text-attachment.svg\": 732,\n\t\"./theme-background/check-dark-theme.svg\": 733,\n\t\"./theme-background/check-light-theme.svg\": 734,\n\t\"./theme-background/expand-more-dark-theme.svg\": 735,\n\t\"./theme-background/expand-more-light-theme.svg\": 736,\n\t\"./theme-background/search-dark-theme.svg\": 737,\n\t\"./theme-background/search-light-theme.svg\": 738,\n\t\"./time.svg\": 739,\n\t\"./transition.svg\": 740,\n\t\"./translation.svg\": 741,\n\t\"./trending-down.svg\": 742,\n\t\"./trending-unchanged.svg\": 743,\n\t\"./trending-up.svg\": 744,\n\t\"./twitter-box.svg\": 745,\n\t\"./txt-file.svg\": 746,\n\t\"./unlocked.svg\": 747,\n\t\"./upload.svg\": 748,\n\t\"./user.svg\": 749,\n\t\"./video-pause.svg\": 750,\n\t\"./video-play.svg\": 751,\n\t\"./video-stop.svg\": 752,\n\t\"./view-grid.svg\": 753,\n\t\"./view-list.svg\": 754,\n\t\"./warning-filled.svg\": 755,\n\t\"./warning.svg\": 756,\n\t\"./wifi.svg\": 757,\n\t\"./xcodeproj-file.svg\": 758,\n\t\"./zip-file.svg\": 759,\n\t\"./zoom-in.svg\": 760,\n\t\"./zoom-out.svg\": 761\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 534;","export * from \"./api-token\";\nexport * from \"./azure-subscription\";\nexport * from \"./azure-tenant\";\nexport * from \"./billing-resources\";\nexport * from \"./bugtracker\";\nexport * from \"./bugtracker-account\";\nexport * from \"./bugtracker-repo\";\nexport * from \"./device\";\nexport * from \"./export\";\nexport * from \"./org-azure-subscription\";\nexport * from \"./org-azure-tenant\";\nexport * from \"./team\";\nexport * from \"./team-member\";\nexport * from \"./webhook\";\nexport * from \"./notification-settings\";\nexport * from \"./org-compliance-setting\";\n","var map = {\n\t\"./apple-icon-invert.svg\": 274,\n\t\"./facebook-invert.svg\": 275\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 762;","import { observable, runInAction, action } from \"mobx\";\nimport { ResourceRequest } from \"./resource-request\";\nimport { Utils } from \"@root/lib/http/utils\";\nimport { config } from \"@root/lib/utils/config\";\nimport { HttpTokenUtils } from \"@root/lib/http/get-token\";\nimport { FetchError } from \"@root/lib/http/fetch-error\";\n\nconst isJSON = (request: XMLHttpRequest) => {\n  if (!request.responseText) {\n    return false;\n  }\n  if (request.responseType === \"json\") {\n    return true;\n  }\n  const contentType = request.getResponseHeader(\"content-type\");\n  return contentType && contentType.startsWith(\"application/json\");\n};\n\nexport class FormDataResourceRequest<T, U = T> extends ResourceRequest<T, U> {\n  @observable public progress?: number;\n\n  constructor(url: string, formData: FormData, getData: () => T, setData: (error: Error, data: U) => void) {\n    super(\n      HttpTokenUtils.getToken({ forceRefreshToken: false }).then((token) => {\n        return new Promise<U>((resolve, reject) => {\n          const request = new XMLHttpRequest();\n          request.open(\"POST\", Utils.isInstallSubdomain() ? config.getApiGatewayUrlInstall() : config.getApiGatewayUrl() + url);\n          request.setRequestHeader(\"Authorization\", `Bearer ${token.jwtToken}`);\n          request.addEventListener(\"load\", () => {\n            if (request.status < 200 || request.status >= 300) {\n              return reject(new FetchError(request));\n            }\n\n            if (isJSON(request)) {\n              try {\n                resolve(JSON.parse(request.responseText));\n              } catch (err) {\n                reject(err);\n              }\n            } else {\n              resolve();\n            }\n          });\n\n          request.addEventListener(\"error\", (event) => {\n            reject(new Error(\"Failed to load\"));\n          });\n\n          request.upload.addEventListener(\"progress\", (event) => {\n            if (event.lengthComputable) {\n              runInAction(() => (this.progress = event.loaded / event.total));\n            }\n          });\n\n          request.send(formData);\n        });\n      }),\n      getData,\n      setData as any\n    );\n\n    this.onSuccess(() => this.clearProgress());\n    this.onFailure(() => this.clearProgress());\n  }\n\n  private clearProgress() {\n    // Let it rest a moment; its lest jarring\n    // to see progress stay at full briefly.\n    setTimeout(\n      action(() => {\n        this.progress = undefined;\n      }),\n      200\n    );\n  }\n}\n","import { observable, set } from \"mobx\";\n\nexport class UserSettings {\n  @observable public marketing_opt_in?: \"true\" | \"false\";\n\n  constructor(values?: any) {\n    set(this, values);\n  }\n}\n","import { IApp, BeaconName, Origin, OS, PLATFORM } from \"@lib/common-interfaces\";\n\nexport type Support = ((app: IApp, beaconName: string) => boolean) | boolean | BeaconName[];\nexport type PlatformSupport = { [key in PLATFORM]?: Support };\nexport type OsSupport = { [key in OS]?: PlatformSupport | Support };\n\nexport type SupportMatrix = {\n  [key in Origin]?: OsSupport | Support;\n};\n\nconst matrix: SupportMatrix = {\n  hockeyapp: {\n    [OS.LINUX]: {\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\"],\n    },\n    [OS.IOS]: {\n      [PLATFORM.OBJECTIVE_C_SWIFT]: true,\n      [PLATFORM.XAMARIN]: true,\n      [PLATFORM.REACT_NATIVE]: true,\n      [PLATFORM.UNITY]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"settings\", \"push\"],\n      [PLATFORM.CORDOVA]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"push\"],\n      [PLATFORM.UNKNOWN]: [\"crashes\", \"analytics\"],\n    },\n    [OS.ANDROID]: {\n      [PLATFORM.JAVA]: true,\n      [PLATFORM.XAMARIN]: true,\n      [PLATFORM.REACT_NATIVE]: true,\n      [PLATFORM.UNITY]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"settings\", \"push\"],\n      [PLATFORM.CORDOVA]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"push\"],\n      [PLATFORM.UNKNOWN]: [\"analytics\"],\n    },\n    [OS.WINDOWS]: {\n      [PLATFORM.UWP]: [\"apps\", \"crashes\", \"distribute\", \"analytics\", \"build\", \"push\"],\n      [PLATFORM.WPF]: [\"apps\", \"crashes\", \"distribute\", \"analytics\"],\n      [PLATFORM.WINFORMS]: [\"apps\", \"crashes\", \"distribute\", \"analytics\"],\n      [PLATFORM.UNITY]: [\"apps\", \"distribute\", \"crashes\", \"analytics\", \"settings\", \"push\"],\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\"],\n    },\n    [OS.MACOS]: {\n      [PLATFORM.OBJECTIVE_C_SWIFT]: [\"apps\", \"crashes\", \"distribute\", \"analytics\", \"build\"],\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\"],\n    },\n    [OS.TVOS]: {\n      [PLATFORM.OBJECTIVE_C_SWIFT]: [\"apps\", \"crashes\", \"distribute\", \"analytics\"],\n    },\n    [OS.CUSTOM]: [\"apps\", \"distribute\", \"crashes\"],\n  },\n  \"mobile-center\": {\n    [OS.LINUX]: {\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\", \"crashes\"],\n    },\n    [OS.IOS]: {\n      [PLATFORM.OBJECTIVE_C_SWIFT]: true,\n      [PLATFORM.XAMARIN]: true,\n      [PLATFORM.REACT_NATIVE]: true,\n      [PLATFORM.UNITY]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"settings\", \"push\"],\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\"],\n      [PLATFORM.CORDOVA]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"push\", \"settings\"],\n    },\n    [OS.ANDROID]: {\n      [PLATFORM.JAVA]: true,\n      [PLATFORM.XAMARIN]: true,\n      [PLATFORM.REACT_NATIVE]: true,\n      [PLATFORM.UNITY]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"settings\", \"push\"],\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\"],\n      [PLATFORM.CORDOVA]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"push\", \"settings\"],\n    },\n    [OS.WINDOWS]: {\n      [PLATFORM.UWP]: [\"apps\", \"crashes\", \"distribute\", \"analytics\", \"build\", \"push\", \"settings\"],\n      [PLATFORM.UNITY]: [\"apps\", \"distribute\", \"analytics\", \"settings\", \"push\"],\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\", \"crashes\"],\n      [PLATFORM.WPF]: [\"apps\", \"crashes\", \"distribute\", \"analytics\"],\n      [PLATFORM.WINFORMS]: [\"apps\", \"crashes\", \"distribute\", \"analytics\"],\n    },\n    [OS.TIZEN]: () => false,\n    [OS.MACOS]: {\n      [PLATFORM.XAMARIN]: [\"apps\", \"crashes\", \"distribute\", \"analytics\", \"settings\"],\n      [PLATFORM.OBJECTIVE_C_SWIFT]: [\"apps\", \"crashes\", \"distribute\", \"analytics\", \"push\", \"build\", \"settings\"],\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\", \"crashes\"],\n    },\n    [OS.LINUX]: {\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\", \"crashes\"],\n    },\n    [OS.TVOS]: {\n      [PLATFORM.OBJECTIVE_C_SWIFT]: [\"apps\", \"crashes\", \"distribute\", \"analytics\", \"build\", \"settings\"],\n    },\n    [OS.CUSTOM]: [\"apps\", \"distribute\", \"crashes\"],\n  },\n  codepush: {\n    [OS.IOS]: {\n      [PLATFORM.OBJECTIVE_C_SWIFT]: true,\n      [PLATFORM.XAMARIN]: true,\n      [PLATFORM.REACT_NATIVE]: true,\n      [PLATFORM.CORDOVA]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"push\"],\n    },\n    [OS.ANDROID]: {\n      [PLATFORM.JAVA]: true,\n      [PLATFORM.XAMARIN]: true,\n      [PLATFORM.REACT_NATIVE]: true,\n      [PLATFORM.CORDOVA]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"push\"],\n    },\n    [OS.WINDOWS]: {\n      [PLATFORM.UWP]: [\"apps\", \"crashes\", \"distribute\", \"analytics\", \"build\", \"push\"],\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\"],\n    },\n    [OS.MACOS]: {\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\"],\n    },\n    [OS.LINUX]: {\n      [PLATFORM.ELECTRON]: [\"apps\", \"distribute\"],\n    },\n  },\n  testcloud: {\n    [OS.IOS]: {\n      [PLATFORM.OBJECTIVE_C_SWIFT]: true,\n      [PLATFORM.XAMARIN]: true,\n      [PLATFORM.REACT_NATIVE]: true,\n      [PLATFORM.CORDOVA]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"push\", \"settings\"],\n      [PLATFORM.UNKNOWN]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"push\", \"settings\"],\n    },\n    [OS.ANDROID]: {\n      [PLATFORM.JAVA]: true,\n      [PLATFORM.XAMARIN]: true,\n      [PLATFORM.REACT_NATIVE]: true,\n      [PLATFORM.CORDOVA]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"push\", \"settings\"],\n      [PLATFORM.UNKNOWN]: [\"apps\", \"test\", \"distribute\", \"crashes\", \"analytics\", \"push\", \"settings\"],\n    },\n  },\n  get appcenter() {\n    return this[\"mobile-center\"];\n  },\n};\n\nexport class AppSupport {\n  constructor(private supportMatrix: SupportMatrix = {}) {}\n\n  public isSupported = (app: IApp | undefined, beaconName: BeaconName | null | undefined) => {\n    if (!app) {\n      return false;\n    }\n    return this.evaluateAppSupport(this.supportMatrix, beaconName, app, [app.origin, app.os, app.platform]);\n  };\n\n  private evaluateAppSupport(appSupport, beaconName: BeaconName | null | undefined, app: IApp, appProps: (string | undefined)[]) {\n    if (!appSupport) {\n      return false;\n    } else if (typeof appSupport === \"boolean\") {\n      return appSupport;\n    } else if (typeof appSupport === \"function\") {\n      return appSupport(app, beaconName);\n    } else if (Array.isArray(appSupport)) {\n      return appSupport.includes(beaconName);\n    } else if (typeof appSupport === \"object\") {\n      const nextKey = appProps.shift()!;\n      return this.evaluateAppSupport(appSupport[nextKey], beaconName, app, appProps);\n    }\n  }\n}\n\nexport const appSupport = new AppSupport(matrix);\n","import { observable } from \"mobx\";\nimport { Model } from \"../../lib\";\n\nexport interface SerializedAPIToken {\n  id: string;\n  api_token: string;\n  description: string;\n  app_scope: string;\n  created_at: string;\n  scope: (\"all\" | \"viewer\")[];\n}\n\nexport interface DeserializedAPIToken {\n  id?: string;\n  apiToken?: string;\n  description?: string;\n  createdAt?: Date;\n  scope: SerializedAPIToken[\"scope\"][0] | null;\n}\n\nexport class APIToken extends Model<DeserializedAPIToken> implements DeserializedAPIToken {\n  // @ts-ignore. [Should fix it in the future] not null key\n  public static scopes: { [key in DeserializedAPIToken[\"scope\"]]: string } = {\n    all: \"Full Access\",\n    viewer: \"Read Only\",\n  };\n\n  public tokenType?: string;\n  @observable public id?: string;\n  @observable public description?: string;\n  @observable public createdAt?: Date;\n  @observable public apiToken?: string;\n  @observable public scope!: DeserializedAPIToken[\"scope\"];\n\n  public get humanReadableScope() {\n    return APIToken.scopes[this.scope!];\n  }\n}\n","import { Model } from \"../../lib/model\";\nimport { observable } from \"mobx\";\n\n/* Serialized interfaces */\nexport interface SerializedAllAccountsAggregatedBilling {\n  aggregatedBillings: SerializedBillingResource[];\n}\n\nexport interface SerializedBillingResource {\n  azureSubscriptionId: string;\n  azureSubscriptionState: string;\n  billingPlans: SerializedBillingPlans;\n  isAccountDeleted: boolean;\n  usage: SerializedUsage;\n  id: string;\n  accountType?: string;\n}\n\nexport interface DeserializedBillingResource extends SerializedBillingResource {\n  resourceId?: string;\n  plan?: DeserializedBillingResources;\n}\n\nexport interface SerializedBillingPlans {\n  buildService: SerializedService;\n  testService: SerializedService;\n}\n\nexport interface SerializedService {\n  currentBillingPeriod: SerializedServiceBillingPeriod;\n  nextBillingPeriod: SerializedServiceBillingPeriod;\n  canSelectTrialPlan: boolean;\n  lastTrialPlanExpirationTime: string;\n}\n\nexport interface SerializedServiceBillingPeriod {\n  startTime: string;\n  endTime: string;\n  byAccount: SerializedAccount;\n  byApp: null;\n}\n\nexport interface SerializedAccount {\n  count: number;\n  plan: SerializedPlan;\n}\n\nexport interface SerializedPlan {\n  id?: string;\n  parentId: string;\n  name: string;\n  service: string;\n  expirationTime?: string;\n  maximumDuration?: string;\n  paymentSource: PaymentSource;\n  limits: SerializedLimits;\n  attributes: SerializedAttributes;\n}\n\nexport interface SerializedLimits {\n  \"build/maximumConcurrentBuilds\"?: number;\n  \"build/maximumBuildDurationInMinutes\"?: number;\n  \"build/totalBillableMinutes\"?: number;\n  \"build/totalFailedMinutes\"?: number;\n  \"test/regular/concurrentDevices\"?: number;\n  \"test/regular/deviceHours\"?: number;\n  \"test/launch/deviceHours\"?: number;\n}\n\nexport interface SerializedAttributes {\n  \"build/unlimitedTotalBillableMinutes\"?: boolean;\n  \"test/regular/enabled\"?: boolean;\n  \"test/regular/unlimitedHours\"?: boolean;\n  \"test/launch/enabled\"?: boolean;\n}\n\nexport interface SerializedUsage {\n  buildService: SerializedUsagePeriods;\n  testService: SerializedUsagePeriods;\n}\n\nexport interface SerializedUsagePeriods {\n  currentUsagePeriod: SerializedUsagePeriod;\n  previousUsagePeriod: SerializedUsagePeriod;\n}\n\nexport interface SerializedUsagePeriod {\n  startTime: string;\n  endTime: string;\n  byAccount: SerializedUsageAccount;\n  byApp: any;\n}\n\nexport interface SerializedUsageAccount {\n  \"build/totalBillableMinutes\"?: number;\n  \"build/totalFailedMinutes\"?: number;\n  \"test/regular/deviceHours\"?: number;\n  \"test/regular/devices\"?: number;\n  \"test/regular/testRuns\"?: number;\n}\n\n/* Deserialized interfaces */\nexport interface DeserializedBillingResources {\n  test: TestBillingResources;\n  build: BuildBillingResources;\n}\n\nexport interface TestBillingResources {\n  plan: TestBillingPlan | null;\n  usage: TestBilledUsage | null;\n}\n\nexport interface BuildBillingResources {\n  plan: BuildBillingPlan | null;\n  usage: BuildBilledUsage | null;\n}\n\nexport interface TestBillingPlan {\n  id: string;\n  concurrentDevices?: number;\n  deviceHours: number;\n  unlimitedDeviceHours: boolean;\n  service: string;\n  maximumDuration: number;\n  count?: number;\n  paymentSource: PaymentSource;\n  isFreeTier: boolean;\n  isTrialPlan?: boolean;\n  canSelectTrialPlan?: boolean;\n  expirationDate?: Date;\n  lastTrialPlanExpirationDate?: Date;\n  trialDaysLeft?: number;\n  isInternal: boolean;\n  isXTCTransition: boolean;\n  isCustomOffer: boolean;\n}\n\nexport interface BuildBillingPlan {\n  id: string;\n  concurrentBuilds?: number;\n  buildHours: number;\n  unlimitedBuildHours: boolean;\n  service: string;\n  count?: number;\n  paymentSource: PaymentSource;\n  isFreeTier: boolean;\n  isInternal: boolean;\n}\n\nexport interface TestBilledUsage {\n  deviceHours: number;\n  devices: number;\n  testRuns: number;\n}\n\nexport interface BuildBilledUsage {\n  billableMins: number;\n}\n\nexport enum PaymentSource {\n  AppCenter = \"AppCenter\",\n  CustomOffer = \"CustomOffer\",\n  GitHub = \"GitHub\",\n  None = \"None\",\n  Xtc = \"Xtc\",\n}\n\ntype BillingServiceType = \"Build\" | \"Test\";\n\nexport class BillingResource extends Model<DeserializedBillingResource> implements DeserializedBillingResource {\n  /** The ID of the resource the billing plan is attached to (what was queried to retrieve it) */\n  resourceId!: string;\n  /** The unique ID of the billing plan */\n  id!: string;\n\n  /** BillingStore cast workaround*/\n  @observable azureSubscriptionId!: string;\n  @observable azureSubscriptionState!: string;\n  @observable plan!: DeserializedBillingResources;\n  @observable billingPlans!: SerializedBillingPlans;\n  @observable isAccountDeleted!: boolean;\n  @observable usage!: SerializedUsage;\n\n  get currentPlanStart(): Date | undefined {\n    // We're just working under the assumption that all services have the same start and end dates for their\n    // billing periods. $deity help us if they don't.\n    return this.billingPlans.buildService.currentBillingPeriod\n      ? new Date(this.billingPlans.buildService.currentBillingPeriod.startTime)\n      : undefined;\n  }\n\n  get currentPlanEnd(): Date | undefined {\n    // We're just working under the assumption that all services have the same start and end dates for their\n    // billing periods. $deity help us if they don't.\n    return this.billingPlans.buildService.currentBillingPeriod\n      ? new Date(this.billingPlans.buildService.currentBillingPeriod.endTime)\n      : undefined;\n  }\n\n  get nextPlanStart(): Date | undefined {\n    // We're just working under the assumption that all services have the same start and end dates for their\n    // billing periods. $deity help us if they don't.\n    return this.billingPlans.buildService.nextBillingPeriod\n      ? new Date(this.billingPlans.buildService.nextBillingPeriod.startTime)\n      : undefined;\n  }\n\n  get nextPlanEnd(): Date | undefined {\n    // We're just working under the assumption that all services have the same start and end dates for their\n    // billing periods. $deity help us if they don't.\n    return this.billingPlans.buildService.nextBillingPeriod\n      ? new Date(this.billingPlans.buildService.nextBillingPeriod.endTime)\n      : undefined;\n  }\n\n  get currentPlanIsFree(): boolean {\n    const { buildService, testService } = this.billingPlans;\n    return this.currentServicePlanIsFree(buildService, \"Build\") && this.currentServicePlanIsFree(testService, \"Test\");\n  }\n\n  private currentServicePlanIsFree(service: SerializedService, serviceType: BillingServiceType): boolean {\n    return (\n      !!service &&\n      !!service.currentBillingPeriod &&\n      service.currentBillingPeriod.byAccount.plan.parentId === `billingPlan${serviceType}Free`\n    );\n  }\n\n  get nextPlanIsFree(): boolean {\n    const { buildService, testService } = this.billingPlans;\n    return this.nextServicePlanIsFree(buildService, \"Build\") && this.nextServicePlanIsFree(testService, \"Test\");\n  }\n\n  private nextServicePlanIsFree(service: SerializedService, serviceType: BillingServiceType): boolean {\n    if (service && service.nextBillingPeriod) {\n      return service.nextBillingPeriod.byAccount.plan.parentId === `billingPlan${serviceType}Free`;\n    } else {\n      return this.currentServicePlanIsFree(service, serviceType);\n    }\n  }\n\n  get nextPlanIsDifferent(): boolean {\n    const { buildService, testService } = this.billingPlans;\n    return this.nextServicePlanIsDifferent(buildService) || this.nextServicePlanIsDifferent(testService);\n  }\n\n  private nextServicePlanIsDifferent(service: SerializedService): boolean {\n    const currentServiceCount = service.currentBillingPeriod.byAccount.count;\n    return service.nextBillingPeriod && service.nextBillingPeriod.byAccount.count !== currentServiceCount;\n  }\n\n  get nextPlanIsDowngrade(): boolean {\n    if (this.currentPlanIsFree) {\n      return false;\n    }\n    const { buildService, testService } = this.billingPlans;\n    const currentCount = this.currentCountOfService(buildService) + this.currentCountOfService(testService);\n    const newCount = this.nextCountOfService(buildService) + this.nextCountOfService(testService);\n    return newCount > 0 && newCount < currentCount;\n  }\n\n  private currentCountOfService(service: SerializedService): number {\n    if (service.currentBillingPeriod && service.currentBillingPeriod.byAccount && service.currentBillingPeriod.byAccount.count) {\n      return service.currentBillingPeriod.byAccount.count;\n    }\n    return 0;\n  }\n\n  private nextCountOfService(service: SerializedService): number {\n    if (service.nextBillingPeriod && service.nextBillingPeriod.byAccount && service.nextBillingPeriod.byAccount.count) {\n      return service.nextBillingPeriod.byAccount.count;\n    }\n    return 0;\n  }\n}\n\nexport interface BillingQuery {\n  app?: AppBillingQuery;\n  orgName?: string;\n}\n\ninterface AppBillingQuery {\n  name?: string;\n  ownerName?: string;\n}\n","import { observable, computed } from \"mobx\";\nimport { Model } from \"../../lib\";\n\nconst bugTrackerType: { [key: string]: BugTrackerType } = {\n  Github: \"github\",\n  VSTS: \"vsts\",\n  Jira: \"jira\",\n};\n\nexport function isValidBugTrackerType(type?: string): type is BugTrackerType {\n  return !!type && Object.values(bugTrackerType).includes(type as any);\n}\n\nexport type BugTrackerEventType = \"NewCrashGroupCreated\" | \"NewAppRelease\";\nexport type BugTrackerType = \"github\" | \"vsts\" | \"jira\";\nexport type BugTrackerState = \"enabled\" | \"disabled\" | \"unauthorized\";\n\nexport interface SerializedBugtrackerSettings {\n  callback_url?: string;\n  owner_name: string;\n\n  vsts_project_id?: string;\n  vsts_project_uri?: string;\n  vsts_project_name?: string;\n  vsts_account_name?: string;\n  vsts_area_path?: string;\n  vsts_default_payload?: { [key: string]: string };\n\n  github_repo_id?: string;\n  github_repo_name?: string;\n  github_repo_uri?: string;\n  github_label?: string;\n\n  jira_project_id?: string;\n  jira_project_name?: string;\n}\n\nexport interface DeserializedBugtrackerSettings {\n  callbackUrl: string;\n  ownerName: string;\n\n  vstsProjectId?: string;\n  vstsProjectUri: string;\n  vstsProjectName: string;\n  vstsAccountName: string;\n  vstsAreaPath: string;\n  vstsDefaultPayload: string;\n\n  githubRepoId?: string;\n  githubRepoName: string;\n  githubRepoUri: string;\n  githubLabel: string;\n\n  jiraProjectId?: string;\n  jiraProjectName: string;\n}\n\nexport interface SerializedBugTracker {\n  type?: string;\n  state?: BugTrackerState;\n  token_id: string;\n  event_types: BugTrackerEventType[];\n  settings?: SerializedBugtrackerSettings;\n}\n\nexport interface DeserializedBugTracker {\n  type?: BugTrackerType;\n  state?: BugTrackerState;\n  tokenId?: string;\n  settings?: Partial<DeserializedBugtrackerSettings>;\n  eventTypes?: { [key in BugTrackerEventType]: boolean };\n}\n\nexport class BugTracker extends Model<DeserializedBugTracker> implements DeserializedBugTracker {\n  @observable public type?: BugTrackerType;\n  @observable public state?: BugTrackerState;\n  @observable public tokenId?: string;\n  @observable public settings?: DeserializedBugtrackerSettings;\n  @observable public eventTypes: DeserializedBugTracker[\"eventTypes\"];\n\n  constructor(initialValues: Partial<DeserializedBugTracker> = {}) {\n    // Ensure leaves are all initialized so MobX will track them\n    const defaultSettings: Partial<DeserializedBugtrackerSettings> = {\n      callbackUrl: undefined,\n      ownerName: undefined,\n      vstsProjectId: undefined,\n      vstsProjectUri: undefined,\n      vstsProjectName: undefined,\n      vstsAccountName: undefined,\n      vstsAreaPath: undefined,\n      vstsDefaultPayload: undefined,\n      githubRepoId: undefined,\n      githubRepoName: undefined,\n      githubRepoUri: undefined,\n      githubLabel: undefined,\n      jiraProjectId: undefined,\n      jiraProjectName: undefined,\n    };\n    const defaultEventTypes: DeserializedBugTracker[\"eventTypes\"] = {\n      NewCrashGroupCreated: true,\n      NewAppRelease: false,\n    };\n\n    super({\n      state: \"enabled\",\n      ...initialValues,\n      settings: {\n        ...defaultSettings,\n        ...initialValues.settings,\n      },\n      eventTypes: {\n        ...defaultEventTypes,\n        ...initialValues.eventTypes,\n      },\n    });\n  }\n\n  @computed get isValid() {\n    const { vstsAreaPath, vstsDefaultPayload } = this.settings!;\n\n    if (this.type === \"vsts\") {\n      return (\n        vstsAreaPath &&\n        vstsAreaPath.length >= BugTracker.areaValidations.minLength &&\n        vstsAreaPath.length <= BugTracker.areaValidations.maxLength &&\n        (!vstsDefaultPayload ||\n          (vstsDefaultPayload.length <= BugTracker.payloadValidations.maxLength &&\n            BugTracker.payloadValidations.isValidPayload(null, vstsDefaultPayload)))\n      );\n    }\n\n    return true;\n  }\n\n  public static readonly areaValidations = {\n    minLength: 2,\n    maxLength: 64,\n  };\n\n  public static readonly payloadValidations = {\n    maxLength: 512,\n    isValidPayload: (_, value: string) => {\n      if (!value) {\n        return true;\n      }\n      try {\n        const json = JSON.parse(value);\n        for (value in Object.values(json)) {\n          if (typeof value !== \"string\") {\n            return false;\n          }\n        }\n\n        return true;\n      } catch (exc) {\n        return false;\n      }\n    },\n  };\n}\n","import { observable } from \"mobx\";\nimport { Model } from \"../../lib\";\nimport { BugTrackerType } from \"./bugtracker\";\n\nexport interface SerializedBugTrackerAccount {\n  access_token_id: string;\n  external_provider_name: string;\n  external_user_email: string;\n  external_account_name: string;\n}\n\nexport interface DeserializedBugTrackerAccount {\n  accessTokenId?: string;\n  externalProviderName?: BugTrackerType;\n  externalUserEmail?: string;\n  externalAccountName?: string;\n}\n\nexport class BugTrackerAccount extends Model<DeserializedBugTrackerAccount> implements DeserializedBugTrackerAccount {\n  @observable public accessTokenId?: string;\n  @observable public externalProviderName?: BugTrackerType;\n  @observable public externalUserEmail?: string;\n  @observable public externalAccountName?: string;\n}\n","import { observable } from \"mobx\";\nimport { Model } from \"../../lib\";\nimport { BugTrackerType } from \"./bugtracker\";\n\nexport interface BugTrackerOwner {\n  name: string;\n  id: string;\n  login: string;\n  avatar_url?: string;\n}\n\nexport interface BugTrackerRepo {\n  name?: string;\n  url?: BugTrackerType;\n  id?: string;\n  description?: string;\n  private?: boolean;\n  owner: BugTrackerOwner;\n}\n\nexport class BugTrackerRepo extends Model<BugTrackerRepo> implements BugTrackerRepo {\n  @observable public name?: string;\n  @observable public url?: BugTrackerType;\n  @observable public id?: string;\n  @observable public description?: string;\n  @observable public private?: boolean;\n  @observable public owner!: BugTrackerOwner;\n\n  get displayLogin() {\n    if (this.owner?.login) {\n      return this.owner.login.includes(\"@\") ? this.owner.login : `@${this.owner.login}`;\n    }\n    return \"\";\n  }\n}\n\nexport interface BugTrackerRepos {\n  type: string;\n  repositories: BugTrackerRepo[];\n}\n\nexport interface BugTrackerOwnerRepos {\n  owner: BugTrackerOwner;\n  repos: BugTrackerRepo[];\n}\n","import { observable, computed } from \"mobx\";\nimport { Model } from \"../../lib\";\n\nexport type ExportType = \"BlobStorage\" | \"AppInsights\";\nexport const ExportType = {\n  BlobStorage: \"BlobStorage\" as ExportType,\n  AppInsights: \"AppInsights\" as ExportType,\n};\n\nexport type Type =\n  | \"blob_storage_connection_string\"\n  | \"application_insights_instrumentation_key\"\n  | \"blob_storage_linked_subscription\"\n  | \"application_insights_linked_subscription\";\nexport const Type = {\n  BlobStorageConnectionString: \"blob_storage_connection_string\" as Type,\n  ApplicationInsightsInstrumentationKey: \"application_insights_instrumentation_key\" as Type,\n  BlobStorageLinkedSubscription: \"blob_storage_linked_subscription\" as Type,\n  ApplicationInsightsLinkedSubscription: \"application_insights_linked_subscription\" as Type,\n};\n\nexport type ExportState = \"Enabled\" | \"Disabled\" | \"Pending\" | \"Deleted\" | \"Invalid\";\nexport const ExportState = {\n  Enabled: \"Enabled\" as ExportState,\n  Disabled: \"Disabled\" as ExportState,\n  Pending: \"Pending\" as ExportState,\n  Deleted: \"Deleted\" as ExportState,\n  Invalid: \"Invalid\" as ExportState,\n};\n\nexport interface BaseSerializedExportConfiguration {\n  type: Type;\n  connection_string?: string;\n  instrumentation_key?: string;\n  subscription_id?: string;\n}\n\nexport interface BaseDeserializedExportConfiguration {\n  type?: Type;\n  connectionString?: string;\n  instrumentationKey?: string;\n  subscriptionId?: string;\n  resourceName?: string;\n  resourceGroup?: string;\n}\n\nexport interface SerializedExportConfiguration {\n  id: string;\n  export_type: ExportType;\n  creation_time: number;\n  last_run_time?: number;\n  state: ExportState;\n  state_info?: string;\n  resource_name?: string;\n  resource_group?: string;\n  export_configuration?: BaseSerializedExportConfiguration;\n}\n\nexport interface DeserializedExportConfiguration extends BaseDeserializedExportConfiguration {\n  id?: string;\n  exportType?: ExportType;\n  creationTime?: number;\n  lastRunTime?: number;\n  state?: ExportState;\n  stateInfo?: string;\n  resource_name?: string;\n  resource_group?: string;\n}\n\nexport class ExportConfiguration extends Model<DeserializedExportConfiguration> implements DeserializedExportConfiguration {\n  @observable public id?: string;\n  @observable public type?: Type;\n  @observable public exportType?: ExportType;\n  @observable public creationTime?: number;\n  @observable public lastRunTime?: number;\n  @observable public state?: ExportState;\n  @observable public connectionString?: string;\n  @observable public instrumentationKey?: string;\n  @observable public subscriptionId?: string;\n  @observable public resourceName?: string;\n  @observable public resourceGroup?: string;\n  @observable public stateInfo?: string;\n\n  @computed\n  public get custom() {\n    return this.instrumentationKey || this.connectionString;\n  }\n}\n\nexport class ExportConfigurationsResult {\n  public values?: SerializedExportConfiguration[];\n  public total?: number;\n}\n","import { Association } from \"../../lib/association-store\";\n\nexport class OrgAzureTenant extends Association {}\n","import { observable } from \"mobx\";\nimport { Model } from \"../../lib\";\nimport { EventType, BuildCompleteSetting } from \"@root/data/management/models/notification-settings\";\n\nexport type BuildCompleteSucceedsSetting = BuildCompleteSetting.Never | BuildCompleteSetting.OnlyFixed | BuildCompleteSetting.Always;\n\nexport type BuildCompleteFailsSetting = BuildCompleteSetting.Never | BuildCompleteSetting.OnlyBroken | BuildCompleteSetting.Always;\n\nexport interface SerializedWebhook {\n  id: string;\n  name: string;\n  url: string;\n  enabled: boolean;\n  event_types: EventType[];\n}\n\nexport interface DeserializedWebhook {\n  id?: string;\n  name?: string;\n  url?: string;\n  enabled?: boolean;\n  eventTypes?: EventType[];\n}\n\nexport class Webhook extends Model<DeserializedWebhook> implements DeserializedWebhook {\n  @observable public id?: string;\n  @observable public name?: string;\n  @observable public url?: string;\n  @observable public enabled?: boolean;\n  @observable public eventTypes?: EventType[];\n}\n\nexport interface WebhooksResult {\n  values: SerializedWebhook[];\n}\n\nexport interface WebhookPingResult {\n  response_status_code: number;\n  response_reason: string;\n}\n","import { action } from \"mobx\";\nimport { difference, uniqueId } from \"lodash\";\n\n/**\n * A class that represents a resource that can be fetched from an API.\n */\nexport abstract class Model<DeserializedT extends {}> {\n  public clientId = uniqueId(this.constructor.name);\n  /**\n   * Instantiates a model, optionally with initial values.\n   * @param initialValues A map of initial values to assign to the model upon creation.\n   */\n  constructor(initialValues?: Partial<DeserializedT>) {\n    if (initialValues) {\n      this.applyChanges(initialValues);\n    }\n  }\n\n  /**\n   * Called by `Store.update()` to apply client-side the same changes that\n   * will be sent to the server to patch the resource. Override this method to add custom behavior.\n   * @param changes The set of changes to apply to the resource.\n   */\n  @action\n  public applyChanges(changes: Partial<DeserializedT>) {\n    for (const key in changes) {\n      ((this as any) as Partial<DeserializedT>)[key] = changes[key];\n    }\n  }\n\n  /**\n   * Called by `Store.update()` to undo an optimistic `applyChanges()` call\n   * when the network request fails.\n   * @param resourceCopy A shallow copy of the resources properties before changes were applied.\n   * @param appliedChanges The set of changes that were applied that need to be reverted.\n   */\n  @action\n  public revertChanges(resourceCopy: DeserializedT, appliedChanges: Partial<DeserializedT>) {\n    const extraKeys = difference(Object.keys(appliedChanges), Object.keys(this));\n    for (const key in resourceCopy) {\n      ((this as any) as DeserializedT)[key] = resourceCopy[key];\n    }\n    extraKeys.forEach((key) => (this[key] = undefined));\n  }\n}\n"],"sourceRoot":""}